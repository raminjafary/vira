var vira;(()=>{"use strict";var e={826:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.Helmet=void 0;const r=n(223);class i extends r.Component{static SSR(e){const t=/(<helmet\b[^>]*>)((.|\n)*?)(<\/helmet>)/gm,n=[],r=[];if(null===document||void 0===document?void 0:document.head){let e=document.head.children;for(let t=0;t<e.length;t++)-1===n.indexOf(e[t])&&n.push(e[t])}let i;for(;null!=(i=t.exec(e));){const e=i[1],t=i[2];e.includes('data-placement="head"')&&!n.includes(t)?n.push(t):r.includes(t)||r.push(t)}return{body:e.replace(t,""),head:n,footer:r}}mount(){var e,t,n,i;for(const o of this.props.children){const s=this.props.footer?document.body:document.head,a=o.tagName;let c=[];c.push(o.innerText);for(let n=0;n<o.attributes.length;n++)c.push(null===(e=o.attributes.item(n))||void 0===e?void 0:e.name.toLowerCase()),c.push(null===(t=o.attributes.item(n))||void 0===t?void 0:t.value.toLowerCase());if("HTML"===a||"BODY"===a){const e=document.getElementsByTagName(a)[0];for(let t=1;t<o.attributes.length;t+=2)e.setAttribute(c[t],c[t+1]);return}if("TITLE"===a){const e=document.getElementsByTagName(a);if(e.length)e[0].text=o.text;else{const e=(0,r.h)("title",null,o.innerHTML);s.appendChild(e)}return}let l=!1;c=c.sort();const d=document.getElementsByTagName(a);for(let e=0;e<d.length;e++){let t=[];t.push(d[e].innerText);for(let r=0;r<d[e].attributes.length;r++)t.push(null===(n=d[e].attributes.item(r))||void 0===n?void 0:n.name.toLowerCase()),t.push(null===(i=d[e].attributes.item(r))||void 0===i?void 0:i.value.toLowerCase());t=t.sort(),c.length>0&&t.length>0&&JSON.stringify(c)===JSON.stringify(t)&&(l=!0)}l||(0,r.appendChildren)(s,o)}}render(){return isSSR?(0,r.h)("helmet",{"data-ssr":!0,"data-placement":this.props.footer?"footer":"head"},this.props.children):[]}}t.Helmet=i},35:function(e,t,n){var r=this&&this.__rest||function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n};Object.defineProperty(t,"__esModule",{value:!0}),t.Img=void 0;const i=n(223),o=n(930);class s extends i.Component{constructor(e){super(e);const{key:t,src:n}=this.props;this.id=(0,o.strToHash)(n)+"-"+(0,o.strToHash)(JSON.stringify(this.props)),t&&(this.id+=`$key-${t}`),this.state||this.setState({image:"",isLoaded:!1})}mount(){const e=this.props,{lazy:t=!0,placeholder:n,key:o,ref:s,children:a}=e,c=r(e,["lazy","placeholder","key","ref","children"]);t&&new IntersectionObserver(((e,t)=>{for(const n of e)n.isIntersecting&&(t.disconnect(),this.state.image=(0,i.h)("img",Object.assign({},c)),this.state.image.complete?(this.state.isLoaded=!0,this.update()):this.state.image.onload=()=>{this.state.isLoaded=!0,this.update()})}),{threshold:[0,1]}).observe(this.elements[0])}render(){const e=this.props,{lazy:t=!0,src:n,placeholder:o,key:s,ref:a,children:c}=e,l=r(e,["lazy","src","placeholder","key","ref","children"]);if(!t)return this.state.image=(0,i.h)("img",Object.assign({src:n},l)),this.state.image;if(this.state.isLoaded)return this.state.image;if("string"==typeof o)return(0,i.h)("img",Object.assign({src:o},l));if("function"==typeof o)return o();{const e={backgroundColor:"lightgray",width:"100px",height:"100px"},{width:t,height:n}=l,o=r(l,["width","height"]);return t&&(e.width=t),n&&(e.height=n),(0,i.h)("div",Object.assign({style:e},o))}}}t.Img=s},281:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.ViraLink=t.Switch=t.Route=t.Visible=t.Suspense=t.Link=t.Img=t.Helmet=void 0;var r=n(826);Object.defineProperty(t,"Helmet",{enumerable:!0,get:function(){return r.Helmet}});var i=n(35);Object.defineProperty(t,"Img",{enumerable:!0,get:function(){return i.Img}});var o=n(570);Object.defineProperty(t,"Link",{enumerable:!0,get:function(){return o.Link}});var s=n(234);Object.defineProperty(t,"Suspense",{enumerable:!0,get:function(){return s.Suspense}});var a=n(45);Object.defineProperty(t,"Visible",{enumerable:!0,get:function(){return a.Visible}});var c=n(515);Object.defineProperty(t,"Route",{enumerable:!0,get:function(){return c.Route}}),Object.defineProperty(t,"Switch",{enumerable:!0,get:function(){return c.Switch}}),Object.defineProperty(t,"ViraLink",{enumerable:!0,get:function(){return c.Link}})},570:function(e,t,n){var r=this&&this.__rest||function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n};Object.defineProperty(t,"__esModule",{value:!0}),t.Link=void 0;const i=n(223),o=n(826);class s extends i.Component{mount(){const{prefetch:e,href:t,delay:n,back:r=!1}=this.props;r&&this.elements[0].addEventListener("click",function(e){e.preventDefault(),e.target.href===document.referrer?window.history.back():window.location.href=t}.bind(this)),n&&this.elements[0].addEventListener("click",function(e){e.preventDefault(),setTimeout((()=>{window.location.href=t}),n)}.bind(this)),e&&("hover"===e?this.prefetchOnHover():"visible"===e?this.prefetchOnVisible():this.addPrefetch())}prefetchOnHover(){this.elements[0].addEventListener("mouseover",function(){this.addPrefetch()}.bind(this),{once:!0})}prefetchOnVisible(){new IntersectionObserver(((e,t)=>{for(const n of e)n.isIntersecting&&(t.disconnect(),this.addPrefetch())}),{threshold:[0,1]}).observe(this.elements[0])}addPrefetch(){let e=!1;const t=document.getElementsByTagName("link");for(const n of t)"prefetch"===n.getAttribute("rel")&&n.getAttribute("href")===this.props.href&&(e=!0);if(!e){const e=(0,i.h)("link",{rel:"prefetch",href:this.props.href,as:"document"});document.head.appendChild(e)}}render(){const e=this.props,{children:t,prefetch:n,delay:s,back:a=!1,ref:c}=e,l=r(e,["children","prefetch","delay","back","ref"]),d=(0,i.h)("a",Object.assign({},l),...t);if(n&&isSSR){const e=(0,i.h)("link",{rel:"prefetch",href:this.props.href,as:"document"}),t=(0,i.h)(o.Helmet,null,e);return(0,i.h)(i.Fragment,null,[t,d])}return d}}t.Link=s},515:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.Link=t.to=t.Route=t.Switch=void 0;const r=n(223),i=[];function o(e){window.history.pushState({},"",e);for(const e of i)e.forceUpdate()}function s(e){window.history.replaceState({},"",e);for(const e of i)e.forceUpdate()}function a(e,t){const{exact:n=!1,regex:r}=t;let i,{path:o}=t;if(!o)return{path:null,url:e,isExact:!0};let s={};if(o.includes("/:")){const t=o.split("/"),n=e.split("/");t.forEach(((e,i)=>{if(/^:/.test(e)){const o=e.slice(1),a=n[i];if(r&&r[o]&&!r[o].test(a))return null;s=Object.assign(Object.assign({},s),{[o]:a}),t[i]=n[i]}})),o=t.join("/")}if("*"===o&&(i=[e]),i||(i=new RegExp(`^${o}`).exec(e)),!i)return null;const a=i[0],c=e===a;return n&&!c?null:{path:o,url:a,isExact:c,params:s}}class c extends r.Component{constructor(){super(...arguments),this.index=0,this.path="",this.match={index:-1,path:""}}mount(){window.addEventListener("popstate",this.forceUpdate.bind(this)),i.push(this)}destroy(){i.splice(i.indexOf(this),1),window.removeEventListener("popstate",this.forceUpdate.bind(this))}forceUpdate(){this.findChild(),this.shouldUpdate()&&this.update()}findChild(){this.match={index:-1,path:""};for(const[e,t]of this.props.children.entries()){const{path:n,exact:r,regex:i}=t.props;if(a("undefined"!=typeof isSSR?_nano.location.pathname:window.location.pathname,{path:n,exact:r,regex:i}))return this.match.index=e,void(this.match.path=n)}}shouldUpdate(){return this.path!==this.match.path||this.index!==this.match.index}render(){this.findChild();const e=this.props.children[this.match.index];if(-1===this.match.index&&(this.path="",this.index=0),e){const{path:t}=e.props;this.path=t,this.index=this.match.index;const n=(0,r.renderElement)(e);return(0,r.renderElement)(n)}return this.props.fallback?(0,r.renderElement)(this.props.fallback):(0,r.h)("div",{class:"route"},"not found")}}t.Switch=c,t.Route=function({path:e,regex:t,children:n}){for(const r of n)r.props&&(r.props=Object.assign(Object.assign({},r.props),{route:{path:e,regex:t}}));return n},t.to=(e,t=!1)=>{t?s(e):o(e)},t.Link=function({to:e,replace:t,children:n}){return(0,r.h)("a",{href:e,onClick:function(n){n.preventDefault(),t?s(e):o(e)}},n)}},234:function(e,t,n){var r=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function s(e){try{c(r.next(e))}catch(e){o(e)}}function a(e){try{c(r.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}c((r=r.apply(e,t||[])).next())}))},i=this&&this.__rest||function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n};Object.defineProperty(t,"__esModule",{value:!0}),t.Suspense=void 0;const o=n(223),s=n(930);class a extends o.Component{constructor(e){super(e),this.isReady=!1;const t=this.props,{fallback:n,cache:r=!1,children:o}=t,a=i(t,["fallback","cache","children"]);this.id=(0,s.strToHash)(JSON.stringify(a,(function(e,t){return"function"==typeof t?`${t}`:t})))}mount(){return r(this,void 0,void 0,(function*(){const e=this.props,{fallback:t,cache:n=!1,children:r}=e,o=i(e,["fallback","cache","children"]);if(n&&(this.initialState={}),this.loadFromCache(n))return;const s=Object.values(o).map((e=>e())),a=yield Promise.all(s),c=this.prepareData(o,a,n);this.addDataToChildren(c),this.isReady=!0,this.update()}))}loadFromCache(e){const t=this.state&&e&&Object.keys(this.state).length;return e&&(this.addDataToChildren(this.state),this.isReady=!0),t}ssr(){const e=this.props,{fallback:t,cache:n=!1,children:r}=e,o=i(e,["fallback","cache","children"]),s=Object.values(o).map((e=>e())),a=this.prepareData(o,s,!1);this.addDataToChildren(a)}addDataToChildren(e){for(const t of this.props.children)t.props&&(t.props=Object.assign(Object.assign({},t.props),e))}prepareData(e,t,n){return Object.keys(e).reduce(((e,r,i)=>(n&&(this.state=Object.assign(Object.assign({},this.state),{[r]:t[i]})),Object.assign(Object.assign({},e),{[r]:t[i]}))),{})}render(){if("undefined"==typeof isSSR){const{cache:e=!1}=this.props;return this.loadFromCache(e),this.isReady?this.props.children:this.props.fallback}return this.ssr(),this.props.children}}t.Suspense=a},45:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.Visible=void 0;const r=n(223);class i extends r.Component{constructor(){super(...arguments),this.isVisible=!1}mount(){new IntersectionObserver(((e,t)=>{for(const n of e)n.isIntersecting&&(t.disconnect(),this.isVisible=!0,this.update())}),{threshold:[0,1]}).observe(this.elements[0])}render(){return this.isVisible?(this.props.onVisible&&this.props.onVisible(),(0,r.render)(this.props.component||this.props.children[0])):(0,r.h)("div",{"data-visible":!1,visibility:"hidden"})}}t.Visible=i},547:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.appendChildren=void 0;const r=n(223);t.appendChildren=function e(t,n){if(Array.isArray(n)){"object"==typeof n&&(n=Array.from(n));for(const i of n)if(Array.isArray(i))e(t,i);else{let n=(0,r.renderElement)(i);n&&(Array.isArray(n)?e(t,n):t.appendChild((null==n?void 0:n.nodeType)?n:document.createTextNode(""+n)))}}else e(t,[n])}},844:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.Component=void 0;const r=n(930),i=n(223);t.Component=class{constructor(e){this.props=e,this._elements=[],this.id=this._getHash()}render(e){}mount(){}beforeMount(){}destroy(){}_getHash(){}setState(e,t=!1){this.state=e&&"object"==typeof e?Object.assign(Object.assign({},this.state),e):e,t&&this.update()}get state(){return i._state.get(this.id)}set state(e){i._state.set(this.id,e)}set initialState(e){this.state||(this.state=e)}get elements(){return this._elements}set elements(e){Array.isArray(e)||(e=[e]);for(const t of e)this._elements.push(t)}addNodeRemoveListener(){/^[^{]+{\s+}$/gm.test(this.destroy.toString())||(0,r.onNodeRemove)(this.elements[0],(()=>{this._skipUnmout||this.destroy()}))}_mount(){this.addNodeRemoveListener(),this.mount()}_destory(){this._hasUnmounted||(this.destroy(),this._hasUnmounted=!0)}update(e){this._skipUnmout=!0;const t=[...this.elements];this._elements=[];let n=this.render(e);n=(0,i.renderElement)(n),this.elements=n;const o=t[0].parentElement;o||console.warn("Component needs a parent element to get updated!");for(const e of this.elements)o.insertBefore(e,t[0]);for(let e of t)e.remove(),e=null;this.addNodeRemoveListener(),(0,r.nextTick)((()=>{this._skipUnmout=!1,this.elements[0].isConnected||this._destory()}))}}},55:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.createContext=void 0,t.createContext=function(e){let t=e;return{Provider(e){if(e.value)return t=e.value,e.children},Consumer:e=>({component:e.children[0](t),props:Object.assign(Object.assign({},e),{context:t})}),get:()=>t,set(e){t=e}}}},742:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.Fragment=void 0,t.Fragment=e=>e.children},58:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.h=void 0;const r=n(930),i=n(223);t.h=function(e,t,...n){if("string"!=typeof e)return{component:e,props:Object.assign(Object.assign({},t),{children:n})};let o;const s="svg"===e?(0,i.hNS)("svg"):document.createElement(e);for(const e in t){if("style"===e&&"object"==typeof t[e]){const n=Object.keys(t[e]).map((n=>`${n}:${t[e][n]}`)).join(";").replace(/[A-Z]/g,(e=>`-${e.toLowerCase()}`));t[e]=n+";"}"ref"===e&&(o=t[e]),(0,r.isEvent)(s,e.toLowerCase())?s.addEventListener(e.toLowerCase().substring(2),(n=>t[e](n))):s.setAttribute(e,t[e])}return(0,i.appendChildren)(s,n),o&&o(s),s.ssr?s.ssr:s}},75:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.hydrate=void 0;const r=n(223);t.hydrate=function(e,t=null,n=!0){return(0,r.render)(e,t,n)}},223:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.Store=t.withStyles=t.lazyHydration=t._clearState=t._state=t.createContext=t.Fragment=t.Component=t.hydrate=t.hNS=t.renderElement=t.render=t.h=t.appendChildren=void 0;var r=n(547);Object.defineProperty(t,"appendChildren",{enumerable:!0,get:function(){return r.appendChildren}});var i=n(58);Object.defineProperty(t,"h",{enumerable:!0,get:function(){return i.h}});var o=n(455);Object.defineProperty(t,"render",{enumerable:!0,get:function(){return o.render}});var s=n(255);Object.defineProperty(t,"renderElement",{enumerable:!0,get:function(){return s.renderElement}}),Object.defineProperty(t,"hNS",{enumerable:!0,get:function(){return s.hNS}});var a=n(75);Object.defineProperty(t,"hydrate",{enumerable:!0,get:function(){return a.hydrate}});var c=n(844);Object.defineProperty(t,"Component",{enumerable:!0,get:function(){return c.Component}});var l=n(742);Object.defineProperty(t,"Fragment",{enumerable:!0,get:function(){return l.Fragment}});var d=n(55);Object.defineProperty(t,"createContext",{enumerable:!0,get:function(){return d.createContext}});var u=n(83);Object.defineProperty(t,"_state",{enumerable:!0,get:function(){return u._state}}),Object.defineProperty(t,"_clearState",{enumerable:!0,get:function(){return u._clearState}});var h=n(228);Object.defineProperty(t,"lazyHydration",{enumerable:!0,get:function(){return h.lazyHydration}});var p=n(786);Object.defineProperty(t,"withStyles",{enumerable:!0,get:function(){return p.withStyles}});var f=n(751);Object.defineProperty(t,"Store",{enumerable:!0,get:function(){return f.Store}})},228:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.lazyHydration=void 0;const r=n(281),i=n(223);t.lazyHydration=function(e,t,n=!0){const o=(0,i.h)(r.Visible,null,e);return(0,i.hydrate)(o,t,n)}},455:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.removeAllChildNodes=t.render=void 0;const r=n(223);function i(e){for(;e.firstChild;)e.removeChild(e.firstChild)}t.render=function(e,t=null,n=!0){let o=(0,r.renderElement)(e);return Array.isArray(o)&&(o=o.map((e=>(0,r.renderElement)(e))),1===o.length&&(o=o[0])),t?(n&&i(t),o&&t.id&&t.id===o.id&&t.parentElement?t.parentElement.replaceChild(o,t):Array.isArray(o)?o.map((e=>(0,r.appendChildren)(t,(0,r.renderElement)(e)))):(0,r.appendChildren)(t,(0,r.renderElement)(o)),t.ssr?t.ssr:t):"boolean"==typeof isSSR&&isSSR&&!Array.isArray(o)?[o]:o},t.removeAllChildNodes=i},255:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.hNS=t.renderElement=void 0;const r=n(930);function i(e){return document.createElementNS("http://www.w3.org/2000/svg",e)}t.renderElement=function e(t){var n;return["undefined"].includes(typeof t)||null==t?[]:"string"==typeof t?t:"number"==typeof t?""+t:(null==t?void 0:t.tagName)&&"svg"===t.tagName.toLowerCase()?function(e){const t=e.children[0],n=t.attributes,r=i("svg");for(const e of n)r.setAttribute(e.name,e.value);return r.innerHTML=t.innerHTML,r}({children:[t]}):(null==t?void 0:t.tagName)?t:t&&t.component&&t.component.prototype&&t.component.prototype.constructor&&/^class\s/.test(Function.prototype.toString.call(t.component))?function(t){const{component:n,props:i}=t,o=(0,r.strToHash)(n.toString());n.prototype._getHash=()=>o;const s=new n(i);s.beforeMount();let a=s.render();return a=e(a),s.elements=a,(null==i?void 0:i.ref)&&i.ref(s),"undefined"==typeof isSSR&&(0,r.nextTick)((()=>{s._mount()})),a}(t):t.component&&"function"==typeof t.component?function(t){const{component:n,props:r}=t;return e(n(r))}(t):Array.isArray(t)?t.map((t=>e(t))).flat():"function"==typeof t?e(t()):(null===(n=null==t?void 0:t.component)||void 0===n?void 0:n.tagName)&&"string"==typeof t.component.tagName||Array.isArray(t.component)||t.component?e(t.component):void 0},t.hNS=i},83:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t._clearState=t._state=void 0,t._state=new Map,t._clearState=function(){t._state.clear()}},751:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.Store=void 0,t.Store=class{constructor(e,t="",n="memory"){if(this._listeners=new Map,isSSR&&(n="memory"),this._id=t,this._storage=n,this._state=this._prevState=e,!this._storage||"memory"===this._storage)return;const r="local"===n?localStorage:sessionStorage,i=r.getItem(this._id);i?this._state=this._prevState=JSON.parse(i):r.setItem(this._id,JSON.stringify(e))}persist(e){"memory"!==this._storage&&("local"===this._storage?localStorage:sessionStorage).setItem(this._id,JSON.stringify(e))}clear(){this._state=this._prevState=void 0,("local"===this._storage?localStorage:sessionStorage).removeItem(this._id)}set state(e){this._prevState=this._state,this._state=e,this.persist(e),this._listeners.forEach((e=>{e(this._state,this._prevState)}))}get state(){return this._state}setState(e){this.state=e}use(){const e=Math.random().toString(36).substr(2,9),t=this;return{get state(){return t.state},setState(e){t.setState(e)},subscribe(n){t._listeners.set(e,n)},cancel(){t._listeners.delete(e)}}}}},786:function(e,t,n){var r=this&&this.__rest||function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n};Object.defineProperty(t,"__esModule",{value:!0}),t.withStyles=void 0;const i=n(281),o=n(223);t.withStyles=function(e){return function(t){return class extends o.Component{render(){const n=this.props,{children:s}=n,a=r(n,["children"]),c=(0,o.h)(i.Helmet,null,(0,o.h)("style",null,e.toString())),l=s.length?(0,o.h)(t,Object.assign({},a),s):(0,o.h)(t,Object.assign({},this.props));return(0,o.h)(o.Fragment,null,c,l)}}}}},920:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.Visible=t.Helmet=t.Img=t.ViraLink=t.Route=t.Switch=t.Link=t.Suspense=t.Store=t.lazyHydration=t.createContext=t.withStyles=t.Component=t.Fragment=t.hydrate=t.render=t.h=t.renderToString=t.nextTick=void 0;var r=n(930);Object.defineProperty(t,"nextTick",{enumerable:!0,get:function(){return r.nextTick}});var i=n(431);Object.defineProperty(t,"renderToString",{enumerable:!0,get:function(){return i.renderToString}});var o=n(223);Object.defineProperty(t,"h",{enumerable:!0,get:function(){return o.h}}),Object.defineProperty(t,"render",{enumerable:!0,get:function(){return o.render}}),Object.defineProperty(t,"hydrate",{enumerable:!0,get:function(){return o.hydrate}}),Object.defineProperty(t,"Fragment",{enumerable:!0,get:function(){return o.Fragment}}),Object.defineProperty(t,"Component",{enumerable:!0,get:function(){return o.Component}}),Object.defineProperty(t,"withStyles",{enumerable:!0,get:function(){return o.withStyles}}),Object.defineProperty(t,"createContext",{enumerable:!0,get:function(){return o.createContext}}),Object.defineProperty(t,"lazyHydration",{enumerable:!0,get:function(){return o.lazyHydration}}),Object.defineProperty(t,"Store",{enumerable:!0,get:function(){return o.Store}});var s=n(281);Object.defineProperty(t,"Suspense",{enumerable:!0,get:function(){return s.Suspense}}),Object.defineProperty(t,"Link",{enumerable:!0,get:function(){return s.Link}}),Object.defineProperty(t,"Switch",{enumerable:!0,get:function(){return s.Switch}}),Object.defineProperty(t,"Route",{enumerable:!0,get:function(){return s.Route}}),Object.defineProperty(t,"ViraLink",{enumerable:!0,get:function(){return s.ViraLink}}),Object.defineProperty(t,"Img",{enumerable:!0,get:function(){return s.Img}}),Object.defineProperty(t,"Helmet",{enumerable:!0,get:function(){return s.Helmet}}),Object.defineProperty(t,"Visible",{enumerable:!0,get:function(){return s.Visible}});const a=n(223),c=n(431);t.default={render:a.render,hydrate:a.hydrate,h:a.h,lazyHydration:a.lazyHydration,renderToString:c.renderToString,Fragment:a.Fragment}},833:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.DocumentSSR=void 0;const r=n(431);t.DocumentSSR=class{constructor(){this.body=this.createElement("body"),this.head=this.createElement("head")}createElement(e){return new r.HTMLElementSSR(e)}createElementNS(e,t){return new r.HTMLElementSSR(t)}createTextNode(e){return e}querySelector(e){}}},408:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.HTMLElementSSR=void 0,t.HTMLElementSSR=class{constructor(e){this.tagName=e,["area","base","br","col","embed","hr","img","input","link","meta","param","source","track","wbr"].indexOf(e)>=0?(this.ssr=`<${e} />`,this.selfClosing=!0):this.ssr=`<${e}></${e}>`}get outerHTML(){return this.innerText}get innerHTML(){var e,t;return null!==(t=null===(e=/(^<[a-z]+>)([\s\S]*)(<\/[a-z]+>$)/gm.exec(this.ssr))||void 0===e?void 0:e[2])&&void 0!==t?t:""}get innerText(){var e,t;return null!==(t=null===(e=/(^<[^>]+>)(.+)?(<\/[a-z]+>$|\/>$)/gm.exec(this.ssr))||void 0===e?void 0:e[2])&&void 0!==t?t:""}set innerText(e){this.ssr=this.ssr.replace(/(^<[^>]+>)(.+)?(<\/[a-z]+>$|\/>$)/gm,`$1${e}$3`)}get attributes(){return{length:1}}get children(){const e=/<([a-z]+)((?!<\/\1).)*<\/\1>/gms,t=[];let n;for(;null!==(n=e.exec(this.innerHTML));)t.push(n[0].replace(/[\s]+/gm," "));return t}setAttributeNS(e,t){this.setAttribute(e,t)}setAttribute(e,t){this.selfClosing?this.ssr=this.ssr.replace(/(^<[a-z]+ )(.+)/gm,`$1${e}="${t}" $2`):this.ssr=this.ssr.replace(/(^<[^>]+)(.+)/gm,`$1 ${e}="${t}"$2`)}appendChild(e){const t=e.ssr?e.ssr:e,n=this.ssr.lastIndexOf("</");this.ssr=this.ssr.substring(0,n)+t+this.ssr.substring(n)}replaceChild(e,t){this.innerText=e.ssr}addEventListener(e,t,n){}}},431:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.HTMLElementSSR=t.DocumentSSR=t.renderToString=void 0;var r=n(53);Object.defineProperty(t,"renderToString",{enumerable:!0,get:function(){return r.renderToString}});var i=n(833);Object.defineProperty(t,"DocumentSSR",{enumerable:!0,get:function(){return i.DocumentSSR}});var o=n(408);Object.defineProperty(t,"HTMLElementSSR",{enumerable:!0,get:function(){return o.HTMLElementSSR}})},53:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.renderToString=t.initSSR=void 0;const r=n(431),i=n(223),o=n(930);function s(e="/"){_nano.location={pathname:e},globalThis.document=isSSR?new r.DocumentSSR:window.document}globalThis.isSSR=!0===(0,o.detectSSR)()||void 0,globalThis._nano={isSSR,location:{pathname:"/"}},t.initSSR=s,t.renderToString=function(e,t={}){const{pathname:n,clearState:r=!0}=t;return s(n),r&&i._state.clear(),(0,i.render)(e,null,!0).join("")}},930:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.addStylesToHead=t.nodeToString=t.task=t.onNodeRemove=t.isDescendant=t.strToHash=t.detectSSR=t.isEvent=t.nextTick=void 0;const r=n(920);function i(e,t){return e&&(e===t||i(e.parentNode,t))}t.nextTick="function"==typeof Promise?Promise.prototype.then.bind(Promise.resolve()):setTimeout,t.isEvent=function(e,t){return 0===t.indexOf("on")&&(!!e.ssr||["function","object"].includes(typeof e[t]))},t.detectSSR=function(){return"undefined"!=typeof Deno||"undefined"==typeof window},t.strToHash=function(e){let t=0;if(!e.length)return t;for(let n=0;n<e.length;n++)t=(t<<5)-t+e.charCodeAt(n),t|=0;return Math.abs(t).toString(32)},t.isDescendant=i,t.onNodeRemove=function(e,t){let n=new MutationObserver((r=>{for(const o of r)o.removedNodes.forEach((r=>{i(e,r)&&(t(),n&&(n.disconnect(),n=void 0))}))}));return n.observe(document,{childList:!0,subtree:!0}),n},t.task=function(e){return setTimeout(e,0)},t.nodeToString=function(e){const t=document.createDocumentFragment();return t.appendChild(e.cloneNode(!0)),t.toString()},t.addStylesToHead=(e,t)=>{if(!document.querySelector(`[data-css-hash*="${t}"]`)){const n=(0,r.h)("style",{"data-css-hash":t},e);document.head.appendChild(n)}}}},t={};function n(r){var i=t[r];if(void 0!==i)return i.exports;var o=t[r]={exports:{}};return e[r].call(o.exports,o,o.exports,n),o.exports}var r={};(()=>{var e=r;const t=n(223);e.default={h:t.h,render:t.render}})(),vira=r.default})();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,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Q0FXLE9BQUEsRUFBQUEsUyIsInNvdXJjZXMiOlsid2VicGFjazovL3ZpcmEvLi9zcmMvY29tcG9uZW50cy9oZWxtZXQudHMiLCJ3ZWJwYWNrOi8vdmlyYS8uL3NyYy9jb21wb25lbnRzL2ltZy50cyIsIndlYnBhY2s6Ly92aXJhLy4vc3JjL2NvbXBvbmVudHMvaW5kZXgudHMiLCJ3ZWJwYWNrOi8vdmlyYS8uL3NyYy9jb21wb25lbnRzL2xpbmsudHMiLCJ3ZWJwYWNrOi8vdmlyYS8uL3NyYy9jb21wb25lbnRzL3JvdXRlci50cyIsIndlYnBhY2s6Ly92aXJhLy4vc3JjL2NvbXBvbmVudHMvc3VzcGVuc2UudHMiLCJ3ZWJwYWNrOi8vdmlyYS8uL3NyYy9jb21wb25lbnRzL3Zpc2libGUudHMiLCJ3ZWJwYWNrOi8vdmlyYS8uL3NyYy9jb3JlL2FwcGVuZENoaWxkcmVuLnRzIiwid2VicGFjazovL3ZpcmEvLi9zcmMvY29yZS9jb21wb25lbnQudHMiLCJ3ZWJwYWNrOi8vdmlyYS8uL3NyYy9jb3JlL2NvbnRleHQudHMiLCJ3ZWJwYWNrOi8vdmlyYS8uL3NyYy9jb3JlL2ZyYWdtZW50LnRzIiwid2VicGFjazovL3ZpcmEvLi9zcmMvY29yZS9oLnRzIiwid2VicGFjazovL3ZpcmEvLi9zcmMvY29yZS9oeWRyYXRlLnRzIiwid2VicGFjazovL3ZpcmEvLi9zcmMvY29yZS9pbmRleC50cyIsIndlYnBhY2s6Ly92aXJhLy4vc3JjL2NvcmUvbGF6eUh5ZHJhdGlvbi50cyIsIndlYnBhY2s6Ly92aXJhLy4vc3JjL2NvcmUvcmVuZGVyLnRzIiwid2VicGFjazovL3ZpcmEvLi9zcmMvY29yZS9yZW5kZXJFbGVtZW50LnRzIiwid2VicGFjazovL3ZpcmEvLi9zcmMvY29yZS9zdGF0ZS50cyIsIndlYnBhY2s6Ly92aXJhLy4vc3JjL2NvcmUvc3RvcmUudHMiLCJ3ZWJwYWNrOi8vdmlyYS8uL3NyYy9jb3JlL3dpdGhTdHlsZXMudHMiLCJ3ZWJwYWNrOi8vdmlyYS8uL3NyYy9pbmRleC50cyIsIndlYnBhY2s6Ly92aXJhLy4vc3JjL3Nzci9kb2N1bWVudC50cyIsIndlYnBhY2s6Ly92aXJhLy4vc3JjL3Nzci9lbGVtZW50cy50cyIsIndlYnBhY2s6Ly92aXJhLy4vc3JjL3Nzci9pbmRleC50cyIsIndlYnBhY2s6Ly92aXJhLy4vc3JjL3Nzci9yZW5kZXJUb1N0cmluZy50cyIsIndlYnBhY2s6Ly92aXJhLy4vc3JjL3V0aWxzLnRzIiwid2VicGFjazovL3ZpcmEvd2VicGFjay9ib290c3RyYXAiLCJ3ZWJwYWNrOi8vdmlyYS8uL3NyYy9idW5kbGVzL2NvcmUudHMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgYXBwZW5kQ2hpbGRyZW4sIENvbXBvbmVudCwgaCB9IGZyb20gXCIuLi9jb3JlXCI7XG5cbmV4cG9ydCBjbGFzcyBIZWxtZXQgZXh0ZW5kcyBDb21wb25lbnQge1xuICBzdGF0aWMgU1NSKGJvZHk6IHN0cmluZykge1xuICAgIGNvbnN0IHJlZyA9IC8oPGhlbG1ldFxcYltePl0qPikoKC58XFxuKSo/KSg8XFwvaGVsbWV0PikvZ207XG5cbiAgICBjb25zdCBoZWFkOiBzdHJpbmdbXSA9IFtdO1xuICAgIGNvbnN0IGZvb3Rlcjogc3RyaW5nW10gPSBbXTtcblxuICAgIGlmIChkb2N1bWVudD8uaGVhZCkge1xuICAgICAgbGV0IGNoaWxkcmVuID0gZG9jdW1lbnQuaGVhZC5jaGlsZHJlbiBhcyB1bmtub3duIGFzIHN0cmluZ1tdO1xuXG4gICAgICBmb3IgKGxldCBpID0gMDsgaSA8IGNoaWxkcmVuLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgIGlmIChoZWFkLmluZGV4T2YoY2hpbGRyZW5baV0pID09PSAtMSkge1xuICAgICAgICAgIGhlYWQucHVzaChjaGlsZHJlbltpXSk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG5cbiAgICBsZXQgcmVzdWx0O1xuXG4gICAgd2hpbGUgKChyZXN1bHQgPSByZWcuZXhlYyhib2R5KSkgIT0gbnVsbCkge1xuICAgICAgY29uc3QgZmlyc3QgPSByZXN1bHRbMV07XG4gICAgICBjb25zdCBzZWNvbmQgPSByZXN1bHRbMl07XG5cbiAgICAgIGNvbnN0IHRvSGVhZCA9IGZpcnN0LmluY2x1ZGVzKCdkYXRhLXBsYWNlbWVudD1cImhlYWRcIicpO1xuXG4gICAgICBpZiAodG9IZWFkICYmICFoZWFkLmluY2x1ZGVzKHNlY29uZCkpIGhlYWQucHVzaChzZWNvbmQpO1xuICAgICAgZWxzZSBpZiAoIWZvb3Rlci5pbmNsdWRlcyhzZWNvbmQpKSBmb290ZXIucHVzaChzZWNvbmQpO1xuICAgIH1cblxuICAgIGNvbnN0IGNsZWFuQm9keSA9IGJvZHkucmVwbGFjZShyZWcsIFwiXCIpO1xuICAgIHJldHVybiB7XG4gICAgICBib2R5OiBjbGVhbkJvZHksXG4gICAgICBoZWFkLFxuICAgICAgZm9vdGVyLFxuICAgIH07XG4gIH1cblxuICBtb3VudCgpIHtcbiAgICBmb3IgKGNvbnN0IGVsZW1lbnQgb2YgdGhpcy5wcm9wcy5jaGlsZHJlbikge1xuICAgICAgY29uc3QgcGFyZW50ID0gdGhpcy5wcm9wcy5mb290ZXIgPyBkb2N1bWVudC5ib2R5IDogZG9jdW1lbnQuaGVhZDtcbiAgICAgIGNvbnN0IHRhZyA9IChlbGVtZW50IGFzIEhUTUxFbGVtZW50KS50YWdOYW1lO1xuICAgICAgbGV0IGF0dHJzOiBzdHJpbmdbXSA9IFtdO1xuXG4gICAgICBhdHRycy5wdXNoKGVsZW1lbnQuaW5uZXJUZXh0KTtcblxuICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBlbGVtZW50LmF0dHJpYnV0ZXMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgYXR0cnMucHVzaChlbGVtZW50LmF0dHJpYnV0ZXMuaXRlbShpKT8ubmFtZS50b0xvd2VyQ2FzZSgpKTtcbiAgICAgICAgYXR0cnMucHVzaChlbGVtZW50LmF0dHJpYnV0ZXMuaXRlbShpKT8udmFsdWUudG9Mb3dlckNhc2UoKSk7XG4gICAgICB9XG5cbiAgICAgIGlmICh0YWcgPT09IFwiSFRNTFwiIHx8IHRhZyA9PT0gXCJCT0RZXCIpIHtcbiAgICAgICAgY29uc3QgaHRtbFRhZyA9IGRvY3VtZW50LmdldEVsZW1lbnRzQnlUYWdOYW1lKHRhZylbMF07XG4gICAgICAgIGZvciAobGV0IGkgPSAxOyBpIDwgZWxlbWVudC5hdHRyaWJ1dGVzLmxlbmd0aDsgaSArPSAyKSB7XG4gICAgICAgICAgaHRtbFRhZy5zZXRBdHRyaWJ1dGUoYXR0cnNbaV0sIGF0dHJzW2kgKyAxXSk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuO1xuICAgICAgfSBlbHNlIGlmICh0YWcgPT09IFwiVElUTEVcIikge1xuICAgICAgICBjb25zdCB0aXRsZVRhZyA9IGRvY3VtZW50LmdldEVsZW1lbnRzQnlUYWdOYW1lKFxuICAgICAgICAgIHRhZyxcbiAgICAgICAgKSBhcyBIVE1MQ29sbGVjdGlvbk9mPEhUTUxUaXRsZUVsZW1lbnQ+O1xuXG4gICAgICAgIGlmICh0aXRsZVRhZy5sZW5ndGgpIHtcbiAgICAgICAgICB0aXRsZVRhZ1swXS50ZXh0ID0gZWxlbWVudC50ZXh0O1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIGNvbnN0IHRpdGxlVGFnID0gaChcbiAgICAgICAgICAgIFwidGl0bGVcIixcbiAgICAgICAgICAgIG51bGwsXG4gICAgICAgICAgICBlbGVtZW50LmlubmVySFRNTCxcbiAgICAgICAgICApIGFzIEhUTUxUaXRsZUVsZW1lbnQ7XG4gICAgICAgICAgcGFyZW50LmFwcGVuZENoaWxkKHRpdGxlVGFnKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm47XG4gICAgICB9XG5cbiAgICAgIGxldCBleGlzdHMgPSBmYWxzZTtcbiAgICAgIGF0dHJzID0gYXR0cnMuc29ydCgpO1xuXG4gICAgICBjb25zdCBlbCA9IGRvY3VtZW50LmdldEVsZW1lbnRzQnlUYWdOYW1lKFxuICAgICAgICB0YWcsXG4gICAgICApIGFzIEhUTUxDb2xsZWN0aW9uT2Y8SFRNTEVsZW1lbnQ+O1xuXG4gICAgICBmb3IgKGxldCBpID0gMDsgaSA8IGVsLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgIGxldCBhdHRyczI6IHN0cmluZ1tdID0gW107XG5cbiAgICAgICAgYXR0cnMyLnB1c2goZWxbaV0uaW5uZXJUZXh0KTtcblxuICAgICAgICBmb3IgKGxldCBqID0gMDsgaiA8IGVsW2ldLmF0dHJpYnV0ZXMubGVuZ3RoOyBqKyspIHtcbiAgICAgICAgICBhdHRyczIucHVzaChlbFtpXS5hdHRyaWJ1dGVzLml0ZW0oaik/Lm5hbWUudG9Mb3dlckNhc2UoKSBhcyBzdHJpbmcpO1xuICAgICAgICAgIGF0dHJzMi5wdXNoKGVsW2ldLmF0dHJpYnV0ZXMuaXRlbShqKT8udmFsdWUudG9Mb3dlckNhc2UoKSBhcyBzdHJpbmcpO1xuICAgICAgICB9XG4gICAgICAgIGF0dHJzMiA9IGF0dHJzMi5zb3J0KCk7XG5cbiAgICAgICAgaWYgKFxuICAgICAgICAgIGF0dHJzLmxlbmd0aCA+IDAgJiZcbiAgICAgICAgICBhdHRyczIubGVuZ3RoID4gMCAmJlxuICAgICAgICAgIEpTT04uc3RyaW5naWZ5KGF0dHJzKSA9PT0gSlNPTi5zdHJpbmdpZnkoYXR0cnMyKVxuICAgICAgICApXG4gICAgICAgICAgZXhpc3RzID0gdHJ1ZTtcbiAgICAgIH1cblxuICAgICAgaWYgKCFleGlzdHMpIHtcbiAgICAgICAgYXBwZW5kQ2hpbGRyZW4ocGFyZW50LCBlbGVtZW50KTtcbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICByZW5kZXIoKSB7XG4gICAgaWYgKGlzU1NSKSB7XG4gICAgICByZXR1cm4gaChcbiAgICAgICAgXCJoZWxtZXRcIixcbiAgICAgICAge1xuICAgICAgICAgIFwiZGF0YS1zc3JcIjogdHJ1ZSxcbiAgICAgICAgICBcImRhdGEtcGxhY2VtZW50XCI6IHRoaXMucHJvcHMuZm9vdGVyID8gXCJmb290ZXJcIiA6IFwiaGVhZFwiLFxuICAgICAgICB9LFxuICAgICAgICB0aGlzLnByb3BzLmNoaWxkcmVuLFxuICAgICAgKTtcbiAgICB9IGVsc2Uge1xuICAgICAgcmV0dXJuIFtdO1xuICAgIH1cbiAgfVxufVxuIiwiaW1wb3J0IHsgQ29tcG9uZW50LCBoIH0gZnJvbSBcIi4uL2NvcmVcIjtcbmltcG9ydCB7IHN0clRvSGFzaCB9IGZyb20gXCIuLi91dGlsc1wiO1xuXG5leHBvcnQgY2xhc3MgSW1nIGV4dGVuZHMgQ29tcG9uZW50IHtcbiAgY29uc3RydWN0b3IocHJvcHM6IGFueSkge1xuICAgIHN1cGVyKHByb3BzKTtcblxuICAgIGNvbnN0IHsga2V5LCBzcmMgfSA9IHRoaXMucHJvcHM7XG4gICAgdGhpcy5pZCA9IHN0clRvSGFzaChzcmMpICsgXCItXCIgKyBzdHJUb0hhc2goSlNPTi5zdHJpbmdpZnkodGhpcy5wcm9wcykpO1xuICAgIGlmIChrZXkpIHtcbiAgICAgIHRoaXMuaWQgKz0gYCRrZXktJHtrZXl9YDtcbiAgICB9XG5cbiAgICBpZiAoIXRoaXMuc3RhdGUpIHtcbiAgICAgIHRoaXMuc2V0U3RhdGUoeyBpbWFnZTogXCJcIiwgaXNMb2FkZWQ6IGZhbHNlIH0pO1xuICAgIH1cbiAgfVxuXG4gIG1vdW50KCkge1xuICAgIGNvbnN0IHtcbiAgICAgIGxhenkgPSB0cnVlLFxuICAgICAgcGxhY2Vob2xkZXIsXG4gICAgICBrZXksXG4gICAgICByZWYsXG4gICAgICBjaGlsZHJlbixcbiAgICAgIC4uLnJlc3RcbiAgICB9ID0gdGhpcy5wcm9wcztcblxuICAgIGlmICghbGF6eSkgcmV0dXJuO1xuXG4gICAgY29uc3Qgb2JzZXJ2ZXIgPSBuZXcgSW50ZXJzZWN0aW9uT2JzZXJ2ZXIoXG4gICAgICAoZW50cmllcywgb2JzZXJ2ZXIpID0+IHtcbiAgICAgICAgZm9yIChjb25zdCBlbnRyeSBvZiBlbnRyaWVzKSB7XG4gICAgICAgICAgaWYgKGVudHJ5LmlzSW50ZXJzZWN0aW5nKSB7XG4gICAgICAgICAgICBvYnNlcnZlci5kaXNjb25uZWN0KCk7XG4gICAgICAgICAgICB0aGlzLnN0YXRlLmltYWdlID0gaChcImltZ1wiLCB7IC4uLnJlc3QgfSk7XG4gICAgICAgICAgICBpZiAodGhpcy5zdGF0ZS5pbWFnZS5jb21wbGV0ZSkge1xuICAgICAgICAgICAgICB0aGlzLnN0YXRlLmlzTG9hZGVkID0gdHJ1ZTtcbiAgICAgICAgICAgICAgdGhpcy51cGRhdGUoKTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgIHRoaXMuc3RhdGUuaW1hZ2Uub25sb2FkID0gKCkgPT4ge1xuICAgICAgICAgICAgICAgIHRoaXMuc3RhdGUuaXNMb2FkZWQgPSB0cnVlO1xuICAgICAgICAgICAgICAgIHRoaXMudXBkYXRlKCk7XG4gICAgICAgICAgICAgIH07XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9LFxuICAgICAgeyB0aHJlc2hvbGQ6IFswLCAxXSB9LFxuICAgICk7XG5cbiAgICBvYnNlcnZlci5vYnNlcnZlKHRoaXMuZWxlbWVudHNbMF0pO1xuICB9XG5cbiAgcmVuZGVyKCkge1xuICAgIGNvbnN0IHtcbiAgICAgIGxhenkgPSB0cnVlLFxuICAgICAgc3JjLFxuICAgICAgcGxhY2Vob2xkZXIsXG4gICAgICBrZXksXG4gICAgICByZWYsXG4gICAgICBjaGlsZHJlbixcbiAgICAgIC4uLnJlc3RcbiAgICB9ID0gdGhpcy5wcm9wcztcblxuICAgIGlmICghbGF6eSkge1xuICAgICAgdGhpcy5zdGF0ZS5pbWFnZSA9IGgoXCJpbWdcIiwgeyBzcmMsIC4uLnJlc3QgfSk7XG4gICAgICByZXR1cm4gdGhpcy5zdGF0ZS5pbWFnZTtcbiAgICB9XG5cbiAgICBpZiAodGhpcy5zdGF0ZS5pc0xvYWRlZCkge1xuICAgICAgcmV0dXJuIHRoaXMuc3RhdGUuaW1hZ2U7XG4gICAgfSBlbHNlIGlmICh0eXBlb2YgcGxhY2Vob2xkZXIgPT09IFwic3RyaW5nXCIpIHtcbiAgICAgIHJldHVybiBoKFwiaW1nXCIsIHsgc3JjOiBwbGFjZWhvbGRlciwgLi4ucmVzdCB9KTtcbiAgICB9IGVsc2UgaWYgKHR5cGVvZiBwbGFjZWhvbGRlciA9PT0gXCJmdW5jdGlvblwiKSB7XG4gICAgICByZXR1cm4gcGxhY2Vob2xkZXIoKTtcbiAgICB9IGVsc2Uge1xuICAgICAgY29uc3Qgc3R5bGUgPSB7XG4gICAgICAgIGJhY2tncm91bmRDb2xvcjogXCJsaWdodGdyYXlcIixcbiAgICAgICAgd2lkdGg6IFwiMTAwcHhcIixcbiAgICAgICAgaGVpZ2h0OiBcIjEwMHB4XCIsXG4gICAgICB9O1xuXG4gICAgICBjb25zdCB7IHdpZHRoLCBoZWlnaHQsIC4uLm90aGVycyB9ID0gcmVzdDtcbiAgICAgIGlmICh3aWR0aCkge1xuICAgICAgICBzdHlsZS53aWR0aCA9IHdpZHRoO1xuICAgICAgfVxuICAgICAgaWYgKGhlaWdodCkge1xuICAgICAgICBzdHlsZS5oZWlnaHQgPSBoZWlnaHQ7XG4gICAgICB9XG4gICAgICByZXR1cm4gaChcImRpdlwiLCB7IHN0eWxlLCAuLi5vdGhlcnMgfSk7XG4gICAgfVxuICB9XG59XG4iLCJleHBvcnQgeyBIZWxtZXQgfSBmcm9tIFwiLi9oZWxtZXRcIjtcbmV4cG9ydCB7IEltZyB9IGZyb20gXCIuL2ltZ1wiO1xuZXhwb3J0IHsgTGluayB9IGZyb20gXCIuL2xpbmtcIjtcbmV4cG9ydCB7IFN1c3BlbnNlIH0gZnJvbSBcIi4vc3VzcGVuc2VcIjtcbmV4cG9ydCB7IFZpc2libGUgfSBmcm9tIFwiLi92aXNpYmxlXCI7XG5leHBvcnQgeyBSb3V0ZSwgU3dpdGNoLCBMaW5rIGFzIFZpcmFMaW5rIH0gZnJvbSBcIi4vcm91dGVyXCI7XG4iLCJpbXBvcnQgeyBDb21wb25lbnQsIEZyYWdtZW50LCBoIH0gZnJvbSBcIi4uL2NvcmVcIjtcbmltcG9ydCB7IEhlbG1ldCB9IGZyb20gXCIuL2hlbG1ldFwiO1xuXG5leHBvcnQgY2xhc3MgTGluayBleHRlbmRzIENvbXBvbmVudCB7XG4gIG1vdW50KCkge1xuICAgIGNvbnN0IHsgcHJlZmV0Y2gsIGhyZWYsIGRlbGF5LCBiYWNrID0gZmFsc2UgfSA9IHRoaXMucHJvcHM7XG5cbiAgICBpZiAoYmFjaykge1xuICAgICAgdGhpcy5lbGVtZW50c1swXS5hZGRFdmVudExpc3RlbmVyKFxuICAgICAgICBcImNsaWNrXCIsXG4gICAgICAgIGZ1bmN0aW9uIG9uQ2xpY2sodGhpczogTGluaywgZTogRXZlbnQpIHtcbiAgICAgICAgICBlLnByZXZlbnREZWZhdWx0KCk7XG4gICAgICAgICAgY29uc3QgdGFyZ2V0ID0gZS50YXJnZXQgYXMgSFRNTExpbmtFbGVtZW50O1xuICAgICAgICAgIGlmICh0YXJnZXQuaHJlZiA9PT0gZG9jdW1lbnQucmVmZXJyZXIpIHtcbiAgICAgICAgICAgIHdpbmRvdy5oaXN0b3J5LmJhY2soKTtcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgd2luZG93LmxvY2F0aW9uLmhyZWYgPSBocmVmO1xuICAgICAgICAgIH1cbiAgICAgICAgfS5iaW5kKHRoaXMpLFxuICAgICAgKTtcbiAgICB9XG5cbiAgICBpZiAoZGVsYXkpIHtcbiAgICAgIHRoaXMuZWxlbWVudHNbMF0uYWRkRXZlbnRMaXN0ZW5lcihcbiAgICAgICAgXCJjbGlja1wiLFxuICAgICAgICBmdW5jdGlvbiBvbkNsaWNrKHRoaXM6IExpbmssIGU6IEV2ZW50KSB7XG4gICAgICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgICAgIHNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgICAgICAgd2luZG93LmxvY2F0aW9uLmhyZWYgPSBocmVmO1xuICAgICAgICAgIH0sIGRlbGF5KTtcbiAgICAgICAgfS5iaW5kKHRoaXMpLFxuICAgICAgKTtcbiAgICB9XG5cbiAgICBpZiAocHJlZmV0Y2gpIHtcbiAgICAgIGlmIChwcmVmZXRjaCA9PT0gXCJob3ZlclwiKSB7XG4gICAgICAgIHRoaXMucHJlZmV0Y2hPbkhvdmVyKCk7XG4gICAgICB9IGVsc2UgaWYgKHByZWZldGNoID09PSBcInZpc2libGVcIikge1xuICAgICAgICB0aGlzLnByZWZldGNoT25WaXNpYmxlKCk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICB0aGlzLmFkZFByZWZldGNoKCk7XG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgcHJlZmV0Y2hPbkhvdmVyKCkge1xuICAgIHRoaXMuZWxlbWVudHNbMF0uYWRkRXZlbnRMaXN0ZW5lcihcbiAgICAgIFwibW91c2VvdmVyXCIsXG4gICAgICBmdW5jdGlvbiBvbkhvdmVyKHRoaXM6IExpbmspIHtcbiAgICAgICAgdGhpcy5hZGRQcmVmZXRjaCgpO1xuICAgICAgfS5iaW5kKHRoaXMpLFxuICAgICAgeyBvbmNlOiB0cnVlIH0sXG4gICAgKTtcbiAgfVxuXG4gIHByZWZldGNoT25WaXNpYmxlKCkge1xuICAgIGNvbnN0IG9ic2VydmVyID0gbmV3IEludGVyc2VjdGlvbk9ic2VydmVyKFxuICAgICAgKGVudHJpZXMsIG9ic2VydmVyKSA9PiB7XG4gICAgICAgIGZvciAoY29uc3QgZW50cnkgb2YgZW50cmllcykge1xuICAgICAgICAgIGlmIChlbnRyeS5pc0ludGVyc2VjdGluZykge1xuICAgICAgICAgICAgb2JzZXJ2ZXIuZGlzY29ubmVjdCgpO1xuICAgICAgICAgICAgdGhpcy5hZGRQcmVmZXRjaCgpO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfSxcbiAgICAgIHsgdGhyZXNob2xkOiBbMCwgMV0gfSxcbiAgICApO1xuICAgIG9ic2VydmVyLm9ic2VydmUodGhpcy5lbGVtZW50c1swXSk7XG4gIH1cblxuICBhZGRQcmVmZXRjaCgpIHtcbiAgICBsZXQgZXhpc3RzID0gZmFsc2U7XG5cbiAgICBjb25zdCBsaW5rcyA9IGRvY3VtZW50LmdldEVsZW1lbnRzQnlUYWdOYW1lKFwibGlua1wiKTtcblxuICAgIGZvciAoY29uc3QgbGluayBvZiBsaW5rcykge1xuICAgICAgaWYgKFxuICAgICAgICBsaW5rLmdldEF0dHJpYnV0ZShcInJlbFwiKSA9PT0gXCJwcmVmZXRjaFwiICYmXG4gICAgICAgIGxpbmsuZ2V0QXR0cmlidXRlKFwiaHJlZlwiKSA9PT0gdGhpcy5wcm9wcy5ocmVmXG4gICAgICApIHtcbiAgICAgICAgZXhpc3RzID0gdHJ1ZTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICBpZiAoIWV4aXN0cykge1xuICAgICAgY29uc3QgcHJlZmV0Y2ggPSBoKFwibGlua1wiLCB7XG4gICAgICAgIHJlbDogXCJwcmVmZXRjaFwiLFxuICAgICAgICBocmVmOiB0aGlzLnByb3BzLmhyZWYsXG4gICAgICAgIGFzOiBcImRvY3VtZW50XCIsXG4gICAgICB9KTtcbiAgICAgIGRvY3VtZW50LmhlYWQuYXBwZW5kQ2hpbGQocHJlZmV0Y2gpO1xuICAgIH1cbiAgfVxuXG4gIHJlbmRlcigpIHtcbiAgICBjb25zdCB7XG4gICAgICBjaGlsZHJlbixcbiAgICAgIHByZWZldGNoLFxuICAgICAgZGVsYXksXG4gICAgICBiYWNrID0gZmFsc2UsXG4gICAgICByZWYsXG4gICAgICAuLi5yZXN0XG4gICAgfSA9IHRoaXMucHJvcHM7XG5cbiAgICBjb25zdCBhID0gaChcImFcIiwgeyAuLi5yZXN0IH0sIC4uLmNoaWxkcmVuKTtcblxuICAgIGlmIChwcmVmZXRjaCAmJiBpc1NTUikge1xuICAgICAgY29uc3QgbGluayA9IGgoXCJsaW5rXCIsIHtcbiAgICAgICAgcmVsOiBcInByZWZldGNoXCIsXG4gICAgICAgIGhyZWY6IHRoaXMucHJvcHMuaHJlZixcbiAgICAgICAgYXM6IFwiZG9jdW1lbnRcIixcbiAgICAgIH0pO1xuICAgICAgY29uc3QgaGVsbWV0ID0gaChIZWxtZXQsIG51bGwsIGxpbmspO1xuICAgICAgcmV0dXJuIGgoRnJhZ21lbnQsIG51bGwsIFtoZWxtZXQsIGFdKTtcbiAgICB9IGVsc2Uge1xuICAgICAgcmV0dXJuIGE7XG4gICAgfVxuICB9XG59XG4iLCJpbXBvcnQgeyBoLCByZW5kZXJFbGVtZW50LCBDb21wb25lbnQgfSBmcm9tIFwiLi4vY29yZVwiO1xuXG5jb25zdCBpbnN0YW5jZXM6IGFueVtdID0gW107XG5cbmZ1bmN0aW9uIHJlZ2lzdGVyKGNvbXA6IGFueSkge1xuICBpbnN0YW5jZXMucHVzaChjb21wKTtcbn1cblxuZnVuY3Rpb24gdW5yZWdpc3Rlcihjb21wOiBhbnkpIHtcbiAgaW5zdGFuY2VzLnNwbGljZShpbnN0YW5jZXMuaW5kZXhPZihjb21wKSwgMSk7XG59XG5cbmZ1bmN0aW9uIGhpc3RvcnlQdXNoKHBhdGg6IHN0cmluZykge1xuICB3aW5kb3cuaGlzdG9yeS5wdXNoU3RhdGUoe30sIFwiXCIsIHBhdGgpO1xuICBmb3IgKGNvbnN0IGluc3RhbmNlIG9mIGluc3RhbmNlcykge1xuICAgIGluc3RhbmNlLmZvcmNlVXBkYXRlKCk7XG4gIH1cbn1cblxuZnVuY3Rpb24gaGlzdG9yeVJlcGxhY2UocGF0aDogc3RyaW5nKSB7XG4gIHdpbmRvdy5oaXN0b3J5LnJlcGxhY2VTdGF0ZSh7fSwgXCJcIiwgcGF0aCk7XG4gIGZvciAoY29uc3QgaW5zdGFuY2Ugb2YgaW5zdGFuY2VzKSB7XG4gICAgaW5zdGFuY2UuZm9yY2VVcGRhdGUoKTtcbiAgfVxufVxuXG5mdW5jdGlvbiBtYXRjaFBhdGgoXG4gIHBhdGhuYW1lOiBzdHJpbmcsXG4gIG9wdGlvbnM6IHtcbiAgICBleGFjdD86IGJvb2xlYW47XG4gICAgcGF0aDogc3RyaW5nO1xuICAgIHJlZ2V4PzogeyBbcGFyYW06IHN0cmluZ106IFJlZ0V4cCB9O1xuICB9LFxuKSB7XG4gIGNvbnN0IHsgZXhhY3QgPSBmYWxzZSwgcmVnZXggfSA9IG9wdGlvbnM7XG4gIGxldCB7IHBhdGggfSA9IG9wdGlvbnM7XG5cbiAgaWYgKCFwYXRoKSB7XG4gICAgcmV0dXJuIHtcbiAgICAgIHBhdGg6IG51bGwsXG4gICAgICB1cmw6IHBhdGhuYW1lLFxuICAgICAgaXNFeGFjdDogdHJ1ZSxcbiAgICB9O1xuICB9XG5cbiAgbGV0IG1hdGNoO1xuICBsZXQgcGFyYW1zID0ge307XG5cbiAgLy8gcGF0aCB3aXRoIHBhcmFtc1xuICBpZiAocGF0aC5pbmNsdWRlcyhcIi86XCIpKSB7XG4gICAgY29uc3QgcGF0aEFyciA9IHBhdGguc3BsaXQoXCIvXCIpO1xuICAgIGNvbnN0IHBhdGhuYW1lQXJyID0gcGF0aG5hbWUuc3BsaXQoXCIvXCIpO1xuICAgIHBhdGhBcnIuZm9yRWFjaCgocCwgaSkgPT4ge1xuICAgICAgaWYgKC9eOi8udGVzdChwKSkge1xuICAgICAgICBjb25zdCBrZXkgPSBwLnNsaWNlKDEpO1xuICAgICAgICBjb25zdCB2YWx1ZSA9IHBhdGhuYW1lQXJyW2ldO1xuXG4gICAgICAgIC8vIGlmIGEgcmVnZXggaXMgcHJvdmlkZWQsIGNoZWNrIGl0IGl0IG1hdGNoZXNcbiAgICAgICAgaWYgKHJlZ2V4ICYmIHJlZ2V4W2tleV0pIHtcbiAgICAgICAgICBjb25zdCByZWdleE1hdGNoID0gcmVnZXhba2V5XS50ZXN0KHZhbHVlKTtcbiAgICAgICAgICBpZiAoIXJlZ2V4TWF0Y2gpIHJldHVybiBudWxsO1xuICAgICAgICB9XG5cbiAgICAgICAgcGFyYW1zID0geyAuLi5wYXJhbXMsIFtrZXldOiB2YWx1ZSB9O1xuXG4gICAgICAgIHBhdGhBcnJbaV0gPSBwYXRobmFtZUFycltpXTtcbiAgICAgIH1cbiAgICB9KTtcbiAgICBwYXRoID0gcGF0aEFyci5qb2luKFwiL1wiKTtcbiAgfVxuXG4gIC8vIGNhdGNoIGFsbFxuICBpZiAocGF0aCA9PT0gXCIqXCIpIG1hdGNoID0gW3BhdGhuYW1lXTtcblxuICAvLyByZWd1bGFyIHBhdGhcbiAgaWYgKCFtYXRjaCkgbWF0Y2ggPSBuZXcgUmVnRXhwKGBeJHtwYXRofWApLmV4ZWMocGF0aG5hbWUpO1xuXG4gIGlmICghbWF0Y2gpIHJldHVybiBudWxsO1xuXG4gIGNvbnN0IHVybCA9IG1hdGNoWzBdO1xuICBjb25zdCBpc0V4YWN0ID0gcGF0aG5hbWUgPT09IHVybDtcblxuICBpZiAoZXhhY3QgJiYgIWlzRXhhY3QpIHJldHVybiBudWxsO1xuXG4gIHJldHVybiB7XG4gICAgcGF0aCxcbiAgICB1cmwsXG4gICAgaXNFeGFjdCxcbiAgICBwYXJhbXMsXG4gIH07XG59XG5cbmV4cG9ydCBjbGFzcyBTd2l0Y2ggZXh0ZW5kcyBDb21wb25lbnQ8eyBmYWxsYmFjaz86IGFueTsgY2hpbGRyZW4/OiBhbnkgfT4ge1xuICBpbmRleDogbnVtYmVyID0gMDtcbiAgcGF0aDogc3RyaW5nID0gXCJcIjtcbiAgbWF0Y2ggPSB7IGluZGV4OiAtMSwgcGF0aDogXCJcIiB9O1xuXG4gIG1vdW50KCkge1xuICAgIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKFwicG9wc3RhdGVcIiwgdGhpcy5mb3JjZVVwZGF0ZS5iaW5kKHRoaXMpKTtcbiAgICByZWdpc3Rlcih0aGlzKTtcbiAgfVxuXG4gIGRlc3Ryb3koKSB7XG4gICAgdW5yZWdpc3Rlcih0aGlzKTtcbiAgICB3aW5kb3cucmVtb3ZlRXZlbnRMaXN0ZW5lcihcInBvcHN0YXRlXCIsIHRoaXMuZm9yY2VVcGRhdGUuYmluZCh0aGlzKSk7XG4gIH1cblxuICBmb3JjZVVwZGF0ZSgpIHtcbiAgICB0aGlzLmZpbmRDaGlsZCgpO1xuICAgIGlmICh0aGlzLnNob3VsZFVwZGF0ZSgpKSB0aGlzLnVwZGF0ZSgpO1xuICB9XG5cbiAgZmluZENoaWxkKCkge1xuICAgIHRoaXMubWF0Y2ggPSB7IGluZGV4OiAtMSwgcGF0aDogXCJcIiB9O1xuXG4gICAgZm9yIChjb25zdCBbaSwgY2hpbGRdIG9mIHRoaXMucHJvcHMuY2hpbGRyZW4uZW50cmllcygpKSB7XG4gICAgICBjb25zdCB7IHBhdGgsIGV4YWN0LCByZWdleCB9ID0gY2hpbGQucHJvcHM7XG4gICAgICBjb25zdCBtYXRjaCA9IG1hdGNoUGF0aChcbiAgICAgICAgdHlwZW9mIGlzU1NSICE9PSBcInVuZGVmaW5lZFwiXG4gICAgICAgICAgPyBfbmFuby5sb2NhdGlvbi5wYXRobmFtZVxuICAgICAgICAgIDogd2luZG93LmxvY2F0aW9uLnBhdGhuYW1lLFxuICAgICAgICB7XG4gICAgICAgICAgcGF0aCxcbiAgICAgICAgICBleGFjdCxcbiAgICAgICAgICByZWdleCxcbiAgICAgICAgfSxcbiAgICAgICk7XG5cbiAgICAgIGlmIChtYXRjaCkge1xuICAgICAgICB0aGlzLm1hdGNoLmluZGV4ID0gaTtcbiAgICAgICAgdGhpcy5tYXRjaC5wYXRoID0gcGF0aDtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgIH1cbiAgfVxuXG4gIHNob3VsZFVwZGF0ZSgpIHtcbiAgICByZXR1cm4gdGhpcy5wYXRoICE9PSB0aGlzLm1hdGNoLnBhdGggfHwgdGhpcy5pbmRleCAhPT0gdGhpcy5tYXRjaC5pbmRleDtcbiAgfVxuXG4gIHJlbmRlcigpIHtcbiAgICB0aGlzLmZpbmRDaGlsZCgpO1xuXG4gICAgY29uc3QgY2hpbGQgPSB0aGlzLnByb3BzLmNoaWxkcmVuW3RoaXMubWF0Y2guaW5kZXhdO1xuXG4gICAgaWYgKHRoaXMubWF0Y2guaW5kZXggPT09IC0xKSB7XG4gICAgICB0aGlzLnBhdGggPSBcIlwiO1xuICAgICAgdGhpcy5pbmRleCA9IDA7XG4gICAgfVxuXG4gICAgaWYgKGNoaWxkKSB7XG4gICAgICBjb25zdCB7IHBhdGggfSA9IGNoaWxkLnByb3BzO1xuICAgICAgdGhpcy5wYXRoID0gcGF0aDtcbiAgICAgIHRoaXMuaW5kZXggPSB0aGlzLm1hdGNoLmluZGV4O1xuICAgICAgY29uc3QgZWwgPSByZW5kZXJFbGVtZW50KGNoaWxkKTtcbiAgICAgIHJldHVybiByZW5kZXJFbGVtZW50KGVsKTtcbiAgICB9IGVsc2UgaWYgKHRoaXMucHJvcHMuZmFsbGJhY2spIHtcbiAgICAgIHJldHVybiByZW5kZXJFbGVtZW50KHRoaXMucHJvcHMuZmFsbGJhY2spO1xuICAgIH0gZWxzZSB7XG4gICAgICByZXR1cm4gaChcImRpdlwiLCB7IGNsYXNzOiBcInJvdXRlXCIgfSwgXCJub3QgZm91bmRcIik7XG4gICAgfVxuICB9XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBSb3V0ZSh7XG4gIHBhdGgsXG4gIHJlZ2V4LFxuICBjaGlsZHJlbixcbn06IHtcbiAgZXhhY3Q/OiBib29sZWFuO1xuICBwYXRoOiBzdHJpbmc7XG4gIHJlZ2V4PzogeyBbcGFyYW06IHN0cmluZ106IFJlZ0V4cCB9O1xuICBjaGlsZHJlbj86IGFueTtcbn0pIHtcbiAgZm9yIChjb25zdCBjaGlsZCBvZiBjaGlsZHJlbikge1xuICAgIGlmIChjaGlsZC5wcm9wcykgY2hpbGQucHJvcHMgPSB7IC4uLmNoaWxkLnByb3BzLCByb3V0ZTogeyBwYXRoLCByZWdleCB9IH07XG4gIH1cblxuICByZXR1cm4gY2hpbGRyZW47XG59XG5cbmV4cG9ydCBjb25zdCB0byA9ICh0bzogc3RyaW5nLCByZXBsYWNlOiBib29sZWFuID0gZmFsc2UpID0+IHtcbiAgcmVwbGFjZSA/IGhpc3RvcnlSZXBsYWNlKHRvKSA6IGhpc3RvcnlQdXNoKHRvKTtcbn07XG5cbmV4cG9ydCBmdW5jdGlvbiBMaW5rKHtcbiAgdG8sXG4gIHJlcGxhY2UsXG4gIGNoaWxkcmVuLFxufToge1xuICB0bzogc3RyaW5nO1xuICByZXBsYWNlPzogYm9vbGVhbjtcbiAgY2hpbGRyZW4/OiBhbnk7XG59KSB7XG4gIGZ1bmN0aW9uIG9uQ2xpY2soZXZlbnQ6IEV2ZW50KSB7XG4gICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcbiAgICByZXBsYWNlID8gaGlzdG9yeVJlcGxhY2UodG8pIDogaGlzdG9yeVB1c2godG8pO1xuICB9XG5cbiAgcmV0dXJuIGgoXCJhXCIsIHsgaHJlZjogdG8sIG9uQ2xpY2sgfSwgY2hpbGRyZW4pO1xufVxuIiwiaW1wb3J0IHsgQ29tcG9uZW50IH0gZnJvbSBcIi4uL2NvcmVcIjtcbmltcG9ydCB7IHN0clRvSGFzaCB9IGZyb20gXCIuLi91dGlsc1wiO1xuXG5leHBvcnQgY2xhc3MgU3VzcGVuc2UgZXh0ZW5kcyBDb21wb25lbnQge1xuICBwcml2YXRlIGlzUmVhZHkgPSBmYWxzZTtcblxuICBjb25zdHJ1Y3Rvcihwcm9wczogYW55KSB7XG4gICAgc3VwZXIocHJvcHMpO1xuXG4gICAgY29uc3QgeyBmYWxsYmFjaywgY2FjaGUgPSBmYWxzZSwgY2hpbGRyZW4sIC4uLnJlc3QgfSA9IHRoaXMucHJvcHM7XG5cbiAgICB0aGlzLmlkID0gc3RyVG9IYXNoKFxuICAgICAgSlNPTi5zdHJpbmdpZnkocmVzdCwgZnVuY3Rpb24gKF9rZXksIHZhbCkge1xuICAgICAgICByZXR1cm4gdHlwZW9mIHZhbCA9PT0gXCJmdW5jdGlvblwiID8gYCR7dmFsfWAgOiB2YWw7XG4gICAgICB9KSxcbiAgICApO1xuICB9XG5cbiAgYXN5bmMgbW91bnQoKSB7XG4gICAgY29uc3QgeyBmYWxsYmFjaywgY2FjaGUgPSBmYWxzZSwgY2hpbGRyZW4sIC4uLnJlc3QgfSA9IHRoaXMucHJvcHM7XG5cbiAgICBpZiAoY2FjaGUpIHRoaXMuaW5pdGlhbFN0YXRlID0ge307XG5cbiAgICBpZiAodGhpcy5sb2FkRnJvbUNhY2hlKGNhY2hlKSkgcmV0dXJuO1xuXG4gICAgY29uc3QgcHJvbWlzZXMgPSBPYmplY3QudmFsdWVzKHJlc3QpLm1hcCgocDogYW55KSA9PiBwKCkpO1xuICAgIGNvbnN0IHJlc29sdmVkID0gYXdhaXQgUHJvbWlzZS5hbGwocHJvbWlzZXMpO1xuICAgIGNvbnN0IGRhdGEgPSB0aGlzLnByZXBhcmVEYXRhKHJlc3QsIHJlc29sdmVkLCBjYWNoZSk7XG5cbiAgICB0aGlzLmFkZERhdGFUb0NoaWxkcmVuKGRhdGEpO1xuXG4gICAgdGhpcy5pc1JlYWR5ID0gdHJ1ZTtcbiAgICB0aGlzLnVwZGF0ZSgpO1xuICB9XG5cbiAgcHJpdmF0ZSBsb2FkRnJvbUNhY2hlKGNhY2hlOiBib29sZWFuKSB7XG4gICAgY29uc3QgY2FjaGVkID0gdGhpcy5zdGF0ZSAmJiBjYWNoZSAmJiBPYmplY3Qua2V5cyh0aGlzLnN0YXRlKS5sZW5ndGg7XG5cbiAgICBpZiAoY2FjaGUpIHtcbiAgICAgIHRoaXMuYWRkRGF0YVRvQ2hpbGRyZW4odGhpcy5zdGF0ZSk7XG4gICAgICB0aGlzLmlzUmVhZHkgPSB0cnVlO1xuICAgIH1cblxuICAgIHJldHVybiBjYWNoZWQ7XG4gIH1cblxuICBwcml2YXRlIHNzcigpIHtcbiAgICBjb25zdCB7IGZhbGxiYWNrLCBjYWNoZSA9IGZhbHNlLCBjaGlsZHJlbiwgLi4ucmVzdCB9ID0gdGhpcy5wcm9wcztcblxuICAgIGNvbnN0IGZ1bmNzID0gT2JqZWN0LnZhbHVlcyhyZXN0KS5tYXAoKHA6IGFueSkgPT4gcCgpKTtcblxuICAgIGNvbnN0IGRhdGEgPSB0aGlzLnByZXBhcmVEYXRhKHJlc3QsIGZ1bmNzLCBmYWxzZSk7XG5cbiAgICB0aGlzLmFkZERhdGFUb0NoaWxkcmVuKGRhdGEpO1xuICB9XG5cbiAgcHJpdmF0ZSBhZGREYXRhVG9DaGlsZHJlbihkYXRhOiBhbnkpIHtcbiAgICBmb3IgKGNvbnN0IGNoaWxkIG9mIHRoaXMucHJvcHMuY2hpbGRyZW4pIHtcbiAgICAgIGlmIChjaGlsZC5wcm9wcykge1xuICAgICAgICBjaGlsZC5wcm9wcyA9IHsgLi4uY2hpbGQucHJvcHMsIC4uLmRhdGEgfTtcbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICBwcml2YXRlIHByZXBhcmVEYXRhKHJlc3Q6IGFueSwgZnVuYzogYW55LCBjYWNoZTogYm9vbGVhbikge1xuICAgIGNvbnN0IGRhdGEgPSBPYmplY3Qua2V5cyhyZXN0KS5yZWR1Y2UoKGFjYywgaXRlbSwgaW5kZXgpID0+IHtcbiAgICAgIGlmIChjYWNoZSkge1xuICAgICAgICB0aGlzLnN0YXRlID0geyAuLi50aGlzLnN0YXRlLCBbaXRlbV06IGZ1bmNbaW5kZXhdIH07XG4gICAgICB9XG4gICAgICByZXR1cm4ge1xuICAgICAgICAuLi5hY2MsXG4gICAgICAgIFtpdGVtXTogZnVuY1tpbmRleF0sXG4gICAgICB9O1xuICAgIH0sIHt9KTtcbiAgICByZXR1cm4gZGF0YTtcbiAgfVxuXG4gIHJlbmRlcigpIHtcbiAgICBpZiAodHlwZW9mIGlzU1NSID09PSBcInVuZGVmaW5lZFwiKSB7XG4gICAgICBjb25zdCB7IGNhY2hlID0gZmFsc2UgfSA9IHRoaXMucHJvcHM7XG4gICAgICB0aGlzLmxvYWRGcm9tQ2FjaGUoY2FjaGUpO1xuICAgICAgcmV0dXJuIHRoaXMuaXNSZWFkeSA/IHRoaXMucHJvcHMuY2hpbGRyZW4gOiB0aGlzLnByb3BzLmZhbGxiYWNrO1xuICAgIH0gZWxzZSB7XG4gICAgICB0aGlzLnNzcigpO1xuICAgICAgcmV0dXJuIHRoaXMucHJvcHMuY2hpbGRyZW47XG4gICAgfVxuICB9XG59XG4iLCJpbXBvcnQgeyBDb21wb25lbnQsIGgsIHJlbmRlciB9IGZyb20gXCIuLi9jb3JlXCI7XG5cbmV4cG9ydCBjbGFzcyBWaXNpYmxlIGV4dGVuZHMgQ29tcG9uZW50IHtcbiAgcHJpdmF0ZSBpc1Zpc2libGUgPSBmYWxzZTtcblxuICBtb3VudCgpIHtcbiAgICBjb25zdCBvYnNlcnZlciA9IG5ldyBJbnRlcnNlY3Rpb25PYnNlcnZlcihcbiAgICAgIChlbnRyaWVzLCBvYnNlcnZlcikgPT4ge1xuICAgICAgICBmb3IgKGNvbnN0IGVudHJ5IG9mIGVudHJpZXMpIHtcbiAgICAgICAgICBpZiAoZW50cnkuaXNJbnRlcnNlY3RpbmcpIHtcbiAgICAgICAgICAgIG9ic2VydmVyLmRpc2Nvbm5lY3QoKTtcbiAgICAgICAgICAgIHRoaXMuaXNWaXNpYmxlID0gdHJ1ZTtcbiAgICAgICAgICAgIHRoaXMudXBkYXRlKCk7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9LFxuICAgICAgeyB0aHJlc2hvbGQ6IFswLCAxXSB9LFxuICAgICk7XG5cbiAgICBvYnNlcnZlci5vYnNlcnZlKHRoaXMuZWxlbWVudHNbMF0pO1xuICB9XG4gIHJlbmRlcigpIHtcbiAgICBpZiAodGhpcy5pc1Zpc2libGUpIHtcbiAgICAgIGlmICh0aGlzLnByb3BzLm9uVmlzaWJsZSkge1xuICAgICAgICB0aGlzLnByb3BzLm9uVmlzaWJsZSgpO1xuICAgICAgfVxuICAgICAgcmV0dXJuIHJlbmRlcih0aGlzLnByb3BzLmNvbXBvbmVudCB8fCB0aGlzLnByb3BzLmNoaWxkcmVuWzBdKTtcbiAgICB9IGVsc2Uge1xuICAgICAgcmV0dXJuIGgoXCJkaXZcIiwgeyBcImRhdGEtdmlzaWJsZVwiOiBmYWxzZSwgdmlzaWJpbGl0eTogXCJoaWRkZW5cIiB9KTtcbiAgICB9XG4gIH1cbn1cbiIsImltcG9ydCB7IHJlbmRlckVsZW1lbnQgfSBmcm9tIFwiLlwiO1xuXG5leHBvcnQgZnVuY3Rpb24gYXBwZW5kQ2hpbGRyZW4oZWxlbWVudDogSFRNTEVsZW1lbnQsIGNoaWxkcmVuOiBhbnkpIHtcbiAgaWYgKCFBcnJheS5pc0FycmF5KGNoaWxkcmVuKSkge1xuICAgIGFwcGVuZENoaWxkcmVuKGVsZW1lbnQsIFtjaGlsZHJlbl0pO1xuICAgIHJldHVybjtcbiAgfVxuICBpZiAodHlwZW9mIGNoaWxkcmVuID09PSBcIm9iamVjdFwiKSB7XG4gICAgY2hpbGRyZW4gPSBBcnJheS5mcm9tKGNoaWxkcmVuKTtcbiAgfVxuXG4gIGZvciAoY29uc3QgY2hpbGQgb2YgY2hpbGRyZW4pIHtcbiAgICBpZiAoQXJyYXkuaXNBcnJheShjaGlsZCkpIHtcbiAgICAgIGFwcGVuZENoaWxkcmVuKGVsZW1lbnQsIGNoaWxkKTtcbiAgICB9IGVsc2Uge1xuICAgICAgbGV0IGNvbXAgPSByZW5kZXJFbGVtZW50KGNoaWxkKSBhcyBIVE1MRWxlbWVudDtcblxuICAgICAgaWYgKGNvbXApIHtcbiAgICAgICAgaWYgKEFycmF5LmlzQXJyYXkoY29tcCkpIHtcbiAgICAgICAgICBhcHBlbmRDaGlsZHJlbihlbGVtZW50LCBjb21wKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBlbGVtZW50LmFwcGVuZENoaWxkKFxuICAgICAgICAgICAgIWNvbXA/Lm5vZGVUeXBlID8gZG9jdW1lbnQuY3JlYXRlVGV4dE5vZGUoXCJcIiArIGNvbXApIDogY29tcCxcbiAgICAgICAgICApO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICB9XG59XG4iLCJpbXBvcnQgeyBuZXh0VGljaywgb25Ob2RlUmVtb3ZlIH0gZnJvbSBcIi4uL3V0aWxzXCI7XG5pbXBvcnQgeyByZW5kZXJFbGVtZW50LCBfc3RhdGUgfSBmcm9tIFwiLlwiO1xuXG5leHBvcnQgY2xhc3MgQ29tcG9uZW50PFAgZXh0ZW5kcyBPYmplY3QgPSBhbnksIFMgPSBhbnk+IHtcbiAgcHVibGljIGlkOiBzdHJpbmcgfCBudW1iZXI7XG4gIHByaXZhdGUgX3NraXBVbm1vdXQ6IGJvb2xlYW47XG4gIHByaXZhdGUgX2hhc1VubW91bnRlZDogYm9vbGVhbjtcbiAgcHJpdmF0ZSBfZWxlbWVudHM6IEhUTUxFbGVtZW50W10gPSBbXTtcblxuICBjb25zdHJ1Y3RvcihwdWJsaWMgcHJvcHM6IFApIHtcbiAgICB0aGlzLmlkID0gdGhpcy5fZ2V0SGFzaCgpO1xuICB9XG5cbiAgcHVibGljIHJlbmRlcihfdXBkYXRlPzogYW55KSB7fVxuICBwdWJsaWMgbW91bnQoKSB7fVxuICBwdWJsaWMgYmVmb3JlTW91bnQoKSB7fVxuICBwdWJsaWMgZGVzdHJveSgpIHt9XG4gIHByaXZhdGUgX2dldEhhc2goKTogYW55IHt9XG5cbiAgc2V0U3RhdGUoc3RhdGU6IFMsIHNob3VsZFVwZGF0ZTogYm9vbGVhbiA9IGZhbHNlKSB7XG4gICAgaWYgKHN0YXRlICYmIHR5cGVvZiBzdGF0ZSA9PT0gXCJvYmplY3RcIikge1xuICAgICAgdGhpcy5zdGF0ZSA9IHsgLi4udGhpcy5zdGF0ZSwgLi4uc3RhdGUgfTtcbiAgICB9IGVsc2UgdGhpcy5zdGF0ZSA9IHN0YXRlO1xuXG4gICAgaWYgKHNob3VsZFVwZGF0ZSkgdGhpcy51cGRhdGUoKTtcbiAgfVxuXG4gIGdldCBzdGF0ZSgpIHtcbiAgICByZXR1cm4gX3N0YXRlLmdldCh0aGlzLmlkKTtcbiAgfVxuXG4gIHNldCBzdGF0ZSh2YWx1ZTogUykge1xuICAgIF9zdGF0ZS5zZXQodGhpcy5pZCwgdmFsdWUpO1xuICB9XG5cbiAgc2V0IGluaXRpYWxTdGF0ZShzdGF0ZTogUykge1xuICAgIGlmICghdGhpcy5zdGF0ZSkgdGhpcy5zdGF0ZSA9IHN0YXRlO1xuICB9XG5cbiAgcHVibGljIGdldCBlbGVtZW50cygpIHtcbiAgICByZXR1cm4gdGhpcy5fZWxlbWVudHM7XG4gIH1cblxuICBwdWJsaWMgc2V0IGVsZW1lbnRzKGVsZW1lbnRzOiBIVE1MRWxlbWVudFtdKSB7XG4gICAgaWYgKCFBcnJheS5pc0FycmF5KGVsZW1lbnRzKSkge1xuICAgICAgZWxlbWVudHMgPSBbZWxlbWVudHNdO1xuICAgIH1cblxuICAgIGZvciAoY29uc3QgZWwgb2YgZWxlbWVudHMpIHtcbiAgICAgIHRoaXMuX2VsZW1lbnRzLnB1c2goZWwpO1xuICAgIH1cbiAgfVxuXG4gIHByaXZhdGUgYWRkTm9kZVJlbW92ZUxpc3RlbmVyKCkge1xuICAgIGlmICgvXltee10re1xccyt9JC9nbS50ZXN0KHRoaXMuZGVzdHJveS50b1N0cmluZygpKSkgcmV0dXJuO1xuXG4gICAgb25Ob2RlUmVtb3ZlKHRoaXMuZWxlbWVudHNbMF0sICgpID0+IHtcbiAgICAgIGlmICghdGhpcy5fc2tpcFVubW91dCkge1xuICAgICAgICB0aGlzLmRlc3Ryb3koKTtcbiAgICAgIH1cbiAgICB9KTtcbiAgfVxuXG4gIC8vQHRzLWlnbm9yZVxuICBwcml2YXRlIF9tb3VudCgpIHtcbiAgICB0aGlzLmFkZE5vZGVSZW1vdmVMaXN0ZW5lcigpO1xuICAgIHRoaXMubW91bnQoKTtcbiAgfVxuXG4gIHByaXZhdGUgX2Rlc3RvcnkoKSB7XG4gICAgaWYgKHRoaXMuX2hhc1VubW91bnRlZCkgcmV0dXJuO1xuICAgIHRoaXMuZGVzdHJveSgpO1xuICAgIHRoaXMuX2hhc1VubW91bnRlZCA9IHRydWU7XG4gIH1cblxuICBwdWJsaWMgdXBkYXRlKHVwZGF0ZT86IGFueSkge1xuICAgIHRoaXMuX3NraXBVbm1vdXQgPSB0cnVlO1xuXG4gICAgY29uc3Qgb2xkRWxlbWVudHMgPSBbLi4udGhpcy5lbGVtZW50c107XG5cbiAgICB0aGlzLl9lbGVtZW50cyA9IFtdO1xuXG4gICAgbGV0IGVsID0gdGhpcy5yZW5kZXIodXBkYXRlKTtcbiAgICBlbCA9IHJlbmRlckVsZW1lbnQoZWwpO1xuICAgIHRoaXMuZWxlbWVudHMgPSBlbCBhcyB1bmtub3duIGFzIEhUTUxFbGVtZW50W107XG5cbiAgICBjb25zdCBwYXJlbnQgPSBvbGRFbGVtZW50c1swXS5wYXJlbnRFbGVtZW50IGFzIEhUTUxFbGVtZW50O1xuXG4gICAgaWYgKCFwYXJlbnQpXG4gICAgICBjb25zb2xlLndhcm4oXCJDb21wb25lbnQgbmVlZHMgYSBwYXJlbnQgZWxlbWVudCB0byBnZXQgdXBkYXRlZCFcIik7XG5cbiAgICBmb3IgKGNvbnN0IGNoaWxkIG9mIHRoaXMuZWxlbWVudHMpIHtcbiAgICAgIHBhcmVudC5pbnNlcnRCZWZvcmUoY2hpbGQsIG9sZEVsZW1lbnRzWzBdKTtcbiAgICB9XG5cbiAgICBmb3IgKGxldCBjaGlsZCBvZiBvbGRFbGVtZW50cykge1xuICAgICAgY2hpbGQucmVtb3ZlKCk7XG4gICAgICAvL0B0cy1pZ25vcmVcbiAgICAgIGNoaWxkID0gbnVsbDtcbiAgICB9XG5cbiAgICB0aGlzLmFkZE5vZGVSZW1vdmVMaXN0ZW5lcigpO1xuXG4gICAgLy9AdHMtaWdub3JlXG4gICAgbmV4dFRpY2soKCkgPT4ge1xuICAgICAgdGhpcy5fc2tpcFVubW91dCA9IGZhbHNlO1xuICAgICAgaWYgKCF0aGlzLmVsZW1lbnRzWzBdLmlzQ29ubmVjdGVkKSB7XG4gICAgICAgIHRoaXMuX2Rlc3RvcnkoKTtcbiAgICAgIH1cbiAgICB9KTtcbiAgfVxufVxuIiwiZXhwb3J0IGZ1bmN0aW9uIGNyZWF0ZUNvbnRleHQoY3R4OiBhbnkpIHtcbiAgbGV0IF9jdHggPSBjdHg7XG4gIHJldHVybiB7XG4gICAgUHJvdmlkZXIocHJvcHM6IGFueSkge1xuICAgICAgaWYgKHByb3BzLnZhbHVlKSB7XG4gICAgICAgIF9jdHggPSBwcm9wcy52YWx1ZTtcbiAgICAgICAgcmV0dXJuIHByb3BzLmNoaWxkcmVuO1xuICAgICAgfVxuICAgIH0sXG4gICAgQ29uc3VtZXIocHJvcHM6IGFueSkge1xuICAgICAgcmV0dXJuIHtcbiAgICAgICAgY29tcG9uZW50OiBwcm9wcy5jaGlsZHJlblswXShfY3R4KSxcbiAgICAgICAgcHJvcHM6IHtcbiAgICAgICAgICAuLi5wcm9wcyxcbiAgICAgICAgICBjb250ZXh0OiBfY3R4LFxuICAgICAgICB9LFxuICAgICAgfTtcbiAgICB9LFxuICAgIGdldCgpIHtcbiAgICAgIHJldHVybiBfY3R4O1xuICAgIH0sXG4gICAgc2V0KGN0eDogYW55KSB7XG4gICAgICBfY3R4ID0gY3R4O1xuICAgIH0sXG4gIH07XG59XG4iLCJleHBvcnQgY29uc3QgRnJhZ21lbnQgPSAocHJvcHM6IGFueSkgPT4ge1xuICByZXR1cm4gcHJvcHMuY2hpbGRyZW47XG59O1xuIiwiaW1wb3J0IHsgaXNFdmVudCB9IGZyb20gXCIuLi91dGlsc1wiO1xuaW1wb3J0IHsgYXBwZW5kQ2hpbGRyZW4sIGhOUyB9IGZyb20gXCIuXCI7XG5cbmV4cG9ydCBmdW5jdGlvbiBoKGNvbXA6IGFueSwgcHJvcHM6IGFueSwgLi4uY2hpbGRyZW46IGFueVtdKTogYW55IHtcbiAgaWYgKHR5cGVvZiBjb21wICE9PSBcInN0cmluZ1wiKSB7XG4gICAgcmV0dXJuIHsgY29tcG9uZW50OiBjb21wLCBwcm9wczogeyAuLi5wcm9wcywgY2hpbGRyZW46IGNoaWxkcmVuIH0gfTtcbiAgfVxuXG4gIGxldCByZWY7XG5cbiAgY29uc3QgZWxlbWVudCA9XG4gICAgY29tcCA9PT0gXCJzdmdcIlxuICAgICAgPyAoaE5TKFwic3ZnXCIpIGFzIFNWR0VsZW1lbnQpXG4gICAgICA6IChkb2N1bWVudC5jcmVhdGVFbGVtZW50KGNvbXApIGFzIEhUTUxFbGVtZW50KTtcblxuICBmb3IgKGNvbnN0IHAgaW4gcHJvcHMpIHtcbiAgICBpZiAocCA9PT0gXCJzdHlsZVwiICYmIHR5cGVvZiBwcm9wc1twXSA9PT0gXCJvYmplY3RcIikge1xuICAgICAgY29uc3Qgc3R5bGVzID0gT2JqZWN0LmtleXMocHJvcHNbcF0pXG4gICAgICAgIC5tYXAoKGspID0+IGAke2t9OiR7cHJvcHNbcF1ba119YClcbiAgICAgICAgLmpvaW4oXCI7XCIpXG4gICAgICAgIC5yZXBsYWNlKC9bQS1aXS9nLCAobWF0Y2gpID0+IGAtJHttYXRjaC50b0xvd2VyQ2FzZSgpfWApO1xuICAgICAgcHJvcHNbcF0gPSBzdHlsZXMgKyBcIjtcIjtcbiAgICB9XG5cbiAgICBpZiAocCA9PT0gXCJyZWZcIikge1xuICAgICAgcmVmID0gcHJvcHNbcF07XG4gICAgfVxuXG4gICAgaWYgKGlzRXZlbnQoZWxlbWVudCwgcC50b0xvd2VyQ2FzZSgpKSkge1xuICAgICAgZWxlbWVudC5hZGRFdmVudExpc3RlbmVyKHAudG9Mb3dlckNhc2UoKS5zdWJzdHJpbmcoMiksIChlOiBFdmVudCkgPT5cbiAgICAgICAgcHJvcHNbcF0oZSksXG4gICAgICApO1xuICAgIH0gZWxzZSB7XG4gICAgICBlbGVtZW50LnNldEF0dHJpYnV0ZShwLCBwcm9wc1twXSk7XG4gICAgfVxuICB9XG4gIGFwcGVuZENoaWxkcmVuKGVsZW1lbnQgYXMgYW55LCBjaGlsZHJlbik7XG5cbiAgaWYgKHJlZikge1xuICAgIHJlZihlbGVtZW50KTtcbiAgfVxuICAvLyBAdHMtaWdub3JlXG4gIGlmIChlbGVtZW50LnNzcikgcmV0dXJuIGVsZW1lbnQuc3NyO1xuICByZXR1cm4gZWxlbWVudDtcbn1cbiIsImltcG9ydCB7IHJlbmRlciB9IGZyb20gXCIuXCI7XG5cbmV4cG9ydCBmdW5jdGlvbiBoeWRyYXRlKFxuICBjb21wb25lbnQ6IGFueSxcbiAgcGFyZW50OiBIVE1MRWxlbWVudCB8IG51bGwgPSBudWxsLFxuICByZW1vdmVDaGlsZE5vZGVzID0gdHJ1ZSxcbikge1xuICByZXR1cm4gcmVuZGVyKGNvbXBvbmVudCwgcGFyZW50LCByZW1vdmVDaGlsZE5vZGVzKTtcbn1cbiIsImV4cG9ydCB7IGFwcGVuZENoaWxkcmVuIH0gZnJvbSBcIi4vYXBwZW5kQ2hpbGRyZW5cIjtcbmV4cG9ydCB7IGggfSBmcm9tIFwiLi9oXCI7XG5leHBvcnQgeyByZW5kZXIgfSBmcm9tIFwiLi9yZW5kZXJcIjtcbmV4cG9ydCB7IHJlbmRlckVsZW1lbnQsIGhOUyB9IGZyb20gXCIuL3JlbmRlckVsZW1lbnRcIjtcbmV4cG9ydCB7IGh5ZHJhdGUgfSBmcm9tIFwiLi9oeWRyYXRlXCI7XG5leHBvcnQgeyBDb21wb25lbnQgfSBmcm9tIFwiLi9jb21wb25lbnRcIjtcbmV4cG9ydCB7IEZyYWdtZW50IH0gZnJvbSBcIi4vZnJhZ21lbnRcIjtcbmV4cG9ydCB7IGNyZWF0ZUNvbnRleHQgfSBmcm9tIFwiLi9jb250ZXh0XCI7XG5leHBvcnQgeyBfc3RhdGUsIF9jbGVhclN0YXRlIH0gZnJvbSBcIi4vc3RhdGVcIjtcbmV4cG9ydCB7IGxhenlIeWRyYXRpb24gfSBmcm9tIFwiLi9sYXp5SHlkcmF0aW9uXCI7XG5leHBvcnQgeyB3aXRoU3R5bGVzIH0gZnJvbSBcIi4vd2l0aFN0eWxlc1wiO1xuZXhwb3J0IHsgU3RvcmUgfSBmcm9tIFwiLi9zdG9yZVwiO1xuIiwiaW1wb3J0IHsgVmlzaWJsZSB9IGZyb20gXCIuLi9jb21wb25lbnRzXCI7XG5pbXBvcnQgeyBoLCBoeWRyYXRlIH0gZnJvbSBcIi5cIjtcblxuZXhwb3J0IGZ1bmN0aW9uIGxhenlIeWRyYXRpb24oXG4gIGNvbXBvbmVudDogYW55LFxuICBwYXJlbnQ6IGFueSxcbiAgcmVtb3ZlQ2hpbGROb2RlcyA9IHRydWUsXG4pIHtcbiAgY29uc3QgY21wID0gaChWaXNpYmxlLCBudWxsLCBjb21wb25lbnQpO1xuICByZXR1cm4gaHlkcmF0ZShjbXAsIHBhcmVudCwgcmVtb3ZlQ2hpbGROb2Rlcyk7XG59XG4iLCJpbXBvcnQgeyBhcHBlbmRDaGlsZHJlbiwgcmVuZGVyRWxlbWVudCB9IGZyb20gXCIuXCI7XG5cbmV4cG9ydCBmdW5jdGlvbiByZW5kZXIoXG4gIGNtcDogYW55LFxuICBwYXJlbnQ6IEhUTUxFbGVtZW50IHwgYW55ID0gbnVsbCxcbiAgcmVtb3ZlQ2hpbGROb2RlcyA9IHRydWUsXG4pIHtcbiAgbGV0IGVsID0gcmVuZGVyRWxlbWVudChjbXApO1xuXG4gIGlmIChBcnJheS5pc0FycmF5KGVsKSkge1xuICAgIGVsID0gZWwubWFwKChjKSA9PiByZW5kZXJFbGVtZW50KGMpKTtcbiAgICBpZiAoZWwubGVuZ3RoID09PSAxKSB7XG4gICAgICBlbCA9IGVsWzBdO1xuICAgIH1cbiAgfVxuXG4gIGlmIChwYXJlbnQpIHtcbiAgICBpZiAocmVtb3ZlQ2hpbGROb2Rlcykge1xuICAgICAgcmVtb3ZlQWxsQ2hpbGROb2RlcyhwYXJlbnQpO1xuICAgIH1cblxuICAgIGlmIChlbCAmJiBwYXJlbnQuaWQgJiYgcGFyZW50LmlkID09PSBlbC5pZCAmJiBwYXJlbnQucGFyZW50RWxlbWVudCkge1xuICAgICAgcGFyZW50LnBhcmVudEVsZW1lbnQucmVwbGFjZUNoaWxkKGVsLCBwYXJlbnQpO1xuICAgIH0gZWxzZSB7XG4gICAgICBpZiAoQXJyYXkuaXNBcnJheShlbCkpIHtcbiAgICAgICAgZWwubWFwKChjKSA9PiBhcHBlbmRDaGlsZHJlbihwYXJlbnQsIHJlbmRlckVsZW1lbnQoYykpKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGFwcGVuZENoaWxkcmVuKHBhcmVudCwgcmVuZGVyRWxlbWVudChlbCkpO1xuICAgICAgfVxuICAgIH1cbiAgICBpZiAocGFyZW50LnNzcikgcmV0dXJuIHBhcmVudC5zc3I7XG4gICAgcmV0dXJuIHBhcmVudDtcbiAgfSBlbHNlIHtcbiAgICBpZiAodHlwZW9mIGlzU1NSID09PSBcImJvb2xlYW5cIiAmJiBpc1NTUiAmJiAhQXJyYXkuaXNBcnJheShlbCkpIHJldHVybiBbZWxdO1xuICAgIHJldHVybiBlbDtcbiAgfVxufVxuXG5leHBvcnQgZnVuY3Rpb24gcmVtb3ZlQWxsQ2hpbGROb2RlcyhlbDogSFRNTEVsZW1lbnQpIHtcbiAgd2hpbGUgKGVsLmZpcnN0Q2hpbGQpIHtcbiAgICBlbC5yZW1vdmVDaGlsZChlbC5maXJzdENoaWxkKTtcbiAgfVxufVxuIiwiaW1wb3J0IHsgbmV4dFRpY2ssIHN0clRvSGFzaCB9IGZyb20gXCIuLi91dGlsc1wiO1xuXG5leHBvcnQgZnVuY3Rpb24gcmVuZGVyRWxlbWVudChjbXA6IGFueSk6IGFueSB7XG4gIGlmIChbXCJ1bmRlZmluZWRcIiB8fCBcIm9iamVjdFwiXS5pbmNsdWRlcyh0eXBlb2YgY21wKSkge1xuICAgIHJldHVybiBbXTtcbiAgfVxuICBpZiAoY21wID09IG51bGwpIHtcbiAgICByZXR1cm4gW107XG4gIH1cblxuICBpZiAodHlwZW9mIGNtcCA9PT0gXCJzdHJpbmdcIikge1xuICAgIHJldHVybiBjbXA7XG4gIH1cblxuICBpZiAodHlwZW9mIGNtcCA9PT0gXCJudW1iZXJcIikge1xuICAgIHJldHVybiBcIlwiICsgY21wO1xuICB9XG5cbiAgaWYgKGNtcD8udGFnTmFtZSAmJiBjbXAudGFnTmFtZS50b0xvd2VyQ2FzZSgpID09PSBcInN2Z1wiKSB7XG4gICAgcmV0dXJuIFNWRyh7IGNoaWxkcmVuOiBbY21wXSB9KTtcbiAgfVxuXG4gIGlmIChjbXA/LnRhZ05hbWUpIHtcbiAgICByZXR1cm4gY21wO1xuICB9XG5cbiAgaWYgKFxuICAgIGNtcCAmJlxuICAgIGNtcC5jb21wb25lbnQgJiZcbiAgICBjbXAuY29tcG9uZW50LnByb3RvdHlwZSAmJlxuICAgIGNtcC5jb21wb25lbnQucHJvdG90eXBlLmNvbnN0cnVjdG9yICYmXG4gICAgL15jbGFzc1xccy8udGVzdChGdW5jdGlvbi5wcm90b3R5cGUudG9TdHJpbmcuY2FsbChjbXAuY29tcG9uZW50KSlcbiAgKSB7XG4gICAgcmV0dXJuIHJlbmRlckNsYXNzQ29tcG9uZW50KGNtcCk7XG4gIH1cblxuICBpZiAoY21wLmNvbXBvbmVudCAmJiB0eXBlb2YgY21wLmNvbXBvbmVudCA9PT0gXCJmdW5jdGlvblwiKSB7XG4gICAgcmV0dXJuIHJlbmRlckZ1bmN0aW9uYWxDb21wb25lbnQoY21wKTtcbiAgfVxuXG4gIGlmIChBcnJheS5pc0FycmF5KGNtcCkpIHtcbiAgICByZXR1cm4gY21wLm1hcCgoYykgPT4gcmVuZGVyRWxlbWVudChjKSkuZmxhdCgpO1xuICB9XG5cbiAgaWYgKHR5cGVvZiBjbXAgPT09IFwiZnVuY3Rpb25cIikgcmV0dXJuIHJlbmRlckVsZW1lbnQoY21wKCkpO1xuXG4gIGlmIChjbXA/LmNvbXBvbmVudD8udGFnTmFtZSAmJiB0eXBlb2YgY21wLmNvbXBvbmVudC50YWdOYW1lID09PSBcInN0cmluZ1wiKVxuICAgIHJldHVybiByZW5kZXJFbGVtZW50KGNtcC5jb21wb25lbnQpO1xuXG4gIGlmIChBcnJheS5pc0FycmF5KGNtcC5jb21wb25lbnQpKSByZXR1cm4gcmVuZGVyRWxlbWVudChjbXAuY29tcG9uZW50KTtcblxuICBpZiAoY21wLmNvbXBvbmVudCkgcmV0dXJuIHJlbmRlckVsZW1lbnQoY21wLmNvbXBvbmVudCk7XG59XG5cbmZ1bmN0aW9uIHJlbmRlckZ1bmN0aW9uYWxDb21wb25lbnQoY21wOiBhbnkpIHtcbiAgY29uc3QgeyBjb21wb25lbnQsIHByb3BzIH0gPSBjbXA7XG4gIGNvbnN0IGVsID0gY29tcG9uZW50KHByb3BzKTtcbiAgcmV0dXJuIHJlbmRlckVsZW1lbnQoZWwpO1xufVxuXG5mdW5jdGlvbiByZW5kZXJDbGFzc0NvbXBvbmVudChjbXA6IGFueSkge1xuICBjb25zdCB7IGNvbXBvbmVudCwgcHJvcHMgfSA9IGNtcDtcblxuICBjb25zdCBoYXNoID0gc3RyVG9IYXNoKGNvbXBvbmVudC50b1N0cmluZygpKTtcblxuICBjb21wb25lbnQucHJvdG90eXBlLl9nZXRIYXNoID0gKCkgPT4gaGFzaDtcblxuICBjb25zdCBDb21wb25lbnQgPSBuZXcgY29tcG9uZW50KHByb3BzKTtcblxuICBDb21wb25lbnQuYmVmb3JlTW91bnQoKTtcblxuICBsZXQgZWwgPSBDb21wb25lbnQucmVuZGVyKCk7XG4gIGVsID0gcmVuZGVyRWxlbWVudChlbCk7XG5cbiAgQ29tcG9uZW50LmVsZW1lbnRzID0gZWw7XG5cbiAgaWYgKHByb3BzPy5yZWYpIHByb3BzLnJlZihDb21wb25lbnQpO1xuICBpZiAodHlwZW9mIGlzU1NSID09PSBcInVuZGVmaW5lZFwiKSB7XG4gICAgLy9AdHMtaWdub3JlXG4gICAgbmV4dFRpY2soKCkgPT4ge1xuICAgICAgQ29tcG9uZW50Ll9tb3VudCgpO1xuICAgIH0pO1xuICB9XG4gIHJldHVybiBlbDtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGhOUyh0YWc6IHN0cmluZykge1xuICByZXR1cm4gZG9jdW1lbnQuY3JlYXRlRWxlbWVudE5TKFxuICAgIFwiaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmdcIixcbiAgICB0YWcsXG4gICkgYXMgU1ZHRWxlbWVudDtcbn1cblxuZnVuY3Rpb24gU1ZHKHByb3BzOiBhbnkpIHtcbiAgY29uc3QgY2hpbGQgPSBwcm9wcy5jaGlsZHJlblswXSBhcyBTVkdFbGVtZW50O1xuICBjb25zdCBhdHRycyA9IGNoaWxkLmF0dHJpYnV0ZXM7XG5cbiAgY29uc3Qgc3ZnID0gaE5TKFwic3ZnXCIpIGFzIFNWR0VsZW1lbnQ7XG5cbiAgZm9yIChjb25zdCBhdHRyIG9mIGF0dHJzKSB7XG4gICAgc3ZnLnNldEF0dHJpYnV0ZShhdHRyLm5hbWUsIGF0dHIudmFsdWUpO1xuICB9XG5cbiAgc3ZnLmlubmVySFRNTCA9IGNoaWxkLmlubmVySFRNTDtcblxuICByZXR1cm4gc3ZnO1xufVxuIiwiZXhwb3J0IGNvbnN0IF9zdGF0ZSA9IG5ldyBNYXAoKTtcblxuZXhwb3J0IGZ1bmN0aW9uIF9jbGVhclN0YXRlKCkge1xuICBfc3RhdGUuY2xlYXIoKTtcbn1cbiIsImV4cG9ydCBjbGFzcyBTdG9yZSB7XG4gIHByaXZhdGUgX3N0YXRlOiBhbnk7XG4gIHByaXZhdGUgX3ByZXZTdGF0ZTogYW55O1xuICBwcml2YXRlIF9saXN0ZW5lcnM6IE1hcDxzdHJpbmcsIEZ1bmN0aW9uPiA9IG5ldyBNYXAoKTtcbiAgcHJpdmF0ZSBfc3RvcmFnZTogXCJtZW1vcnlcIiB8IFwibG9jYWxcIiB8IFwic2Vzc2lvblwiO1xuICBwcml2YXRlIF9pZDogc3RyaW5nO1xuXG4gIGNvbnN0cnVjdG9yKFxuICAgIGRlZmF1bHRTdGF0ZTogYW55LFxuICAgIG5hbWU6IHN0cmluZyA9IFwiXCIsXG4gICAgc3RvcmFnZTogXCJtZW1vcnlcIiB8IFwibG9jYWxcIiB8IFwic2Vzc2lvblwiID0gXCJtZW1vcnlcIixcbiAgKSB7XG4gICAgaWYgKGlzU1NSKSB7XG4gICAgICBzdG9yYWdlID0gXCJtZW1vcnlcIjtcbiAgICB9XG5cbiAgICB0aGlzLl9pZCA9IG5hbWU7XG4gICAgdGhpcy5fc3RvcmFnZSA9IHN0b3JhZ2U7XG5cbiAgICB0aGlzLl9zdGF0ZSA9IHRoaXMuX3ByZXZTdGF0ZSA9IGRlZmF1bHRTdGF0ZTtcblxuICAgIGlmICghdGhpcy5fc3RvcmFnZSB8fCB0aGlzLl9zdG9yYWdlID09PSBcIm1lbW9yeVwiKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgY29uc3QgU3RvcmFnZSA9IHN0b3JhZ2UgPT09IFwibG9jYWxcIiA/IGxvY2FsU3RvcmFnZSA6IHNlc3Npb25TdG9yYWdlO1xuXG4gICAgY29uc3QgaXRlbSA9IFN0b3JhZ2UuZ2V0SXRlbSh0aGlzLl9pZCk7XG4gICAgaWYgKGl0ZW0pIHtcbiAgICAgIHRoaXMuX3N0YXRlID0gdGhpcy5fcHJldlN0YXRlID0gSlNPTi5wYXJzZShpdGVtKTtcbiAgICB9IGVsc2Uge1xuICAgICAgU3RvcmFnZS5zZXRJdGVtKHRoaXMuX2lkLCBKU09OLnN0cmluZ2lmeShkZWZhdWx0U3RhdGUpKTtcbiAgICB9XG4gIH1cblxuICBwcml2YXRlIHBlcnNpc3Qoc3RhdGU6IGFueSkge1xuICAgIGlmICh0aGlzLl9zdG9yYWdlID09PSBcIm1lbW9yeVwiKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIGNvbnN0IFN0b3JhZ2UgPSB0aGlzLl9zdG9yYWdlID09PSBcImxvY2FsXCIgPyBsb2NhbFN0b3JhZ2UgOiBzZXNzaW9uU3RvcmFnZTtcbiAgICBTdG9yYWdlLnNldEl0ZW0odGhpcy5faWQsIEpTT04uc3RyaW5naWZ5KHN0YXRlKSk7XG4gIH1cblxuICBwdWJsaWMgY2xlYXIoKSB7XG4gICAgdGhpcy5fc3RhdGUgPSB0aGlzLl9wcmV2U3RhdGUgPSB1bmRlZmluZWQ7XG4gICAgY29uc3QgU3RvcmFnZSA9IHRoaXMuX3N0b3JhZ2UgPT09IFwibG9jYWxcIiA/IGxvY2FsU3RvcmFnZSA6IHNlc3Npb25TdG9yYWdlO1xuICAgIFN0b3JhZ2UucmVtb3ZlSXRlbSh0aGlzLl9pZCk7XG4gIH1cblxuICBwdWJsaWMgc2V0IHN0YXRlKHN0YXRlOiBhbnkpIHtcbiAgICB0aGlzLl9wcmV2U3RhdGUgPSB0aGlzLl9zdGF0ZTtcbiAgICB0aGlzLl9zdGF0ZSA9IHN0YXRlO1xuXG4gICAgdGhpcy5wZXJzaXN0KHN0YXRlKTtcblxuICAgIHRoaXMuX2xpc3RlbmVycy5mb3JFYWNoKChmdW5jKSA9PiB7XG4gICAgICBmdW5jKHRoaXMuX3N0YXRlLCB0aGlzLl9wcmV2U3RhdGUpO1xuICAgIH0pO1xuICB9XG5cbiAgcHVibGljIGdldCBzdGF0ZSgpIHtcbiAgICByZXR1cm4gdGhpcy5fc3RhdGU7XG4gIH1cblxuICBwdWJsaWMgc2V0U3RhdGUoc3RhdGU6IGFueSkge1xuICAgIHRoaXMuc3RhdGUgPSBzdGF0ZTtcbiAgfVxuXG4gIHB1YmxpYyB1c2UoKSB7XG4gICAgY29uc3QgaWQgPSBNYXRoLnJhbmRvbSgpLnRvU3RyaW5nKDM2KS5zdWJzdHIoMiwgOSk7XG4gICAgY29uc3QgX3RoaXMgPSB0aGlzO1xuICAgIHJldHVybiB7XG4gICAgICBnZXQgc3RhdGUoKSB7XG4gICAgICAgIHJldHVybiBfdGhpcy5zdGF0ZTtcbiAgICAgIH0sXG4gICAgICBzZXRTdGF0ZShzdGF0ZTogYW55KSB7XG4gICAgICAgIF90aGlzLnNldFN0YXRlKHN0YXRlKTtcbiAgICAgIH0sXG4gICAgICBzdWJzY3JpYmUoZnVuYzogKG5ld1N0YXRlOiBhbnksIHByZXZTdGF0ZTogYW55KSA9PiB2b2lkKSB7XG4gICAgICAgIF90aGlzLl9saXN0ZW5lcnMuc2V0KGlkLCBmdW5jKTtcbiAgICAgIH0sXG4gICAgICBjYW5jZWwoKSB7XG4gICAgICAgIF90aGlzLl9saXN0ZW5lcnMuZGVsZXRlKGlkKTtcbiAgICAgIH0sXG4gICAgfTtcbiAgfVxufVxuIiwiaW1wb3J0IHsgSGVsbWV0IH0gZnJvbSBcIi4uL2NvbXBvbmVudHNcIjtcbmltcG9ydCB7IENvbXBvbmVudCwgaCwgRnJhZ21lbnQgfSBmcm9tIFwiLlwiO1xuXG5leHBvcnQgZnVuY3Rpb24gd2l0aFN0eWxlcyhzdHlsZXM6IGFueSk6IGFueSB7XG4gIHJldHVybiBmdW5jdGlvbiAoV3JhcHBlZENvbXBvbmVudDogYW55KSB7XG4gICAgcmV0dXJuIGNsYXNzIGV4dGVuZHMgQ29tcG9uZW50IHtcbiAgICAgIHJlbmRlcigpIHtcbiAgICAgICAgY29uc3QgeyBjaGlsZHJlbiwgLi4ucmVzdCB9ID0gdGhpcy5wcm9wcztcblxuICAgICAgICBjb25zdCBoZWxtZXQgPSBoKEhlbG1ldCwgbnVsbCwgaChcInN0eWxlXCIsIG51bGwsIHN0eWxlcy50b1N0cmluZygpKSk7XG5cbiAgICAgICAgY29uc3QgY29tcG9uZW50ID0gY2hpbGRyZW4ubGVuZ3RoXG4gICAgICAgICAgPyBoKFdyYXBwZWRDb21wb25lbnQsIHsgLi4ucmVzdCB9LCBjaGlsZHJlbilcbiAgICAgICAgICA6IGgoV3JhcHBlZENvbXBvbmVudCwgeyAuLi50aGlzLnByb3BzIH0pO1xuXG4gICAgICAgIHJldHVybiBoKEZyYWdtZW50LCBudWxsLCBoZWxtZXQsIGNvbXBvbmVudCk7XG4gICAgICB9XG4gICAgfTtcbiAgfTtcbn1cbiIsImV4cG9ydCB7IG5leHRUaWNrIH0gZnJvbSBcIi4vdXRpbHNcIjtcbmV4cG9ydCB7IHJlbmRlclRvU3RyaW5nIH0gZnJvbSBcIi4vc3NyXCI7XG5leHBvcnQge1xuICBoLFxuICByZW5kZXIsXG4gIGh5ZHJhdGUsXG4gIEZyYWdtZW50LFxuICBDb21wb25lbnQsXG4gIHdpdGhTdHlsZXMsXG4gIGNyZWF0ZUNvbnRleHQsXG4gIGxhenlIeWRyYXRpb24sXG4gIFN0b3JlLFxufSBmcm9tIFwiLi9jb3JlXCI7XG5leHBvcnQge1xuICBTdXNwZW5zZSxcbiAgTGluayxcbiAgU3dpdGNoLFxuICBSb3V0ZSxcbiAgVmlyYUxpbmssXG4gIEltZyxcbiAgSGVsbWV0LFxuICBWaXNpYmxlLFxufSBmcm9tIFwiLi9jb21wb25lbnRzXCI7XG5cbmltcG9ydCB7IGgsIHJlbmRlciwgaHlkcmF0ZSwgbGF6eUh5ZHJhdGlvbiwgRnJhZ21lbnQgfSBmcm9tIFwiLi9jb3JlXCI7XG5pbXBvcnQgeyByZW5kZXJUb1N0cmluZyB9IGZyb20gXCIuL3NzclwiO1xuZXhwb3J0IGRlZmF1bHQge1xuICByZW5kZXIsXG4gIGh5ZHJhdGUsXG4gIGgsXG4gIGxhenlIeWRyYXRpb24sXG4gIHJlbmRlclRvU3RyaW5nLFxuICBGcmFnbWVudCxcbn07XG4iLCJpbXBvcnQgeyBIVE1MRWxlbWVudFNTUiB9IGZyb20gXCIuXCI7XG5cbmV4cG9ydCBjbGFzcyBEb2N1bWVudFNTUiB7XG4gIGJvZHk6IEhUTUxFbGVtZW50U1NSO1xuICBoZWFkOiBIVE1MRWxlbWVudFNTUjtcblxuICBjb25zdHJ1Y3RvcigpIHtcbiAgICB0aGlzLmJvZHkgPSB0aGlzLmNyZWF0ZUVsZW1lbnQoXCJib2R5XCIpO1xuICAgIHRoaXMuaGVhZCA9IHRoaXMuY3JlYXRlRWxlbWVudChcImhlYWRcIik7XG4gIH1cblxuICBjcmVhdGVFbGVtZW50KHRhZzogc3RyaW5nKSB7XG4gICAgcmV0dXJuIG5ldyBIVE1MRWxlbWVudFNTUih0YWcpO1xuICB9XG5cbiAgY3JlYXRlRWxlbWVudE5TKF9VUkk6IHN0cmluZywgdGFnOiBzdHJpbmcpIHtcbiAgICByZXR1cm4gbmV3IEhUTUxFbGVtZW50U1NSKHRhZyk7XG4gIH1cblxuICBjcmVhdGVUZXh0Tm9kZSh0ZXh0OiBzdHJpbmcpIHtcbiAgICByZXR1cm4gdGV4dDtcbiAgfVxuXG4gIHF1ZXJ5U2VsZWN0b3IoX3F1ZXJ5OiBhbnkpIHtcbiAgICByZXR1cm4gdW5kZWZpbmVkO1xuICB9XG59XG4iLCJleHBvcnQgY2xhc3MgSFRNTEVsZW1lbnRTU1Ige1xuICBzc3I6IHN0cmluZztcbiAgc2VsZkNsb3Npbmc6IGJvb2xlYW47XG4gIHRhZ05hbWU6IHN0cmluZztcblxuICBjb25zdHJ1Y3Rvcih0YWc6IHN0cmluZykge1xuICAgIHRoaXMudGFnTmFtZSA9IHRhZztcbiAgICBjb25zdCBzZWxmQ2xvc2luZyA9IFtcbiAgICAgIFwiYXJlYVwiLFxuICAgICAgXCJiYXNlXCIsXG4gICAgICBcImJyXCIsXG4gICAgICBcImNvbFwiLFxuICAgICAgXCJlbWJlZFwiLFxuICAgICAgXCJoclwiLFxuICAgICAgXCJpbWdcIixcbiAgICAgIFwiaW5wdXRcIixcbiAgICAgIFwibGlua1wiLFxuICAgICAgXCJtZXRhXCIsXG4gICAgICBcInBhcmFtXCIsXG4gICAgICBcInNvdXJjZVwiLFxuICAgICAgXCJ0cmFja1wiLFxuICAgICAgXCJ3YnJcIixcbiAgICBdO1xuXG4gICAgaWYgKHNlbGZDbG9zaW5nLmluZGV4T2YodGFnKSA+PSAwKSB7XG4gICAgICB0aGlzLnNzciA9IGA8JHt0YWd9IC8+YDtcbiAgICAgIHRoaXMuc2VsZkNsb3NpbmcgPSB0cnVlO1xuICAgIH0gZWxzZSB7XG4gICAgICB0aGlzLnNzciA9IGA8JHt0YWd9PjwvJHt0YWd9PmA7XG4gICAgfVxuICB9XG5cbiAgZ2V0IG91dGVySFRNTCgpIHtcbiAgICByZXR1cm4gdGhpcy5pbm5lclRleHQ7XG4gIH1cblxuICBnZXQgaW5uZXJIVE1MKCkge1xuICAgIGNvbnN0IHJlZyA9IC8oXjxbYS16XSs+KShbXFxzXFxTXSopKDxcXC9bYS16XSs+JCkvZ207XG4gICAgcmV0dXJuIHJlZy5leGVjKHRoaXMuc3NyKT8uWzJdID8/IFwiXCI7XG4gIH1cblxuICBnZXQgaW5uZXJUZXh0KCkge1xuICAgIGNvbnN0IHJlZyA9IC8oXjxbXj5dKz4pKC4rKT8oPFxcL1thLXpdKz4kfFxcLz4kKS9nbTtcbiAgICByZXR1cm4gcmVnLmV4ZWModGhpcy5zc3IpPy5bMl0gPz8gXCJcIjtcbiAgfVxuXG4gIHNldCBpbm5lclRleHQodGV4dCkge1xuICAgIGNvbnN0IHJlZyA9IC8oXjxbXj5dKz4pKC4rKT8oPFxcL1thLXpdKz4kfFxcLz4kKS9nbTtcbiAgICB0aGlzLnNzciA9IHRoaXMuc3NyLnJlcGxhY2UocmVnLCBgJDEke3RleHR9JDNgKTtcbiAgfVxuXG4gIGdldCBhdHRyaWJ1dGVzKCkge1xuICAgIHJldHVybiB7IGxlbmd0aDogMSB9O1xuICB9XG5cbiAgZ2V0IGNoaWxkcmVuKCkge1xuICAgIGNvbnN0IHJlZyA9IC88KFthLXpdKykoKD8hPFxcL1xcMSkuKSo8XFwvXFwxPi9nbXM7XG5cbiAgICBjb25zdCBhcnJheSA9IFtdO1xuXG4gICAgbGV0IG1hdGNoO1xuXG4gICAgd2hpbGUgKChtYXRjaCA9IHJlZy5leGVjKHRoaXMuaW5uZXJIVE1MKSkgIT09IG51bGwpIHtcbiAgICAgIGFycmF5LnB1c2gobWF0Y2hbMF0ucmVwbGFjZSgvW1xcc10rL2dtLCBcIiBcIikpO1xuICAgIH1cblxuICAgIHJldHVybiBhcnJheTtcbiAgfVxuICBzZXRBdHRyaWJ1dGVOUyhuYW1lOiBzdHJpbmcsIHZhbHVlOiBhbnkpIHtcbiAgICB0aGlzLnNldEF0dHJpYnV0ZShuYW1lLCB2YWx1ZSk7XG4gIH1cblxuICBzZXRBdHRyaWJ1dGUobmFtZTogc3RyaW5nLCB2YWx1ZTogYW55KSB7XG4gICAgaWYgKHRoaXMuc2VsZkNsb3NpbmcpXG4gICAgICB0aGlzLnNzciA9IHRoaXMuc3NyLnJlcGxhY2UoXG4gICAgICAgIC8oXjxbYS16XSsgKSguKykvZ20sXG4gICAgICAgIGAkMSR7bmFtZX09XCIke3ZhbHVlfVwiICQyYCxcbiAgICAgICk7XG4gICAgZWxzZVxuICAgICAgdGhpcy5zc3IgPSB0aGlzLnNzci5yZXBsYWNlKC8oXjxbXj5dKykoLispL2dtLCBgJDEgJHtuYW1lfT1cIiR7dmFsdWV9XCIkMmApO1xuICB9XG5cbiAgYXBwZW5kQ2hpbGQoY2hpbGQ6IGFueSkge1xuICAgIGNvbnN0IGFwcGVuZCA9IGNoaWxkLnNzciA/IGNoaWxkLnNzciA6IGNoaWxkO1xuXG4gICAgY29uc3QgaW5kZXggPSB0aGlzLnNzci5sYXN0SW5kZXhPZihcIjwvXCIpO1xuXG4gICAgdGhpcy5zc3IgPVxuICAgICAgdGhpcy5zc3Iuc3Vic3RyaW5nKDAsIGluZGV4KSArIGFwcGVuZCArIHRoaXMuc3NyLnN1YnN0cmluZyhpbmRleCk7XG4gIH1cblxuICByZXBsYWNlQ2hpbGQobmV3Q2hpbGQ6IGFueSwgX29sZENoaWxkPzogYW55KSB7XG4gICAgdGhpcy5pbm5lclRleHQgPSBuZXdDaGlsZC5zc3I7XG4gIH1cblxuICBhZGRFdmVudExpc3RlbmVyKF90eXBlOiBhbnksIF9saXN0ZW5lcjogYW55LCBfb3B0aW9ucz86IGFueSkge31cbn1cbiIsImV4cG9ydCB7IHJlbmRlclRvU3RyaW5nIH0gZnJvbSBcIi4vcmVuZGVyVG9TdHJpbmdcIjtcbmV4cG9ydCB7IERvY3VtZW50U1NSIH0gZnJvbSBcIi4vZG9jdW1lbnRcIjtcbmV4cG9ydCB7IEhUTUxFbGVtZW50U1NSIH0gZnJvbSBcIi4vZWxlbWVudHNcIjtcbiIsImltcG9ydCB7IERvY3VtZW50U1NSIH0gZnJvbSBcIi5cIjtcbmltcG9ydCB7IHJlbmRlciwgX3N0YXRlIH0gZnJvbSBcIi4uL2NvcmVcIjtcbmltcG9ydCB7IGRldGVjdFNTUiB9IGZyb20gXCIuLi91dGlsc1wiO1xuXG5nbG9iYWxUaGlzLmlzU1NSID0gZGV0ZWN0U1NSKCkgPT09IHRydWUgPyB0cnVlIDogdW5kZWZpbmVkO1xuZ2xvYmFsVGhpcy5fbmFubyA9IHsgaXNTU1IsIGxvY2F0aW9uOiB7IHBhdGhuYW1lOiBcIi9cIiB9IH07XG5cbmV4cG9ydCBmdW5jdGlvbiBpbml0U1NSKHBhdGhuYW1lOiBzdHJpbmcgPSBcIi9cIikge1xuICBfbmFuby5sb2NhdGlvbiA9IHsgcGF0aG5hbWUgfTtcbiAgLy8gQHRzLWlnbm9yZVxuICBnbG9iYWxUaGlzLmRvY3VtZW50ID0gaXNTU1IgPyBuZXcgRG9jdW1lbnRTU1IoKSA6IHdpbmRvdy5kb2N1bWVudDtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIHJlbmRlclRvU3RyaW5nKFxuICBjb21wb25lbnQ6IGFueSxcbiAgb3B0aW9uczogeyBwYXRobmFtZT86IHN0cmluZzsgY2xlYXJTdGF0ZT86IGJvb2xlYW4gfSA9IHt9LFxuKSB7XG4gIGNvbnN0IHsgcGF0aG5hbWUsIGNsZWFyU3RhdGUgPSB0cnVlIH0gPSBvcHRpb25zO1xuXG4gIGluaXRTU1IocGF0aG5hbWUpO1xuICBpZiAoY2xlYXJTdGF0ZSkgX3N0YXRlLmNsZWFyKCk7XG5cbiAgcmV0dXJuIHJlbmRlcihjb21wb25lbnQsIG51bGwsIHRydWUpLmpvaW4oXCJcIikgYXMgc3RyaW5nO1xufVxuIiwiaW1wb3J0IHsgaCB9IGZyb20gXCIuXCI7XG5cbmV4cG9ydCBjb25zdCBuZXh0VGljayA9XG4gIHR5cGVvZiBQcm9taXNlID09PSBcImZ1bmN0aW9uXCJcbiAgICA/IFByb21pc2UucHJvdG90eXBlLnRoZW4uYmluZChQcm9taXNlLnJlc29sdmUoKSlcbiAgICA6IHNldFRpbWVvdXQ7XG5cbmV4cG9ydCBmdW5jdGlvbiBpc0V2ZW50KGVsOiBhbnksIHByb3A6IHN0cmluZykge1xuICBpZiAocHJvcC5pbmRleE9mKFwib25cIikgIT09IDApIHtcbiAgICByZXR1cm4gZmFsc2U7XG4gIH1cbiAgaWYgKGVsLnNzcikgcmV0dXJuIHRydWU7XG4gIHJldHVybiBbXCJmdW5jdGlvblwiLCBcIm9iamVjdFwiXS5pbmNsdWRlcyh0eXBlb2YgZWxbcHJvcF0pO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gZGV0ZWN0U1NSKCkge1xuICByZXR1cm4gKFxuICAgIC8vQHRzLWlnbm9yZVxuICAgIHR5cGVvZiBEZW5vICE9PSBcInVuZGVmaW5lZFwiIHx8IHR5cGVvZiB3aW5kb3cgPT09IFwidW5kZWZpbmVkXCIgLyogJiYgaXNTU1IgKi9cbiAgKTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIHN0clRvSGFzaChzdHI6IHN0cmluZykge1xuICBsZXQgaGFzaCA9IDA7XG5cbiAgaWYgKCFzdHIubGVuZ3RoKSByZXR1cm4gaGFzaDtcbiAgZm9yIChsZXQgaSA9IDA7IGkgPCBzdHIubGVuZ3RoOyBpKyspIHtcbiAgICBjb25zdCBjaGFyID0gc3RyLmNoYXJDb2RlQXQoaSk7XG4gICAgaGFzaCA9IChoYXNoIDw8IDUpIC0gaGFzaCArIGNoYXI7XG4gICAgaGFzaCB8PSAwO1xuICB9XG4gIHJldHVybiBNYXRoLmFicyhoYXNoKS50b1N0cmluZygzMik7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBpc0Rlc2NlbmRhbnQoZGVzY2VuZGFudDogYW55LCByb290OiBhbnkpOiBib29sZWFuIHtcbiAgcmV0dXJuIChcbiAgICBkZXNjZW5kYW50ICYmXG4gICAgKGRlc2NlbmRhbnQgPT09IHJvb3QgfHwgaXNEZXNjZW5kYW50KGRlc2NlbmRhbnQucGFyZW50Tm9kZSwgcm9vdCkpXG4gICk7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBvbk5vZGVSZW1vdmUoZWw6IEhUTUxFbGVtZW50LCBjYWxsYmFjazogKCkgPT4gYW55KSB7XG4gIGxldCBvYnNlcnZlciA9IG5ldyBNdXRhdGlvbk9ic2VydmVyKChtdXRMaXN0KSA9PiB7XG4gICAgZm9yIChjb25zdCBtdXQgb2YgbXV0TGlzdCkge1xuICAgICAgbXV0LnJlbW92ZWROb2Rlcy5mb3JFYWNoKChyZW1vdmVkTm9kZSkgPT4ge1xuICAgICAgICBpZiAoaXNEZXNjZW5kYW50KGVsLCByZW1vdmVkTm9kZSkpIHtcbiAgICAgICAgICBjYWxsYmFjaygpO1xuICAgICAgICAgIGlmIChvYnNlcnZlcikge1xuICAgICAgICAgICAgb2JzZXJ2ZXIuZGlzY29ubmVjdCgpO1xuICAgICAgICAgICAgLy8gQHRzLWlnbm9yZVxuICAgICAgICAgICAgb2JzZXJ2ZXIgPSB1bmRlZmluZWQ7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9KTtcbiAgICB9XG4gIH0pO1xuICBvYnNlcnZlci5vYnNlcnZlKGRvY3VtZW50LCB7XG4gICAgY2hpbGRMaXN0OiB0cnVlLFxuICAgIHN1YnRyZWU6IHRydWUsXG4gIH0pO1xuICByZXR1cm4gb2JzZXJ2ZXI7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiB0YXNrKGZ1bmM6ICgpID0+IHZvaWQpIHtcbiAgcmV0dXJuIHNldFRpbWVvdXQoZnVuYywgMCk7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBub2RlVG9TdHJpbmcobm9kZTogYW55KSB7XG4gIGNvbnN0IHRlbXAgPSBkb2N1bWVudC5jcmVhdGVEb2N1bWVudEZyYWdtZW50KCk7XG4gIHRlbXAuYXBwZW5kQ2hpbGQobm9kZS5jbG9uZU5vZGUodHJ1ZSkpO1xuICByZXR1cm4gdGVtcC50b1N0cmluZygpO1xufVxuXG5leHBvcnQgY29uc3QgYWRkU3R5bGVzVG9IZWFkID0gKHN0eWxlczogc3RyaW5nLCBoYXNoOiBzdHJpbmcpID0+IHtcbiAgY29uc3QgZWwgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKGBbZGF0YS1jc3MtaGFzaCo9XCIke2hhc2h9XCJdYCk7XG4gIGlmICghZWwpIHtcbiAgICBjb25zdCBzdHlsZUVsZW1lbnQgPSBoKFwic3R5bGVcIiwgeyBcImRhdGEtY3NzLWhhc2hcIjogaGFzaCB9LCBzdHlsZXMpO1xuICAgIGRvY3VtZW50LmhlYWQuYXBwZW5kQ2hpbGQoc3R5bGVFbGVtZW50KTtcbiAgfVxufTtcbiIsIi8vIFRoZSBtb2R1bGUgY2FjaGVcbnZhciBfX3dlYnBhY2tfbW9kdWxlX2NhY2hlX18gPSB7fTtcblxuLy8gVGhlIHJlcXVpcmUgZnVuY3Rpb25cbmZ1bmN0aW9uIF9fd2VicGFja19yZXF1aXJlX18obW9kdWxlSWQpIHtcblx0Ly8gQ2hlY2sgaWYgbW9kdWxlIGlzIGluIGNhY2hlXG5cdHZhciBjYWNoZWRNb2R1bGUgPSBfX3dlYnBhY2tfbW9kdWxlX2NhY2hlX19bbW9kdWxlSWRdO1xuXHRpZiAoY2FjaGVkTW9kdWxlICE9PSB1bmRlZmluZWQpIHtcblx0XHRyZXR1cm4gY2FjaGVkTW9kdWxlLmV4cG9ydHM7XG5cdH1cblx0Ly8gQ3JlYXRlIGEgbmV3IG1vZHVsZSAoYW5kIHB1dCBpdCBpbnRvIHRoZSBjYWNoZSlcblx0dmFyIG1vZHVsZSA9IF9fd2VicGFja19tb2R1bGVfY2FjaGVfX1ttb2R1bGVJZF0gPSB7XG5cdFx0Ly8gbm8gbW9kdWxlLmlkIG5lZWRlZFxuXHRcdC8vIG5vIG1vZHVsZS5sb2FkZWQgbmVlZGVkXG5cdFx0ZXhwb3J0czoge31cblx0fTtcblxuXHQvLyBFeGVjdXRlIHRoZSBtb2R1bGUgZnVuY3Rpb25cblx0X193ZWJwYWNrX21vZHVsZXNfX1ttb2R1bGVJZF0uY2FsbChtb2R1bGUuZXhwb3J0cywgbW9kdWxlLCBtb2R1bGUuZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXyk7XG5cblx0Ly8gUmV0dXJuIHRoZSBleHBvcnRzIG9mIHRoZSBtb2R1bGVcblx0cmV0dXJuIG1vZHVsZS5leHBvcnRzO1xufVxuXG4iLCJpbXBvcnQgeyBoLCByZW5kZXIgfSBmcm9tIFwiLi4vY29yZVwiO1xuXG5leHBvcnQgZGVmYXVsdCB7XG4gIGgsXG4gIHJlbmRlcixcbn07XG4iXSwibmFtZXMiOlsiSGVsbWV0IiwiQ29tcG9uZW50Iiwic3RhdGljIiwiYm9keSIsInJlZyIsImhlYWQiLCJmb290ZXIiLCJkb2N1bWVudCIsImNoaWxkcmVuIiwiaSIsImxlbmd0aCIsImluZGV4T2YiLCJwdXNoIiwicmVzdWx0IiwiZXhlYyIsImZpcnN0Iiwic2Vjb25kIiwiaW5jbHVkZXMiLCJyZXBsYWNlIiwibW91bnQiLCJlbGVtZW50IiwidGhpcyIsInByb3BzIiwicGFyZW50IiwidGFnIiwidGFnTmFtZSIsImF0dHJzIiwiaW5uZXJUZXh0IiwiYXR0cmlidXRlcyIsIml0ZW0iLCJuYW1lIiwidG9Mb3dlckNhc2UiLCJ2YWx1ZSIsImh0bWxUYWciLCJnZXRFbGVtZW50c0J5VGFnTmFtZSIsInNldEF0dHJpYnV0ZSIsInRpdGxlVGFnIiwidGV4dCIsImgiLCJpbm5lckhUTUwiLCJhcHBlbmRDaGlsZCIsImV4aXN0cyIsInNvcnQiLCJlbCIsImF0dHJzMiIsImoiLCJKU09OIiwic3RyaW5naWZ5IiwiYXBwZW5kQ2hpbGRyZW4iLCJyZW5kZXIiLCJpc1NTUiIsIkltZyIsImNvbnN0cnVjdG9yIiwic3VwZXIiLCJrZXkiLCJzcmMiLCJpZCIsInN0clRvSGFzaCIsInN0YXRlIiwic2V0U3RhdGUiLCJpbWFnZSIsImlzTG9hZGVkIiwibGF6eSIsInBsYWNlaG9sZGVyIiwicmVmIiwicmVzdCIsIkludGVyc2VjdGlvbk9ic2VydmVyIiwiZW50cmllcyIsIm9ic2VydmVyIiwiZW50cnkiLCJpc0ludGVyc2VjdGluZyIsImRpc2Nvbm5lY3QiLCJjb21wbGV0ZSIsInVwZGF0ZSIsIm9ubG9hZCIsInRocmVzaG9sZCIsIm9ic2VydmUiLCJlbGVtZW50cyIsInN0eWxlIiwiYmFja2dyb3VuZENvbG9yIiwid2lkdGgiLCJoZWlnaHQiLCJvdGhlcnMiLCJMaW5rIiwiU3VzcGVuc2UiLCJWaXNpYmxlIiwiUm91dGUiLCJTd2l0Y2giLCJwcmVmZXRjaCIsImhyZWYiLCJkZWxheSIsImJhY2siLCJhZGRFdmVudExpc3RlbmVyIiwiZSIsInByZXZlbnREZWZhdWx0IiwidGFyZ2V0IiwicmVmZXJyZXIiLCJ3aW5kb3ciLCJoaXN0b3J5IiwibG9jYXRpb24iLCJiaW5kIiwic2V0VGltZW91dCIsInByZWZldGNoT25Ib3ZlciIsInByZWZldGNoT25WaXNpYmxlIiwiYWRkUHJlZmV0Y2giLCJvbmNlIiwibGlua3MiLCJsaW5rIiwiZ2V0QXR0cmlidXRlIiwicmVsIiwiYXMiLCJhIiwiaGVsbWV0IiwiRnJhZ21lbnQiLCJpbnN0YW5jZXMiLCJoaXN0b3J5UHVzaCIsInBhdGgiLCJwdXNoU3RhdGUiLCJpbnN0YW5jZSIsImZvcmNlVXBkYXRlIiwiaGlzdG9yeVJlcGxhY2UiLCJyZXBsYWNlU3RhdGUiLCJtYXRjaFBhdGgiLCJwYXRobmFtZSIsIm9wdGlvbnMiLCJleGFjdCIsInJlZ2V4IiwibWF0Y2giLCJ1cmwiLCJpc0V4YWN0IiwicGFyYW1zIiwicGF0aEFyciIsInNwbGl0IiwicGF0aG5hbWVBcnIiLCJmb3JFYWNoIiwicCIsInRlc3QiLCJzbGljZSIsImpvaW4iLCJSZWdFeHAiLCJpbmRleCIsImRlc3Ryb3kiLCJzcGxpY2UiLCJyZW1vdmVFdmVudExpc3RlbmVyIiwiZmluZENoaWxkIiwic2hvdWxkVXBkYXRlIiwiY2hpbGQiLCJfbmFubyIsInJlbmRlckVsZW1lbnQiLCJmYWxsYmFjayIsImNsYXNzIiwicm91dGUiLCJ0byIsIm9uQ2xpY2siLCJldmVudCIsImlzUmVhZHkiLCJjYWNoZSIsIl9rZXkiLCJ2YWwiLCJpbml0aWFsU3RhdGUiLCJsb2FkRnJvbUNhY2hlIiwicHJvbWlzZXMiLCJPYmplY3QiLCJ2YWx1ZXMiLCJtYXAiLCJyZXNvbHZlZCIsIlByb21pc2UiLCJhbGwiLCJkYXRhIiwicHJlcGFyZURhdGEiLCJhZGREYXRhVG9DaGlsZHJlbiIsImNhY2hlZCIsImtleXMiLCJzc3IiLCJmdW5jcyIsImZ1bmMiLCJyZWR1Y2UiLCJhY2MiLCJpc1Zpc2libGUiLCJvblZpc2libGUiLCJjb21wb25lbnQiLCJ2aXNpYmlsaXR5IiwiQXJyYXkiLCJpc0FycmF5IiwiZnJvbSIsImNvbXAiLCJub2RlVHlwZSIsImNyZWF0ZVRleHROb2RlIiwiX2VsZW1lbnRzIiwiX2dldEhhc2giLCJfdXBkYXRlIiwiYmVmb3JlTW91bnQiLCJfc3RhdGUiLCJnZXQiLCJzZXQiLCJhZGROb2RlUmVtb3ZlTGlzdGVuZXIiLCJ0b1N0cmluZyIsIm9uTm9kZVJlbW92ZSIsIl9za2lwVW5tb3V0IiwiX21vdW50IiwiX2Rlc3RvcnkiLCJfaGFzVW5tb3VudGVkIiwib2xkRWxlbWVudHMiLCJwYXJlbnRFbGVtZW50IiwiY29uc29sZSIsIndhcm4iLCJpbnNlcnRCZWZvcmUiLCJyZW1vdmUiLCJuZXh0VGljayIsImlzQ29ubmVjdGVkIiwiY3R4IiwiX2N0eCIsIlByb3ZpZGVyIiwiQ29uc3VtZXIiLCJjb250ZXh0IiwiaE5TIiwiY3JlYXRlRWxlbWVudCIsInN0eWxlcyIsImsiLCJpc0V2ZW50Iiwic3Vic3RyaW5nIiwicmVtb3ZlQ2hpbGROb2RlcyIsImh5ZHJhdGUiLCJjcmVhdGVDb250ZXh0IiwiX2NsZWFyU3RhdGUiLCJsYXp5SHlkcmF0aW9uIiwid2l0aFN0eWxlcyIsIlN0b3JlIiwiY21wIiwicmVtb3ZlQWxsQ2hpbGROb2RlcyIsImZpcnN0Q2hpbGQiLCJyZW1vdmVDaGlsZCIsImMiLCJyZXBsYWNlQ2hpbGQiLCJjcmVhdGVFbGVtZW50TlMiLCJzdmciLCJhdHRyIiwiU1ZHIiwicHJvdG90eXBlIiwiRnVuY3Rpb24iLCJjYWxsIiwiaGFzaCIsInJlbmRlckNsYXNzQ29tcG9uZW50IiwicmVuZGVyRnVuY3Rpb25hbENvbXBvbmVudCIsImZsYXQiLCJNYXAiLCJjbGVhciIsImRlZmF1bHRTdGF0ZSIsInN0b3JhZ2UiLCJfbGlzdGVuZXJzIiwiX2lkIiwiX3N0b3JhZ2UiLCJfcHJldlN0YXRlIiwiU3RvcmFnZSIsImxvY2FsU3RvcmFnZSIsInNlc3Npb25TdG9yYWdlIiwiZ2V0SXRlbSIsInBhcnNlIiwic2V0SXRlbSIsInBlcnNpc3QiLCJ1bmRlZmluZWQiLCJyZW1vdmVJdGVtIiwidXNlIiwiTWF0aCIsInJhbmRvbSIsInN1YnN0ciIsIl90aGlzIiwic3Vic2NyaWJlIiwiY2FuY2VsIiwiZGVsZXRlIiwiV3JhcHBlZENvbXBvbmVudCIsInJlbmRlclRvU3RyaW5nIiwiVmlyYUxpbmsiLCJIVE1MRWxlbWVudFNTUiIsIl9VUkkiLCJxdWVyeVNlbGVjdG9yIiwiX3F1ZXJ5Iiwic2VsZkNsb3NpbmciLCJvdXRlckhUTUwiLCJhcnJheSIsInNldEF0dHJpYnV0ZU5TIiwiYXBwZW5kIiwibGFzdEluZGV4T2YiLCJuZXdDaGlsZCIsIl9vbGRDaGlsZCIsIl90eXBlIiwiX2xpc3RlbmVyIiwiX29wdGlvbnMiLCJEb2N1bWVudFNTUiIsImluaXRTU1IiLCJnbG9iYWxUaGlzIiwiZGV0ZWN0U1NSIiwiY2xlYXJTdGF0ZSIsImlzRGVzY2VuZGFudCIsImRlc2NlbmRhbnQiLCJyb290IiwicGFyZW50Tm9kZSIsInRoZW4iLCJyZXNvbHZlIiwicHJvcCIsIkRlbm8iLCJzdHIiLCJjaGFyQ29kZUF0IiwiYWJzIiwiY2FsbGJhY2siLCJNdXRhdGlvbk9ic2VydmVyIiwibXV0TGlzdCIsIm11dCIsInJlbW92ZWROb2RlcyIsInJlbW92ZWROb2RlIiwiY2hpbGRMaXN0Iiwic3VidHJlZSIsIm5vZGUiLCJ0ZW1wIiwiY3JlYXRlRG9jdW1lbnRGcmFnbWVudCIsImNsb25lTm9kZSIsImFkZFN0eWxlc1RvSGVhZCIsInN0eWxlRWxlbWVudCIsIl9fd2VicGFja19tb2R1bGVfY2FjaGVfXyIsIl9fd2VicGFja19yZXF1aXJlX18iLCJtb2R1bGVJZCIsImNhY2hlZE1vZHVsZSIsImV4cG9ydHMiLCJtb2R1bGUiLCJfX3dlYnBhY2tfbW9kdWxlc19fIl0sInNvdXJjZVJvb3QiOiIifQ==