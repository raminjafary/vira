var vira;
/******/ (() => {
  // webpackBootstrap
  /******/ "use strict";
  /******/ var __webpack_modules__ = {
    /***/ "./src/components/helmet.ts":
      /*!**********************************!*\
  !*** ./src/components/helmet.ts ***!
  \**********************************/
      /***/ (__unused_webpack_module, exports, __webpack_require__) => {
        Object.defineProperty(exports, "__esModule", { value: true });
        exports.Helmet = void 0;
        const core_1 = __webpack_require__(
          /*! ../core */ "./src/core/index.ts",
        );
        class Helmet extends core_1.Component {
          static SSR(body) {
            const reg = /(<helmet\b[^>]*>)((.|\n)*?)(<\/helmet>)/gm;
            const head = [];
            const footer = [];
            if (
              document === null || document === void 0 ? void 0 : document.head
            ) {
              let children = document.head.children;
              for (let i = 0; i < children.length; i++) {
                if (head.indexOf(children[i]) === -1) {
                  head.push(children[i]);
                }
              }
            }
            let result;
            while ((result = reg.exec(body)) != null) {
              const first = result[1];
              const second = result[2];
              const toHead = first.includes('data-placement="head"');
              if (toHead && !head.includes(second)) head.push(second);
              else if (!footer.includes(second)) footer.push(second);
            }
            const cleanBody = body.replace(reg, "");
            return {
              body: cleanBody,
              head,
              footer,
            };
          }
          mount() {
            var _a, _b, _c, _d;
            for (const element of this.props.children) {
              const parent = this.props.footer ? document.body : document.head;
              const tag = element.tagName;
              let attrs = [];
              attrs.push(element.innerText);
              for (let i = 0; i < element.attributes.length; i++) {
                attrs.push(
                  (_a = element.attributes.item(i)) === null || _a === void 0
                    ? void 0
                    : _a.name.toLowerCase(),
                );
                attrs.push(
                  (_b = element.attributes.item(i)) === null || _b === void 0
                    ? void 0
                    : _b.value.toLowerCase(),
                );
              }
              if (tag === "HTML" || tag === "BODY") {
                const htmlTag = document.getElementsByTagName(tag)[0];
                for (let i = 1; i < element.attributes.length; i += 2) {
                  htmlTag.setAttribute(attrs[i], attrs[i + 1]);
                }
                return;
              } else if (tag === "TITLE") {
                const titleTag = document.getElementsByTagName(tag);
                if (titleTag.length) {
                  titleTag[0].text = element.text;
                } else {
                  const titleTag = (0, core_1.h)(
                    "title",
                    null,
                    element.innerHTML,
                  );
                  parent.appendChild(titleTag);
                }
                return;
              }
              let exists = false;
              attrs = attrs.sort();
              const el = document.getElementsByTagName(tag);
              for (let i = 0; i < el.length; i++) {
                let attrs2 = [];
                attrs2.push(el[i].innerText);
                for (let j = 0; j < el[i].attributes.length; j++) {
                  attrs2.push(
                    (_c = el[i].attributes.item(j)) === null || _c === void 0
                      ? void 0
                      : _c.name.toLowerCase(),
                  );
                  attrs2.push(
                    (_d = el[i].attributes.item(j)) === null || _d === void 0
                      ? void 0
                      : _d.value.toLowerCase(),
                  );
                }
                attrs2 = attrs2.sort();
                if (
                  attrs.length > 0 &&
                  attrs2.length > 0 &&
                  JSON.stringify(attrs) === JSON.stringify(attrs2)
                )
                  exists = true;
              }
              if (!exists) {
                (0, core_1.appendChildren)(parent, element);
              }
            }
          }
          render() {
            if (isSSR) {
              return (0, core_1.h)(
                "helmet",
                {
                  "data-ssr": true,
                  "data-placement": this.props.footer ? "footer" : "head",
                },
                this.props.children,
              );
            } else {
              return [];
            }
          }
        }
        exports.Helmet = Helmet;

        /***/
      },

    /***/ "./src/components/img.ts":
      /*!*******************************!*\
  !*** ./src/components/img.ts ***!
  \*******************************/
      /***/ function (__unused_webpack_module, exports, __webpack_require__) {
        var __rest =
          (this && this.__rest) ||
          function (s, e) {
            var t = {};
            for (var p in s)
              if (
                Object.prototype.hasOwnProperty.call(s, p) &&
                e.indexOf(p) < 0
              )
                t[p] = s[p];
            if (s != null && typeof Object.getOwnPropertySymbols === "function")
              for (
                var i = 0, p = Object.getOwnPropertySymbols(s);
                i < p.length;
                i++
              ) {
                if (
                  e.indexOf(p[i]) < 0 &&
                  Object.prototype.propertyIsEnumerable.call(s, p[i])
                )
                  t[p[i]] = s[p[i]];
              }
            return t;
          };
        Object.defineProperty(exports, "__esModule", { value: true });
        exports.Img = void 0;
        const core_1 = __webpack_require__(
          /*! ../core */ "./src/core/index.ts",
        );
        const utils_1 = __webpack_require__(/*! ../utils */ "./src/utils.ts");
        class Img extends core_1.Component {
          constructor(props) {
            super(props);
            const { key, src } = this.props;
            this.id =
              (0, utils_1.strToHash)(src) +
              "-" +
              (0, utils_1.strToHash)(JSON.stringify(this.props));
            if (key) {
              this.id += `$key-${key}`;
            }
            if (!this.state) {
              this.setState({ image: "", isLoaded: false });
            }
          }
          mount() {
            const _a = this.props,
              { lazy = true, placeholder, key, ref, children } = _a,
              rest = __rest(_a, [
                "lazy",
                "placeholder",
                "key",
                "ref",
                "children",
              ]);
            if (!lazy) return;
            const observer = new IntersectionObserver(
              (entries, observer) => {
                for (const entry of entries) {
                  if (entry.isIntersecting) {
                    observer.disconnect();
                    this.state.image = (0, core_1.h)(
                      "img",
                      Object.assign({}, rest),
                    );
                    if (this.state.image.complete) {
                      this.state.isLoaded = true;
                      this.update();
                    } else {
                      this.state.image.onload = () => {
                        this.state.isLoaded = true;
                        this.update();
                      };
                    }
                  }
                }
              },
              { threshold: [0, 1] },
            );
            observer.observe(this.elements[0]);
          }
          render() {
            const _a = this.props,
              { lazy = true, src, placeholder, key, ref, children } = _a,
              rest = __rest(_a, [
                "lazy",
                "src",
                "placeholder",
                "key",
                "ref",
                "children",
              ]);
            if (!lazy) {
              this.state.image = (0, core_1.h)(
                "img",
                Object.assign({ src }, rest),
              );
              return this.state.image;
            }
            if (this.state.isLoaded) {
              return this.state.image;
            } else if (typeof placeholder === "string") {
              return (0, core_1.h)(
                "img",
                Object.assign({ src: placeholder }, rest),
              );
            } else if (typeof placeholder === "function") {
              return placeholder();
            } else {
              const style = {
                backgroundColor: "lightgray",
                width: "100px",
                height: "100px",
              };
              const { width, height } = rest,
                others = __rest(rest, ["width", "height"]);
              if (width) {
                style.width = width;
              }
              if (height) {
                style.height = height;
              }
              return (0, core_1.h)("div", Object.assign({ style }, others));
            }
          }
        }
        exports.Img = Img;

        /***/
      },

    /***/ "./src/components/index.ts":
      /*!*********************************!*\
  !*** ./src/components/index.ts ***!
  \*********************************/
      /***/ (__unused_webpack_module, exports, __webpack_require__) => {
        Object.defineProperty(exports, "__esModule", { value: true });
        exports.ViraLink =
          exports.Switch =
          exports.Route =
          exports.Visible =
          exports.Suspense =
          exports.Link =
          exports.Img =
          exports.Helmet =
            void 0;
        var helmet_1 = __webpack_require__(
          /*! ./helmet */ "./src/components/helmet.ts",
        );
        Object.defineProperty(exports, "Helmet", {
          enumerable: true,
          get: function () {
            return helmet_1.Helmet;
          },
        });
        var img_1 = __webpack_require__(/*! ./img */ "./src/components/img.ts");
        Object.defineProperty(exports, "Img", {
          enumerable: true,
          get: function () {
            return img_1.Img;
          },
        });
        var link_1 = __webpack_require__(
          /*! ./link */ "./src/components/link.ts",
        );
        Object.defineProperty(exports, "Link", {
          enumerable: true,
          get: function () {
            return link_1.Link;
          },
        });
        var suspense_1 = __webpack_require__(
          /*! ./suspense */ "./src/components/suspense.ts",
        );
        Object.defineProperty(exports, "Suspense", {
          enumerable: true,
          get: function () {
            return suspense_1.Suspense;
          },
        });
        var visible_1 = __webpack_require__(
          /*! ./visible */ "./src/components/visible.ts",
        );
        Object.defineProperty(exports, "Visible", {
          enumerable: true,
          get: function () {
            return visible_1.Visible;
          },
        });
        var router_1 = __webpack_require__(
          /*! ./router */ "./src/components/router.ts",
        );
        Object.defineProperty(exports, "Route", {
          enumerable: true,
          get: function () {
            return router_1.Route;
          },
        });
        Object.defineProperty(exports, "Switch", {
          enumerable: true,
          get: function () {
            return router_1.Switch;
          },
        });
        Object.defineProperty(exports, "ViraLink", {
          enumerable: true,
          get: function () {
            return router_1.Link;
          },
        });

        /***/
      },

    /***/ "./src/components/link.ts":
      /*!********************************!*\
  !*** ./src/components/link.ts ***!
  \********************************/
      /***/ function (__unused_webpack_module, exports, __webpack_require__) {
        var __rest =
          (this && this.__rest) ||
          function (s, e) {
            var t = {};
            for (var p in s)
              if (
                Object.prototype.hasOwnProperty.call(s, p) &&
                e.indexOf(p) < 0
              )
                t[p] = s[p];
            if (s != null && typeof Object.getOwnPropertySymbols === "function")
              for (
                var i = 0, p = Object.getOwnPropertySymbols(s);
                i < p.length;
                i++
              ) {
                if (
                  e.indexOf(p[i]) < 0 &&
                  Object.prototype.propertyIsEnumerable.call(s, p[i])
                )
                  t[p[i]] = s[p[i]];
              }
            return t;
          };
        Object.defineProperty(exports, "__esModule", { value: true });
        exports.Link = void 0;
        const core_1 = __webpack_require__(
          /*! ../core */ "./src/core/index.ts",
        );
        const helmet_1 = __webpack_require__(
          /*! ./helmet */ "./src/components/helmet.ts",
        );
        class Link extends core_1.Component {
          mount() {
            const { prefetch, href, delay, back = false } = this.props;
            if (back) {
              this.elements[0].addEventListener(
                "click",
                function onClick(e) {
                  e.preventDefault();
                  const target = e.target;
                  if (target.href === document.referrer) {
                    window.history.back();
                  } else {
                    window.location.href = href;
                  }
                }.bind(this),
              );
            }
            if (delay) {
              this.elements[0].addEventListener(
                "click",
                function onClick(e) {
                  e.preventDefault();
                  setTimeout(() => {
                    window.location.href = href;
                  }, delay);
                }.bind(this),
              );
            }
            if (prefetch) {
              if (prefetch === "hover") {
                this.prefetchOnHover();
              } else if (prefetch === "visible") {
                this.prefetchOnVisible();
              } else {
                this.addPrefetch();
              }
            }
          }
          prefetchOnHover() {
            this.elements[0].addEventListener(
              "mouseover",
              function onHover() {
                this.addPrefetch();
              }.bind(this),
              { once: true },
            );
          }
          prefetchOnVisible() {
            const observer = new IntersectionObserver(
              (entries, observer) => {
                for (const entry of entries) {
                  if (entry.isIntersecting) {
                    observer.disconnect();
                    this.addPrefetch();
                  }
                }
              },
              { threshold: [0, 1] },
            );
            observer.observe(this.elements[0]);
          }
          addPrefetch() {
            let exists = false;
            const links = document.getElementsByTagName("link");
            for (const link of links) {
              if (
                link.getAttribute("rel") === "prefetch" &&
                link.getAttribute("href") === this.props.href
              ) {
                exists = true;
              }
            }
            if (!exists) {
              const prefetch = (0, core_1.h)("link", {
                rel: "prefetch",
                href: this.props.href,
                as: "document",
              });
              document.head.appendChild(prefetch);
            }
          }
          render() {
            const _a = this.props,
              { children, prefetch, delay, back = false, ref } = _a,
              rest = __rest(_a, [
                "children",
                "prefetch",
                "delay",
                "back",
                "ref",
              ]);
            const a = (0, core_1.h)("a", Object.assign({}, rest), ...children);
            if (prefetch && isSSR) {
              const link = (0, core_1.h)("link", {
                rel: "prefetch",
                href: this.props.href,
                as: "document",
              });
              const helmet = (0, core_1.h)(helmet_1.Helmet, null, link);
              return (0, core_1.h)(core_1.Fragment, null, [helmet, a]);
            } else {
              return a;
            }
          }
        }
        exports.Link = Link;

        /***/
      },

    /***/ "./src/components/router.ts":
      /*!**********************************!*\
  !*** ./src/components/router.ts ***!
  \**********************************/
      /***/ (__unused_webpack_module, exports, __webpack_require__) => {
        Object.defineProperty(exports, "__esModule", { value: true });
        exports.Link = exports.to = exports.Route = exports.Switch = void 0;
        const core_1 = __webpack_require__(
          /*! ../core */ "./src/core/index.ts",
        );
        const instances = [];
        function register(comp) {
          instances.push(comp);
        }
        function unregister(comp) {
          instances.splice(instances.indexOf(comp), 1);
        }
        function historyPush(path) {
          window.history.pushState({}, "", path);
          for (const instance of instances) {
            instance.forceUpdate();
          }
        }
        function historyReplace(path) {
          window.history.replaceState({}, "", path);
          for (const instance of instances) {
            instance.forceUpdate();
          }
        }
        function matchPath(pathname, options) {
          const { exact = false, regex } = options;
          let { path } = options;
          if (!path) {
            return {
              path: null,
              url: pathname,
              isExact: true,
            };
          }
          let match;
          let params = {};
          // path with params
          if (path.includes("/:")) {
            const pathArr = path.split("/");
            const pathnameArr = pathname.split("/");
            pathArr.forEach((p, i) => {
              if (/^:/.test(p)) {
                const key = p.slice(1);
                const value = pathnameArr[i];
                // if a regex is provided, check it it matches
                if (regex && regex[key]) {
                  const regexMatch = regex[key].test(value);
                  if (!regexMatch) return null;
                }
                params = Object.assign(Object.assign({}, params), {
                  [key]: value,
                });
                pathArr[i] = pathnameArr[i];
              }
            });
            path = pathArr.join("/");
          }
          // catch all
          if (path === "*") match = [pathname];
          // regular path
          if (!match) match = new RegExp(`^${path}`).exec(pathname);
          if (!match) return null;
          const url = match[0];
          const isExact = pathname === url;
          if (exact && !isExact) return null;
          return {
            path,
            url,
            isExact,
            params,
          };
        }
        class Switch extends core_1.Component {
          constructor() {
            super(...arguments);
            this.index = 0;
            this.path = "";
            this.match = { index: -1, path: "" };
          }
          mount() {
            window.addEventListener("popstate", this.forceUpdate.bind(this));
            register(this);
          }
          destroy() {
            unregister(this);
            window.removeEventListener("popstate", this.forceUpdate.bind(this));
          }
          forceUpdate() {
            this.findChild();
            if (this.shouldUpdate()) this.update();
          }
          findChild() {
            this.match = { index: -1, path: "" };
            for (const [i, child] of this.props.children.entries()) {
              const { path, exact, regex } = child.props;
              const match = matchPath(
                typeof isSSR !== "undefined"
                  ? _nano.location.pathname
                  : window.location.pathname,
                {
                  path,
                  exact,
                  regex,
                },
              );
              if (match) {
                this.match.index = i;
                this.match.path = path;
                return;
              }
            }
          }
          shouldUpdate() {
            return (
              this.path !== this.match.path || this.index !== this.match.index
            );
          }
          render() {
            this.findChild();
            const child = this.props.children[this.match.index];
            if (this.match.index === -1) {
              this.path = "";
              this.index = 0;
            }
            if (child) {
              const { path } = child.props;
              this.path = path;
              this.index = this.match.index;
              const el = (0, core_1.renderElement)(child);
              return (0, core_1.renderElement)(el);
            } else if (this.props.fallback) {
              return (0, core_1.renderElement)(this.props.fallback);
            } else {
              return (0, core_1.h)("div", { class: "route" }, "not found");
            }
          }
        }
        exports.Switch = Switch;
        function Route({ path, regex, children }) {
          for (const child of children) {
            if (child.props)
              child.props = Object.assign(Object.assign({}, child.props), {
                route: { path, regex },
              });
          }
          return children;
        }
        exports.Route = Route;
        const to = (to, replace = false) => {
          replace ? historyReplace(to) : historyPush(to);
        };
        exports.to = to;
        function Link({ to, replace, children }) {
          function onClick(event) {
            event.preventDefault();
            replace ? historyReplace(to) : historyPush(to);
          }
          return (0, core_1.h)("a", { href: to, onClick }, children);
        }
        exports.Link = Link;

        /***/
      },

    /***/ "./src/components/suspense.ts":
      /*!************************************!*\
  !*** ./src/components/suspense.ts ***!
  \************************************/
      /***/ function (__unused_webpack_module, exports, __webpack_require__) {
        var __awaiter =
          (this && this.__awaiter) ||
          function (thisArg, _arguments, P, generator) {
            function adopt(value) {
              return value instanceof P
                ? value
                : new P(function (resolve) {
                    resolve(value);
                  });
            }
            return new (P || (P = Promise))(function (resolve, reject) {
              function fulfilled(value) {
                try {
                  step(generator.next(value));
                } catch (e) {
                  reject(e);
                }
              }
              function rejected(value) {
                try {
                  step(generator["throw"](value));
                } catch (e) {
                  reject(e);
                }
              }
              function step(result) {
                result.done
                  ? resolve(result.value)
                  : adopt(result.value).then(fulfilled, rejected);
              }
              step(
                (generator = generator.apply(thisArg, _arguments || [])).next(),
              );
            });
          };
        var __rest =
          (this && this.__rest) ||
          function (s, e) {
            var t = {};
            for (var p in s)
              if (
                Object.prototype.hasOwnProperty.call(s, p) &&
                e.indexOf(p) < 0
              )
                t[p] = s[p];
            if (s != null && typeof Object.getOwnPropertySymbols === "function")
              for (
                var i = 0, p = Object.getOwnPropertySymbols(s);
                i < p.length;
                i++
              ) {
                if (
                  e.indexOf(p[i]) < 0 &&
                  Object.prototype.propertyIsEnumerable.call(s, p[i])
                )
                  t[p[i]] = s[p[i]];
              }
            return t;
          };
        Object.defineProperty(exports, "__esModule", { value: true });
        exports.Suspense = void 0;
        const core_1 = __webpack_require__(
          /*! ../core */ "./src/core/index.ts",
        );
        const utils_1 = __webpack_require__(/*! ../utils */ "./src/utils.ts");
        class Suspense extends core_1.Component {
          constructor(props) {
            super(props);
            this.isReady = false;
            const _a = this.props,
              { fallback, cache = false, children } = _a,
              rest = __rest(_a, ["fallback", "cache", "children"]);
            this.id = (0, utils_1.strToHash)(
              JSON.stringify(rest, function (_key, val) {
                return typeof val === "function" ? `${val}` : val;
              }),
            );
          }
          mount() {
            return __awaiter(this, void 0, void 0, function* () {
              const _a = this.props,
                { fallback, cache = false, children } = _a,
                rest = __rest(_a, ["fallback", "cache", "children"]);
              if (cache) this.initialState = {};
              if (this.loadFromCache(cache)) return;
              const promises = Object.values(rest).map((p) => p());
              const resolved = yield Promise.all(promises);
              const data = this.prepareData(rest, resolved, cache);
              this.addDataToChildren(data);
              this.isReady = true;
              this.update();
            });
          }
          loadFromCache(cache) {
            const cached =
              this.state && cache && Object.keys(this.state).length;
            if (cache) {
              this.addDataToChildren(this.state);
              this.isReady = true;
            }
            return cached;
          }
          ssr() {
            const _a = this.props,
              { fallback, cache = false, children } = _a,
              rest = __rest(_a, ["fallback", "cache", "children"]);
            const funcs = Object.values(rest).map((p) => p());
            const data = this.prepareData(rest, funcs, false);
            this.addDataToChildren(data);
          }
          addDataToChildren(data) {
            for (const child of this.props.children) {
              if (child.props) {
                child.props = Object.assign(
                  Object.assign({}, child.props),
                  data,
                );
              }
            }
          }
          prepareData(rest, func, cache) {
            const data = Object.keys(rest).reduce((acc, item, index) => {
              if (cache) {
                this.state = Object.assign(Object.assign({}, this.state), {
                  [item]: func[index],
                });
              }
              return Object.assign(Object.assign({}, acc), {
                [item]: func[index],
              });
            }, {});
            return data;
          }
          render() {
            if (typeof isSSR === "undefined") {
              const { cache = false } = this.props;
              this.loadFromCache(cache);
              return this.isReady ? this.props.children : this.props.fallback;
            } else {
              this.ssr();
              return this.props.children;
            }
          }
        }
        exports.Suspense = Suspense;

        /***/
      },

    /***/ "./src/components/visible.ts":
      /*!***********************************!*\
  !*** ./src/components/visible.ts ***!
  \***********************************/
      /***/ (__unused_webpack_module, exports, __webpack_require__) => {
        Object.defineProperty(exports, "__esModule", { value: true });
        exports.Visible = void 0;
        const core_1 = __webpack_require__(
          /*! ../core */ "./src/core/index.ts",
        );
        class Visible extends core_1.Component {
          constructor() {
            super(...arguments);
            this.isVisible = false;
          }
          mount() {
            const observer = new IntersectionObserver(
              (entries, observer) => {
                for (const entry of entries) {
                  if (entry.isIntersecting) {
                    observer.disconnect();
                    this.isVisible = true;
                    this.update();
                  }
                }
              },
              { threshold: [0, 1] },
            );
            observer.observe(this.elements[0]);
          }
          render() {
            if (this.isVisible) {
              if (this.props.onVisible) {
                this.props.onVisible();
              }
              return (0, core_1.render)(
                this.props.component || this.props.children[0],
              );
            } else {
              return (0, core_1.h)("div", {
                "data-visible": false,
                visibility: "hidden",
              });
            }
          }
        }
        exports.Visible = Visible;

        /***/
      },

    /***/ "./src/core/appendChildren.ts":
      /*!************************************!*\
  !*** ./src/core/appendChildren.ts ***!
  \************************************/
      /***/ (__unused_webpack_module, exports, __webpack_require__) => {
        Object.defineProperty(exports, "__esModule", { value: true });
        exports.appendChildren = void 0;
        const _1 = __webpack_require__(/*! . */ "./src/core/index.ts");
        function appendChildren(element, children) {
          if (!Array.isArray(children)) {
            appendChildren(element, [children]);
            return;
          }
          if (typeof children === "object") {
            children = Array.from(children);
          }
          for (const child of children) {
            if (Array.isArray(child)) {
              appendChildren(element, child);
            } else {
              let comp = (0, _1.renderElement)(child);
              if (comp) {
                if (Array.isArray(comp)) {
                  appendChildren(element, comp);
                } else {
                  element.appendChild(
                    !(comp === null || comp === void 0 ? void 0 : comp.nodeType)
                      ? document.createTextNode("" + comp)
                      : comp,
                  );
                }
              }
            }
          }
        }
        exports.appendChildren = appendChildren;

        /***/
      },

    /***/ "./src/core/component.ts":
      /*!*******************************!*\
  !*** ./src/core/component.ts ***!
  \*******************************/
      /***/ (__unused_webpack_module, exports, __webpack_require__) => {
        Object.defineProperty(exports, "__esModule", { value: true });
        exports.Component = void 0;
        const utils_1 = __webpack_require__(/*! ../utils */ "./src/utils.ts");
        const _1 = __webpack_require__(/*! . */ "./src/core/index.ts");
        class Component {
          constructor(props) {
            this.props = props;
            this._elements = [];
            this.id = this._getHash();
          }
          render(_update) {}
          mount() {}
          beforeMount() {}
          destroy() {}
          _getHash() {}
          setState(state, shouldUpdate = false) {
            if (state && typeof state === "object") {
              this.state = Object.assign(Object.assign({}, this.state), state);
            } else this.state = state;
            if (shouldUpdate) this.update();
          }
          get state() {
            return _1._state.get(this.id);
          }
          set state(value) {
            _1._state.set(this.id, value);
          }
          set initialState(state) {
            if (!this.state) this.state = state;
          }
          get elements() {
            return this._elements;
          }
          set elements(elements) {
            if (!Array.isArray(elements)) {
              elements = [elements];
            }
            for (const el of elements) {
              this._elements.push(el);
            }
          }
          addNodeRemoveListener() {
            if (/^[^{]+{\s+}$/gm.test(this.destroy.toString())) return;
            (0, utils_1.onNodeRemove)(this.elements[0], () => {
              if (!this._skipUnmout) {
                this.destroy();
              }
            });
          }
          //@ts-ignore
          _mount() {
            this.addNodeRemoveListener();
            this.mount();
          }
          _destory() {
            if (this._hasUnmounted) return;
            this.destroy();
            this._hasUnmounted = true;
          }
          update(update) {
            this._skipUnmout = true;
            const oldElements = [...this.elements];
            this._elements = [];
            let el = this.render(update);
            el = (0, _1.renderElement)(el);
            this.elements = el;
            const parent = oldElements[0].parentElement;
            if (!parent)
              console.warn("Component needs a parent element to get updated!");
            for (const child of this.elements) {
              parent.insertBefore(child, oldElements[0]);
            }
            for (let child of oldElements) {
              child.remove();
              //@ts-ignore
              child = null;
            }
            this.addNodeRemoveListener();
            (0, utils_1.nextTick)(() => {
              this._skipUnmout = false;
              if (!this.elements[0].isConnected) {
                this._destory();
              }
            });
          }
        }
        exports.Component = Component;

        /***/
      },

    /***/ "./src/core/context.ts":
      /*!*****************************!*\
  !*** ./src/core/context.ts ***!
  \*****************************/
      /***/ (__unused_webpack_module, exports) => {
        Object.defineProperty(exports, "__esModule", { value: true });
        exports.createContext = void 0;
        function createContext(ctx) {
          let _ctx = ctx;
          return {
            Provider(props) {
              if (props.value) {
                _ctx = props.value;
                return props.children;
              }
            },
            Consumer(props) {
              return {
                component: props.children[0](_ctx),
                props: Object.assign(Object.assign({}, props), {
                  context: _ctx,
                }),
              };
            },
            get() {
              return _ctx;
            },
            set(ctx) {
              _ctx = ctx;
            },
          };
        }
        exports.createContext = createContext;

        /***/
      },

    /***/ "./src/core/fragment.ts":
      /*!******************************!*\
  !*** ./src/core/fragment.ts ***!
  \******************************/
      /***/ (__unused_webpack_module, exports) => {
        Object.defineProperty(exports, "__esModule", { value: true });
        exports.Fragment = void 0;
        const Fragment = (props) => {
          return props.children;
        };
        exports.Fragment = Fragment;

        /***/
      },

    /***/ "./src/core/h.ts":
      /*!***********************!*\
  !*** ./src/core/h.ts ***!
  \***********************/
      /***/ (__unused_webpack_module, exports, __webpack_require__) => {
        Object.defineProperty(exports, "__esModule", { value: true });
        exports.h = void 0;
        const utils_1 = __webpack_require__(/*! ../utils */ "./src/utils.ts");
        const _1 = __webpack_require__(/*! . */ "./src/core/index.ts");
        function h(comp, props, ...children) {
          if (typeof comp !== "string") {
            return {
              component: comp,
              props: Object.assign(Object.assign({}, props), {
                children: children,
              }),
            };
          }
          let ref;
          const element =
            comp === "svg" ? (0, _1.hNS)("svg") : document.createElement(comp);
          for (const p in props) {
            if (p === "style" && typeof props[p] === "object") {
              const styles = Object.keys(props[p])
                .map((k) => `${k}:${props[p][k]}`)
                .join(";")
                .replace(/[A-Z]/g, (match) => `-${match.toLowerCase()}`);
              props[p] = styles + ";";
            }
            if (p === "ref") {
              ref = props[p];
            }
            if ((0, utils_1.isEvent)(element, p.toLowerCase())) {
              element.addEventListener(p.toLowerCase().substring(2), (e) =>
                props[p](e),
              );
            } else {
              element.setAttribute(p, props[p]);
            }
          }
          (0, _1.appendChildren)(element, children);
          if (ref) {
            ref(element);
          }
          // @ts-ignore
          if (element.ssr) return element.ssr;
          return element;
        }
        exports.h = h;

        /***/
      },

    /***/ "./src/core/hydrate.ts":
      /*!*****************************!*\
  !*** ./src/core/hydrate.ts ***!
  \*****************************/
      /***/ (__unused_webpack_module, exports, __webpack_require__) => {
        Object.defineProperty(exports, "__esModule", { value: true });
        exports.hydrate = void 0;
        const _1 = __webpack_require__(/*! . */ "./src/core/index.ts");
        function hydrate(component, parent = null, removeChildNodes = true) {
          return (0, _1.render)(component, parent, removeChildNodes);
        }
        exports.hydrate = hydrate;

        /***/
      },

    /***/ "./src/core/index.ts":
      /*!***************************!*\
  !*** ./src/core/index.ts ***!
  \***************************/
      /***/ (__unused_webpack_module, exports, __webpack_require__) => {
        Object.defineProperty(exports, "__esModule", { value: true });
        exports.Store =
          exports.withStyles =
          exports.lazyHydration =
          exports._clearState =
          exports._state =
          exports.createContext =
          exports.Fragment =
          exports.Component =
          exports.hydrate =
          exports.hNS =
          exports.renderElement =
          exports.render =
          exports.h =
          exports.appendChildren =
            void 0;
        var appendChildren_1 = __webpack_require__(
          /*! ./appendChildren */ "./src/core/appendChildren.ts",
        );
        Object.defineProperty(exports, "appendChildren", {
          enumerable: true,
          get: function () {
            return appendChildren_1.appendChildren;
          },
        });
        var h_1 = __webpack_require__(/*! ./h */ "./src/core/h.ts");
        Object.defineProperty(exports, "h", {
          enumerable: true,
          get: function () {
            return h_1.h;
          },
        });
        var render_1 = __webpack_require__(
          /*! ./render */ "./src/core/render.ts",
        );
        Object.defineProperty(exports, "render", {
          enumerable: true,
          get: function () {
            return render_1.render;
          },
        });
        var renderElement_1 = __webpack_require__(
          /*! ./renderElement */ "./src/core/renderElement.ts",
        );
        Object.defineProperty(exports, "renderElement", {
          enumerable: true,
          get: function () {
            return renderElement_1.renderElement;
          },
        });
        Object.defineProperty(exports, "hNS", {
          enumerable: true,
          get: function () {
            return renderElement_1.hNS;
          },
        });
        var hydrate_1 = __webpack_require__(
          /*! ./hydrate */ "./src/core/hydrate.ts",
        );
        Object.defineProperty(exports, "hydrate", {
          enumerable: true,
          get: function () {
            return hydrate_1.hydrate;
          },
        });
        var component_1 = __webpack_require__(
          /*! ./component */ "./src/core/component.ts",
        );
        Object.defineProperty(exports, "Component", {
          enumerable: true,
          get: function () {
            return component_1.Component;
          },
        });
        var fragment_1 = __webpack_require__(
          /*! ./fragment */ "./src/core/fragment.ts",
        );
        Object.defineProperty(exports, "Fragment", {
          enumerable: true,
          get: function () {
            return fragment_1.Fragment;
          },
        });
        var context_1 = __webpack_require__(
          /*! ./context */ "./src/core/context.ts",
        );
        Object.defineProperty(exports, "createContext", {
          enumerable: true,
          get: function () {
            return context_1.createContext;
          },
        });
        var state_1 = __webpack_require__(/*! ./state */ "./src/core/state.ts");
        Object.defineProperty(exports, "_state", {
          enumerable: true,
          get: function () {
            return state_1._state;
          },
        });
        Object.defineProperty(exports, "_clearState", {
          enumerable: true,
          get: function () {
            return state_1._clearState;
          },
        });
        var lazyHydration_1 = __webpack_require__(
          /*! ./lazyHydration */ "./src/core/lazyHydration.ts",
        );
        Object.defineProperty(exports, "lazyHydration", {
          enumerable: true,
          get: function () {
            return lazyHydration_1.lazyHydration;
          },
        });
        var withStyles_1 = __webpack_require__(
          /*! ./withStyles */ "./src/core/withStyles.ts",
        );
        Object.defineProperty(exports, "withStyles", {
          enumerable: true,
          get: function () {
            return withStyles_1.withStyles;
          },
        });
        var store_1 = __webpack_require__(/*! ./store */ "./src/core/store.ts");
        Object.defineProperty(exports, "Store", {
          enumerable: true,
          get: function () {
            return store_1.Store;
          },
        });

        /***/
      },

    /***/ "./src/core/lazyHydration.ts":
      /*!***********************************!*\
  !*** ./src/core/lazyHydration.ts ***!
  \***********************************/
      /***/ (__unused_webpack_module, exports, __webpack_require__) => {
        Object.defineProperty(exports, "__esModule", { value: true });
        exports.lazyHydration = void 0;
        const components_1 = __webpack_require__(
          /*! ../components */ "./src/components/index.ts",
        );
        const _1 = __webpack_require__(/*! . */ "./src/core/index.ts");
        function lazyHydration(component, parent, removeChildNodes = true) {
          const cmp = (0, _1.h)(components_1.Visible, null, component);
          return (0, _1.hydrate)(cmp, parent, removeChildNodes);
        }
        exports.lazyHydration = lazyHydration;

        /***/
      },

    /***/ "./src/core/render.ts":
      /*!****************************!*\
  !*** ./src/core/render.ts ***!
  \****************************/
      /***/ (__unused_webpack_module, exports, __webpack_require__) => {
        Object.defineProperty(exports, "__esModule", { value: true });
        exports.removeAllChildNodes = exports.render = void 0;
        const _1 = __webpack_require__(/*! . */ "./src/core/index.ts");
        function render(cmp, parent = null, removeChildNodes = true) {
          let el = (0, _1.renderElement)(cmp);
          if (Array.isArray(el)) {
            el = el.map((c) => (0, _1.renderElement)(c));
            if (el.length === 1) {
              el = el[0];
            }
          }
          if (parent) {
            if (removeChildNodes) {
              removeAllChildNodes(parent);
            }
            if (
              el &&
              parent.id &&
              parent.id === el.id &&
              parent.parentElement
            ) {
              parent.parentElement.replaceChild(el, parent);
            } else {
              if (Array.isArray(el)) {
                el.map((c) =>
                  (0, _1.appendChildren)(parent, (0, _1.renderElement)(c)),
                );
              } else {
                (0, _1.appendChildren)(parent, (0, _1.renderElement)(el));
              }
            }
            if (parent.ssr) return parent.ssr;
            return parent;
          } else {
            if (typeof isSSR === "boolean" && isSSR && !Array.isArray(el))
              return [el];
            return el;
          }
        }
        exports.render = render;
        function removeAllChildNodes(el) {
          while (el.firstChild) {
            el.removeChild(el.firstChild);
          }
        }
        exports.removeAllChildNodes = removeAllChildNodes;

        /***/
      },

    /***/ "./src/core/renderElement.ts":
      /*!***********************************!*\
  !*** ./src/core/renderElement.ts ***!
  \***********************************/
      /***/ (__unused_webpack_module, exports, __webpack_require__) => {
        Object.defineProperty(exports, "__esModule", { value: true });
        exports.hNS = exports.renderElement = void 0;
        const utils_1 = __webpack_require__(/*! ../utils */ "./src/utils.ts");
        function renderElement(cmp) {
          var _a;
          if (["undefined" || 0].includes(typeof cmp)) {
            return [];
          }
          if (cmp == null) {
            return [];
          }
          if (typeof cmp === "string") {
            return cmp;
          }
          if (typeof cmp === "number") {
            return "" + cmp;
          }
          if (
            (cmp === null || cmp === void 0 ? void 0 : cmp.tagName) &&
            cmp.tagName.toLowerCase() === "svg"
          ) {
            return SVG({ children: [cmp] });
          }
          if (cmp === null || cmp === void 0 ? void 0 : cmp.tagName) {
            return cmp;
          }
          if (
            cmp &&
            cmp.component &&
            cmp.component.prototype &&
            cmp.component.prototype.constructor &&
            /^class\s/.test(Function.prototype.toString.call(cmp.component))
          ) {
            return renderClassComponent(cmp);
          }
          if (cmp.component && typeof cmp.component === "function") {
            return renderFunctionalComponent(cmp);
          }
          if (Array.isArray(cmp)) {
            return cmp.map((c) => renderElement(c)).flat();
          }
          if (typeof cmp === "function") return renderElement(cmp());
          if (
            ((_a = cmp === null || cmp === void 0 ? void 0 : cmp.component) ===
              null || _a === void 0
              ? void 0
              : _a.tagName) &&
            typeof cmp.component.tagName === "string"
          )
            return renderElement(cmp.component);
          if (Array.isArray(cmp.component)) return renderElement(cmp.component);
          if (cmp.component) return renderElement(cmp.component);
        }
        exports.renderElement = renderElement;
        function renderFunctionalComponent(cmp) {
          const { component, props } = cmp;
          const el = component(props);
          return renderElement(el);
        }
        function renderClassComponent(cmp) {
          const { component, props } = cmp;
          const hash = (0, utils_1.strToHash)(component.toString());
          component.prototype._getHash = () => hash;
          const Component = new component(props);
          Component.beforeMount();
          let el = Component.render();
          el = renderElement(el);
          Component.elements = el;
          if (props === null || props === void 0 ? void 0 : props.ref)
            props.ref(Component);
          if (typeof isSSR === "undefined") {
            (0, utils_1.nextTick)(() => {
              Component._mount();
            });
          }
          return el;
        }
        function hNS(tag) {
          return document.createElementNS("http://www.w3.org/2000/svg", tag);
        }
        exports.hNS = hNS;
        function SVG(props) {
          const child = props.children[0];
          const attrs = child.attributes;
          const svg = hNS("svg");
          for (const attr of attrs) {
            svg.setAttribute(attr.name, attr.value);
          }
          svg.innerHTML = child.innerHTML;
          return svg;
        }

        /***/
      },

    /***/ "./src/core/state.ts":
      /*!***************************!*\
  !*** ./src/core/state.ts ***!
  \***************************/
      /***/ (__unused_webpack_module, exports) => {
        Object.defineProperty(exports, "__esModule", { value: true });
        exports._clearState = exports._state = void 0;
        exports._state = new Map();
        function _clearState() {
          exports._state.clear();
        }
        exports._clearState = _clearState;

        /***/
      },

    /***/ "./src/core/store.ts":
      /*!***************************!*\
  !*** ./src/core/store.ts ***!
  \***************************/
      /***/ (__unused_webpack_module, exports) => {
        Object.defineProperty(exports, "__esModule", { value: true });
        exports.Store = void 0;
        class Store {
          constructor(defaultState, name = "", storage = "memory") {
            this._listeners = new Map();
            if (isSSR) {
              storage = "memory";
            }
            this._id = name;
            this._storage = storage;
            this._state = this._prevState = defaultState;
            if (!this._storage || this._storage === "memory") {
              return;
            }
            const Storage = storage === "local" ? localStorage : sessionStorage;
            const item = Storage.getItem(this._id);
            if (item) {
              this._state = this._prevState = JSON.parse(item);
            } else {
              Storage.setItem(this._id, JSON.stringify(defaultState));
            }
          }
          persist(state) {
            if (this._storage === "memory") {
              return;
            }
            const Storage =
              this._storage === "local" ? localStorage : sessionStorage;
            Storage.setItem(this._id, JSON.stringify(state));
          }
          clear() {
            this._state = this._prevState = undefined;
            const Storage =
              this._storage === "local" ? localStorage : sessionStorage;
            Storage.removeItem(this._id);
          }
          set state(state) {
            this._prevState = this._state;
            this._state = state;
            this.persist(state);
            this._listeners.forEach((func) => {
              func(this._state, this._prevState);
            });
          }
          get state() {
            return this._state;
          }
          setState(state) {
            this.state = state;
          }
          use() {
            const id = Math.random().toString(36).substr(2, 9);
            const _this = this;
            return {
              get state() {
                return _this.state;
              },
              setState(state) {
                _this.setState(state);
              },
              subscribe(func) {
                _this._listeners.set(id, func);
              },
              cancel() {
                _this._listeners.delete(id);
              },
            };
          }
        }
        exports.Store = Store;

        /***/
      },

    /***/ "./src/core/withStyles.ts":
      /*!********************************!*\
  !*** ./src/core/withStyles.ts ***!
  \********************************/
      /***/ function (__unused_webpack_module, exports, __webpack_require__) {
        var __rest =
          (this && this.__rest) ||
          function (s, e) {
            var t = {};
            for (var p in s)
              if (
                Object.prototype.hasOwnProperty.call(s, p) &&
                e.indexOf(p) < 0
              )
                t[p] = s[p];
            if (s != null && typeof Object.getOwnPropertySymbols === "function")
              for (
                var i = 0, p = Object.getOwnPropertySymbols(s);
                i < p.length;
                i++
              ) {
                if (
                  e.indexOf(p[i]) < 0 &&
                  Object.prototype.propertyIsEnumerable.call(s, p[i])
                )
                  t[p[i]] = s[p[i]];
              }
            return t;
          };
        Object.defineProperty(exports, "__esModule", { value: true });
        exports.withStyles = void 0;
        const components_1 = __webpack_require__(
          /*! ../components */ "./src/components/index.ts",
        );
        const _1 = __webpack_require__(/*! . */ "./src/core/index.ts");
        function withStyles(styles) {
          return function (WrappedComponent) {
            return class extends _1.Component {
              render() {
                const _a = this.props,
                  { children } = _a,
                  rest = __rest(_a, ["children"]);
                const helmet = (0, _1.h)(
                  components_1.Helmet,
                  null,
                  (0, _1.h)("style", null, styles.toString()),
                );
                const component = children.length
                  ? (0, _1.h)(
                      WrappedComponent,
                      Object.assign({}, rest),
                      children,
                    )
                  : (0, _1.h)(WrappedComponent, Object.assign({}, this.props));
                return (0, _1.h)(_1.Fragment, null, helmet, component);
              }
            };
          };
        }
        exports.withStyles = withStyles;

        /***/
      },

    /***/ "./src/index.ts":
      /*!**********************!*\
  !*** ./src/index.ts ***!
  \**********************/
      /***/ (__unused_webpack_module, exports, __webpack_require__) => {
        Object.defineProperty(exports, "__esModule", { value: true });
        exports.Visible =
          exports.Helmet =
          exports.Img =
          exports.ViraLink =
          exports.Route =
          exports.Switch =
          exports.Link =
          exports.Suspense =
          exports.Store =
          exports.lazyHydration =
          exports.createContext =
          exports.withStyles =
          exports.Component =
          exports.Fragment =
          exports.hydrate =
          exports.render =
          exports.h =
          exports.renderToString =
          exports.nextTick =
            void 0;
        var utils_1 = __webpack_require__(/*! ./utils */ "./src/utils.ts");
        Object.defineProperty(exports, "nextTick", {
          enumerable: true,
          get: function () {
            return utils_1.nextTick;
          },
        });
        var ssr_1 = __webpack_require__(/*! ./ssr */ "./src/ssr/index.ts");
        Object.defineProperty(exports, "renderToString", {
          enumerable: true,
          get: function () {
            return ssr_1.renderToString;
          },
        });
        var core_1 = __webpack_require__(/*! ./core */ "./src/core/index.ts");
        Object.defineProperty(exports, "h", {
          enumerable: true,
          get: function () {
            return core_1.h;
          },
        });
        Object.defineProperty(exports, "render", {
          enumerable: true,
          get: function () {
            return core_1.render;
          },
        });
        Object.defineProperty(exports, "hydrate", {
          enumerable: true,
          get: function () {
            return core_1.hydrate;
          },
        });
        Object.defineProperty(exports, "Fragment", {
          enumerable: true,
          get: function () {
            return core_1.Fragment;
          },
        });
        Object.defineProperty(exports, "Component", {
          enumerable: true,
          get: function () {
            return core_1.Component;
          },
        });
        Object.defineProperty(exports, "withStyles", {
          enumerable: true,
          get: function () {
            return core_1.withStyles;
          },
        });
        Object.defineProperty(exports, "createContext", {
          enumerable: true,
          get: function () {
            return core_1.createContext;
          },
        });
        Object.defineProperty(exports, "lazyHydration", {
          enumerable: true,
          get: function () {
            return core_1.lazyHydration;
          },
        });
        Object.defineProperty(exports, "Store", {
          enumerable: true,
          get: function () {
            return core_1.Store;
          },
        });
        var components_1 = __webpack_require__(
          /*! ./components */ "./src/components/index.ts",
        );
        Object.defineProperty(exports, "Suspense", {
          enumerable: true,
          get: function () {
            return components_1.Suspense;
          },
        });
        Object.defineProperty(exports, "Link", {
          enumerable: true,
          get: function () {
            return components_1.Link;
          },
        });
        Object.defineProperty(exports, "Switch", {
          enumerable: true,
          get: function () {
            return components_1.Switch;
          },
        });
        Object.defineProperty(exports, "Route", {
          enumerable: true,
          get: function () {
            return components_1.Route;
          },
        });
        Object.defineProperty(exports, "ViraLink", {
          enumerable: true,
          get: function () {
            return components_1.ViraLink;
          },
        });
        Object.defineProperty(exports, "Img", {
          enumerable: true,
          get: function () {
            return components_1.Img;
          },
        });
        Object.defineProperty(exports, "Helmet", {
          enumerable: true,
          get: function () {
            return components_1.Helmet;
          },
        });
        Object.defineProperty(exports, "Visible", {
          enumerable: true,
          get: function () {
            return components_1.Visible;
          },
        });
        const core_2 = __webpack_require__(/*! ./core */ "./src/core/index.ts");
        const ssr_2 = __webpack_require__(/*! ./ssr */ "./src/ssr/index.ts");
        exports["default"] = {
          render: core_2.render,
          hydrate: core_2.hydrate,
          h: core_2.h,
          lazyHydration: core_2.lazyHydration,
          renderToString: ssr_2.renderToString,
          Fragment: core_2.Fragment,
        };

        /***/
      },

    /***/ "./src/ssr/document.ts":
      /*!*****************************!*\
  !*** ./src/ssr/document.ts ***!
  \*****************************/
      /***/ (__unused_webpack_module, exports, __webpack_require__) => {
        Object.defineProperty(exports, "__esModule", { value: true });
        exports.DocumentSSR = void 0;
        const _1 = __webpack_require__(/*! . */ "./src/ssr/index.ts");
        class DocumentSSR {
          constructor() {
            this.body = this.createElement("body");
            this.head = this.createElement("head");
          }
          createElement(tag) {
            return new _1.HTMLElementSSR(tag);
          }
          createElementNS(_URI, tag) {
            return new _1.HTMLElementSSR(tag);
          }
          createTextNode(text) {
            return text;
          }
          querySelector(_query) {
            return undefined;
          }
        }
        exports.DocumentSSR = DocumentSSR;

        /***/
      },

    /***/ "./src/ssr/elements.ts":
      /*!*****************************!*\
  !*** ./src/ssr/elements.ts ***!
  \*****************************/
      /***/ (__unused_webpack_module, exports) => {
        Object.defineProperty(exports, "__esModule", { value: true });
        exports.HTMLElementSSR = void 0;
        class HTMLElementSSR {
          constructor(tag) {
            this.tagName = tag;
            const selfClosing = [
              "area",
              "base",
              "br",
              "col",
              "embed",
              "hr",
              "img",
              "input",
              "link",
              "meta",
              "param",
              "source",
              "track",
              "wbr",
            ];
            if (selfClosing.indexOf(tag) >= 0) {
              this.ssr = `<${tag} />`;
              this.selfClosing = true;
            } else {
              this.ssr = `<${tag}></${tag}>`;
            }
          }
          get outerHTML() {
            return this.innerText;
          }
          get innerHTML() {
            var _a, _b;
            const reg = /(^<[a-z]+>)([\s\S]*)(<\/[a-z]+>$)/gm;
            return (_b =
              (_a = reg.exec(this.ssr)) === null || _a === void 0
                ? void 0
                : _a[2]) !== null && _b !== void 0
              ? _b
              : "";
          }
          get innerText() {
            var _a, _b;
            const reg = /(^<[^>]+>)(.+)?(<\/[a-z]+>$|\/>$)/gm;
            return (_b =
              (_a = reg.exec(this.ssr)) === null || _a === void 0
                ? void 0
                : _a[2]) !== null && _b !== void 0
              ? _b
              : "";
          }
          set innerText(text) {
            const reg = /(^<[^>]+>)(.+)?(<\/[a-z]+>$|\/>$)/gm;
            this.ssr = this.ssr.replace(reg, `$1${text}$3`);
          }
          get attributes() {
            return { length: 1 };
          }
          get children() {
            const reg = /<([a-z]+)((?!<\/\1).)*<\/\1>/gms;
            const array = [];
            let match;
            while ((match = reg.exec(this.innerHTML)) !== null) {
              array.push(match[0].replace(/[\s]+/gm, " "));
            }
            return array;
          }
          setAttributeNS(name, value) {
            this.setAttribute(name, value);
          }
          setAttribute(name, value) {
            if (this.selfClosing)
              this.ssr = this.ssr.replace(
                /(^<[a-z]+ )(.+)/gm,
                `$1${name}="${value}" $2`,
              );
            else
              this.ssr = this.ssr.replace(
                /(^<[^>]+)(.+)/gm,
                `$1 ${name}="${value}"$2`,
              );
          }
          appendChild(child) {
            const append = child.ssr ? child.ssr : child;
            const index = this.ssr.lastIndexOf("</");
            this.ssr =
              this.ssr.substring(0, index) + append + this.ssr.substring(index);
          }
          replaceChild(newChild, _oldChild) {
            this.innerText = newChild.ssr;
          }
          addEventListener(_type, _listener, _options) {}
        }
        exports.HTMLElementSSR = HTMLElementSSR;

        /***/
      },

    /***/ "./src/ssr/index.ts":
      /*!**************************!*\
  !*** ./src/ssr/index.ts ***!
  \**************************/
      /***/ (__unused_webpack_module, exports, __webpack_require__) => {
        Object.defineProperty(exports, "__esModule", { value: true });
        exports.HTMLElementSSR =
          exports.DocumentSSR =
          exports.renderToString =
            void 0;
        var renderToString_1 = __webpack_require__(
          /*! ./renderToString */ "./src/ssr/renderToString.ts",
        );
        Object.defineProperty(exports, "renderToString", {
          enumerable: true,
          get: function () {
            return renderToString_1.renderToString;
          },
        });
        var document_1 = __webpack_require__(
          /*! ./document */ "./src/ssr/document.ts",
        );
        Object.defineProperty(exports, "DocumentSSR", {
          enumerable: true,
          get: function () {
            return document_1.DocumentSSR;
          },
        });
        var elements_1 = __webpack_require__(
          /*! ./elements */ "./src/ssr/elements.ts",
        );
        Object.defineProperty(exports, "HTMLElementSSR", {
          enumerable: true,
          get: function () {
            return elements_1.HTMLElementSSR;
          },
        });

        /***/
      },

    /***/ "./src/ssr/renderToString.ts":
      /*!***********************************!*\
  !*** ./src/ssr/renderToString.ts ***!
  \***********************************/
      /***/ (__unused_webpack_module, exports, __webpack_require__) => {
        Object.defineProperty(exports, "__esModule", { value: true });
        exports.renderToString = exports.initSSR = void 0;
        const _1 = __webpack_require__(/*! . */ "./src/ssr/index.ts");
        const core_1 = __webpack_require__(
          /*! ../core */ "./src/core/index.ts",
        );
        const utils_1 = __webpack_require__(/*! ../utils */ "./src/utils.ts");
        globalThis.isSSR = (0, utils_1.detectSSR)() === true ? true : undefined;
        globalThis._nano = { isSSR, location: { pathname: "/" } };
        function initSSR(pathname = "/") {
          _nano.location = { pathname };
          // @ts-ignore
          globalThis.document = isSSR ? new _1.DocumentSSR() : window.document;
        }
        exports.initSSR = initSSR;
        function renderToString(component, options = {}) {
          const { pathname, clearState = true } = options;
          initSSR(pathname);
          if (clearState) core_1._state.clear();
          return (0, core_1.render)(component, null, true).join("");
        }
        exports.renderToString = renderToString;

        /***/
      },

    /***/ "./src/utils.ts":
      /*!**********************!*\
  !*** ./src/utils.ts ***!
  \**********************/
      /***/ (__unused_webpack_module, exports, __webpack_require__) => {
        Object.defineProperty(exports, "__esModule", { value: true });
        exports.addStylesToHead =
          exports.nodeToString =
          exports.task =
          exports.onNodeRemove =
          exports.isDescendant =
          exports.strToHash =
          exports.detectSSR =
          exports.isEvent =
          exports.nextTick =
            void 0;
        const _1 = __webpack_require__(/*! . */ "./src/index.ts");
        exports.nextTick =
          typeof Promise === "function"
            ? Promise.prototype.then.bind(Promise.resolve())
            : setTimeout;
        function isEvent(el, prop) {
          if (prop.indexOf("on") !== 0) {
            return false;
          }
          if (el.ssr) return true;
          return ["function", "object"].includes(typeof el[prop]);
        }
        exports.isEvent = isEvent;
        function detectSSR() {
          return (
            //@ts-ignore
            typeof Deno !== "undefined" ||
            (typeof window === "undefined" && isSSR)
          );
        }
        exports.detectSSR = detectSSR;
        function strToHash(str) {
          let hash = 0;
          if (!str.length) return hash;
          for (let i = 0; i < str.length; i++) {
            const char = str.charCodeAt(i);
            hash = (hash << 5) - hash + char;
            hash |= 0;
          }
          return Math.abs(hash).toString(32);
        }
        exports.strToHash = strToHash;
        function isDescendant(descendant, root) {
          return (
            descendant &&
            (descendant === root || isDescendant(descendant.parentNode, root))
          );
        }
        exports.isDescendant = isDescendant;
        function onNodeRemove(el, callback) {
          let observer = new MutationObserver((mutList) => {
            for (const mut of mutList) {
              mut.removedNodes.forEach((removedNode) => {
                if (isDescendant(el, removedNode)) {
                  callback();
                  if (observer) {
                    observer.disconnect();
                    // @ts-ignore
                    observer = undefined;
                  }
                }
              });
            }
          });
          observer.observe(document, {
            childList: true,
            subtree: true,
          });
          return observer;
        }
        exports.onNodeRemove = onNodeRemove;
        function task(func) {
          return setTimeout(func, 0);
        }
        exports.task = task;
        function nodeToString(node) {
          const temp = document.createDocumentFragment();
          temp.appendChild(node.cloneNode(true));
          return temp.toString();
        }
        exports.nodeToString = nodeToString;
        const addStylesToHead = (styles, hash) => {
          const el = document.querySelector(`[data-css-hash*="${hash}"]`);
          if (!el) {
            const styleElement = (0, _1.h)(
              "style",
              { "data-css-hash": hash },
              styles,
            );
            document.head.appendChild(styleElement);
          }
        };
        exports.addStylesToHead = addStylesToHead;

        /***/
      },

    /******/
  };
  /************************************************************************/
  /******/ // The module cache
  /******/ var __webpack_module_cache__ = {};
  /******/
  /******/ // The require function
  /******/ function __webpack_require__(moduleId) {
    /******/ // Check if module is in cache
    /******/ var cachedModule = __webpack_module_cache__[moduleId];
    /******/ if (cachedModule !== undefined) {
      /******/ return cachedModule.exports;
      /******/
    }
    /******/ // Create a new module (and put it into the cache)
    /******/ var module = (__webpack_module_cache__[moduleId] = {
      /******/ // no module.id needed
      /******/ // no module.loaded needed
      /******/ exports: {},
      /******/
    });
    /******/
    /******/ // Execute the module function
    /******/ __webpack_modules__[moduleId].call(
      module.exports,
      module,
      module.exports,
      __webpack_require__,
    );
    /******/
    /******/ // Return the exports of the module
    /******/ return module.exports;
    /******/
  }
  /******/
  /************************************************************************/
  var __webpack_exports__ = {};
  // This entry need to be wrapped in an IIFE because it need to be isolated against other modules in the chunk.
  (() => {
    var exports = __webpack_exports__;
    /*!*****************************!*\
  !*** ./src/bundles/full.ts ***!
  \*****************************/

    Object.defineProperty(exports, "__esModule", { value: true });
    const __1 = __webpack_require__(/*! .. */ "./src/index.ts");
    exports["default"] = {
      Suspense: __1.Suspense,
      Link: __1.Link,
      Switch: __1.Switch,
      Route: __1.Route,
      ViraLink: __1.ViraLink,
      Img: __1.Img,
      Helmet: __1.Helmet,
      Visible: __1.Visible,
      h: __1.h,
      nextTick: __1.nextTick,
      render: __1.render,
      hydrate: __1.hydrate,
      renderToString: __1.renderToString,
      Fragment: __1.Fragment,
      Component: __1.Component,
      withStyles: __1.withStyles,
      createContext: __1.createContext,
      lazyHydration: __1.lazyHydration,
      Store: __1.Store,
    };
  })();

  vira = __webpack_exports__["default"];
  /******/
})();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoidmlyYS5kZXYubWluLmpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7O0FBQUEseUVBQXVEO0FBRXZELE1BQWEsTUFBTyxTQUFRLGdCQUFTO0lBQ25DLE1BQU0sQ0FBQyxHQUFHLENBQUMsSUFBWTtRQUNyQixNQUFNLEdBQUcsR0FBRywyQ0FBMkMsQ0FBQztRQUV4RCxNQUFNLElBQUksR0FBYSxFQUFFLENBQUM7UUFDMUIsTUFBTSxNQUFNLEdBQWEsRUFBRSxDQUFDO1FBRTVCLElBQUksUUFBUSxhQUFSLFFBQVEsdUJBQVIsUUFBUSxDQUFFLElBQUksRUFBRTtZQUNsQixJQUFJLFFBQVEsR0FBRyxRQUFRLENBQUMsSUFBSSxDQUFDLFFBQStCLENBQUM7WUFFN0QsS0FBSyxJQUFJLENBQUMsR0FBRyxDQUFDLEVBQUUsQ0FBQyxHQUFHLFFBQVEsQ0FBQyxNQUFNLEVBQUUsQ0FBQyxFQUFFLEVBQUU7Z0JBQ3hDLElBQUksSUFBSSxDQUFDLE9BQU8sQ0FBQyxRQUFRLENBQUMsQ0FBQyxDQUFDLENBQUMsS0FBSyxDQUFDLENBQUMsRUFBRTtvQkFDcEMsSUFBSSxDQUFDLElBQUksQ0FBQyxRQUFRLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQztpQkFDeEI7YUFDRjtTQUNGO1FBRUQsSUFBSSxNQUFNLENBQUM7UUFFWCxPQUFPLENBQUMsTUFBTSxHQUFHLEdBQUcsQ0FBQyxJQUFJLENBQUMsSUFBSSxDQUFDLENBQUMsSUFBSSxJQUFJLEVBQUU7WUFDeEMsTUFBTSxLQUFLLEdBQUcsTUFBTSxDQUFDLENBQUMsQ0FBQyxDQUFDO1lBQ3hCLE1BQU0sTUFBTSxHQUFHLE1BQU0sQ0FBQyxDQUFDLENBQUMsQ0FBQztZQUV6QixNQUFNLE1BQU0sR0FBRyxLQUFLLENBQUMsUUFBUSxDQUFDLHVCQUF1QixDQUFDLENBQUM7WUFFdkQsSUFBSSxNQUFNLElBQUksQ0FBQyxJQUFJLENBQUMsUUFBUSxDQUFDLE1BQU0sQ0FBQztnQkFBRSxJQUFJLENBQUMsSUFBSSxDQUFDLE1BQU0sQ0FBQyxDQUFDO2lCQUNuRCxJQUFJLENBQUMsTUFBTSxDQUFDLFFBQVEsQ0FBQyxNQUFNLENBQUM7Z0JBQUUsTUFBTSxDQUFDLElBQUksQ0FBQyxNQUFNLENBQUMsQ0FBQztTQUN4RDtRQUVELE1BQU0sU0FBUyxHQUFHLElBQUksQ0FBQyxPQUFPLENBQUMsR0FBRyxFQUFFLEVBQUUsQ0FBQyxDQUFDO1FBQ3hDLE9BQU87WUFDTCxJQUFJLEVBQUUsU0FBUztZQUNmLElBQUk7WUFDSixNQUFNO1NBQ1AsQ0FBQztJQUNKLENBQUM7SUFFRCxLQUFLOztRQUNILEtBQUssTUFBTSxPQUFPLElBQUksSUFBSSxDQUFDLEtBQUssQ0FBQyxRQUFRLEVBQUU7WUFDekMsTUFBTSxNQUFNLEdBQUcsSUFBSSxDQUFDLEtBQUssQ0FBQyxNQUFNLENBQUMsQ0FBQyxDQUFDLFFBQVEsQ0FBQyxJQUFJLENBQUMsQ0FBQyxDQUFDLFFBQVEsQ0FBQyxJQUFJLENBQUM7WUFDakUsTUFBTSxHQUFHLEdBQUksT0FBdUIsQ0FBQyxPQUFPLENBQUM7WUFDN0MsSUFBSSxLQUFLLEdBQWEsRUFBRSxDQUFDO1lBRXpCLEtBQUssQ0FBQyxJQUFJLENBQUMsT0FBTyxDQUFDLFNBQVMsQ0FBQyxDQUFDO1lBRTlCLEtBQUssSUFBSSxDQUFDLEdBQUcsQ0FBQyxFQUFFLENBQUMsR0FBRyxPQUFPLENBQUMsVUFBVSxDQUFDLE1BQU0sRUFBRSxDQUFDLEVBQUUsRUFBRTtnQkFDbEQsS0FBSyxDQUFDLElBQUksQ0FBQyxhQUFPLENBQUMsVUFBVSxDQUFDLElBQUksQ0FBQyxDQUFDLENBQUMsMENBQUUsSUFBSSxDQUFDLFdBQVcsRUFBRSxDQUFDLENBQUM7Z0JBQzNELEtBQUssQ0FBQyxJQUFJLENBQUMsYUFBTyxDQUFDLFVBQVUsQ0FBQyxJQUFJLENBQUMsQ0FBQyxDQUFDLDBDQUFFLEtBQUssQ0FBQyxXQUFXLEVBQUUsQ0FBQyxDQUFDO2FBQzdEO1lBRUQsSUFBSSxHQUFHLEtBQUssTUFBTSxJQUFJLEdBQUcsS0FBSyxNQUFNLEVBQUU7Z0JBQ3BDLE1BQU0sT0FBTyxHQUFHLFFBQVEsQ0FBQyxvQkFBb0IsQ0FBQyxHQUFHLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQztnQkFDdEQsS0FBSyxJQUFJLENBQUMsR0FBRyxDQUFDLEVBQUUsQ0FBQyxHQUFHLE9BQU8sQ0FBQyxVQUFVLENBQUMsTUFBTSxFQUFFLENBQUMsSUFBSSxDQUFDLEVBQUU7b0JBQ3JELE9BQU8sQ0FBQyxZQUFZLENBQUMsS0FBSyxDQUFDLENBQUMsQ0FBQyxFQUFFLEtBQUssQ0FBQyxDQUFDLEdBQUcsQ0FBQyxDQUFDLENBQUMsQ0FBQztpQkFDOUM7Z0JBQ0QsT0FBTzthQUNSO2lCQUFNLElBQUksR0FBRyxLQUFLLE9BQU8sRUFBRTtnQkFDMUIsTUFBTSxRQUFRLEdBQUcsUUFBUSxDQUFDLG9CQUFvQixDQUM1QyxHQUFHLENBQ2tDLENBQUM7Z0JBRXhDLElBQUksUUFBUSxDQUFDLE1BQU0sRUFBRTtvQkFDbkIsUUFBUSxDQUFDLENBQUMsQ0FBQyxDQUFDLElBQUksR0FBRyxPQUFPLENBQUMsSUFBSSxDQUFDO2lCQUNqQztxQkFBTTtvQkFDTCxNQUFNLFFBQVEsR0FBRyxZQUFDLEVBQ2hCLE9BQU8sRUFDUCxJQUFJLEVBQ0osT0FBTyxDQUFDLFNBQVMsQ0FDRSxDQUFDO29CQUN0QixNQUFNLENBQUMsV0FBVyxDQUFDLFFBQVEsQ0FBQyxDQUFDO2lCQUM5QjtnQkFDRCxPQUFPO2FBQ1I7WUFFRCxJQUFJLE1BQU0sR0FBRyxLQUFLLENBQUM7WUFDbkIsS0FBSyxHQUFHLEtBQUssQ0FBQyxJQUFJLEVBQUUsQ0FBQztZQUVyQixNQUFNLEVBQUUsR0FBRyxRQUFRLENBQUMsb0JBQW9CLENBQ3RDLEdBQUcsQ0FDNkIsQ0FBQztZQUVuQyxLQUFLLElBQUksQ0FBQyxHQUFHLENBQUMsRUFBRSxDQUFDLEdBQUcsRUFBRSxDQUFDLE1BQU0sRUFBRSxDQUFDLEVBQUUsRUFBRTtnQkFDbEMsSUFBSSxNQUFNLEdBQWEsRUFBRSxDQUFDO2dCQUUxQixNQUFNLENBQUMsSUFBSSxDQUFDLEVBQUUsQ0FBQyxDQUFDLENBQUMsQ0FBQyxTQUFTLENBQUMsQ0FBQztnQkFFN0IsS0FBSyxJQUFJLENBQUMsR0FBRyxDQUFDLEVBQUUsQ0FBQyxHQUFHLEVBQUUsQ0FBQyxDQUFDLENBQUMsQ0FBQyxVQUFVLENBQUMsTUFBTSxFQUFFLENBQUMsRUFBRSxFQUFFO29CQUNoRCxNQUFNLENBQUMsSUFBSSxDQUFDLFFBQUUsQ0FBQyxDQUFDLENBQUMsQ0FBQyxVQUFVLENBQUMsSUFBSSxDQUFDLENBQUMsQ0FBQywwQ0FBRSxJQUFJLENBQUMsV0FBVyxFQUFZLENBQUMsQ0FBQztvQkFDcEUsTUFBTSxDQUFDLElBQUksQ0FBQyxRQUFFLENBQUMsQ0FBQyxDQUFDLENBQUMsVUFBVSxDQUFDLElBQUksQ0FBQyxDQUFDLENBQUMsMENBQUUsS0FBSyxDQUFDLFdBQVcsRUFBWSxDQUFDLENBQUM7aUJBQ3RFO2dCQUNELE1BQU0sR0FBRyxNQUFNLENBQUMsSUFBSSxFQUFFLENBQUM7Z0JBRXZCLElBQ0UsS0FBSyxDQUFDLE1BQU0sR0FBRyxDQUFDO29CQUNoQixNQUFNLENBQUMsTUFBTSxHQUFHLENBQUM7b0JBQ2pCLElBQUksQ0FBQyxTQUFTLENBQUMsS0FBSyxDQUFDLEtBQUssSUFBSSxDQUFDLFNBQVMsQ0FBQyxNQUFNLENBQUM7b0JBRWhELE1BQU0sR0FBRyxJQUFJLENBQUM7YUFDakI7WUFFRCxJQUFJLENBQUMsTUFBTSxFQUFFO2dCQUNYLHlCQUFjLEVBQUMsTUFBTSxFQUFFLE9BQU8sQ0FBQyxDQUFDO2FBQ2pDO1NBQ0Y7SUFDSCxDQUFDO0lBRUQsTUFBTTtRQUNKLElBQUksS0FBSyxFQUFFO1lBQ1QsT0FBTyxZQUFDLEVBQ04sUUFBUSxFQUNSO2dCQUNFLFVBQVUsRUFBRSxJQUFJO2dCQUNoQixnQkFBZ0IsRUFBRSxJQUFJLENBQUMsS0FBSyxDQUFDLE1BQU0sQ0FBQyxDQUFDLENBQUMsUUFBUSxDQUFDLENBQUMsQ0FBQyxNQUFNO2FBQ3hELEVBQ0QsSUFBSSxDQUFDLEtBQUssQ0FBQyxRQUFRLENBQ3BCLENBQUM7U0FDSDthQUFNO1lBQ0wsT0FBTyxFQUFFLENBQUM7U0FDWDtJQUNILENBQUM7Q0FDRjtBQXhIRCx3QkF3SEM7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUMxSEQseUVBQXVDO0FBQ3ZDLHNFQUFxQztBQUVyQyxNQUFhLEdBQUksU0FBUSxnQkFBUztJQUNoQyxZQUFZLEtBQVU7UUFDcEIsS0FBSyxDQUFDLEtBQUssQ0FBQyxDQUFDO1FBRWIsTUFBTSxFQUFFLEdBQUcsRUFBRSxHQUFHLEVBQUUsR0FBRyxJQUFJLENBQUMsS0FBSyxDQUFDO1FBQ2hDLElBQUksQ0FBQyxFQUFFLEdBQUcscUJBQVMsRUFBQyxHQUFHLENBQUMsR0FBRyxHQUFHLEdBQUcscUJBQVMsRUFBQyxJQUFJLENBQUMsU0FBUyxDQUFDLElBQUksQ0FBQyxLQUFLLENBQUMsQ0FBQyxDQUFDO1FBQ3ZFLElBQUksR0FBRyxFQUFFO1lBQ1AsSUFBSSxDQUFDLEVBQUUsSUFBSSxRQUFRLEdBQUcsRUFBRSxDQUFDO1NBQzFCO1FBRUQsSUFBSSxDQUFDLElBQUksQ0FBQyxLQUFLLEVBQUU7WUFDZixJQUFJLENBQUMsUUFBUSxDQUFDLEVBQUUsS0FBSyxFQUFFLEVBQUUsRUFBRSxRQUFRLEVBQUUsS0FBSyxFQUFFLENBQUMsQ0FBQztTQUMvQztJQUNILENBQUM7SUFFRCxLQUFLO1FBQ0gsTUFBTSxLQU9GLElBQUksQ0FBQyxLQUFLLEVBUFIsRUFDSixJQUFJLEdBQUcsSUFBSSxFQUNYLFdBQVcsRUFDWCxHQUFHLEVBQ0gsR0FBRyxFQUNILFFBQVEsT0FFSSxFQURULElBQUksY0FOSCxpREFPTCxDQUFhLENBQUM7UUFFZixJQUFJLENBQUMsSUFBSTtZQUFFLE9BQU87UUFFbEIsTUFBTSxRQUFRLEdBQUcsSUFBSSxvQkFBb0IsQ0FDdkMsQ0FBQyxPQUFPLEVBQUUsUUFBUSxFQUFFLEVBQUU7WUFDcEIsS0FBSyxNQUFNLEtBQUssSUFBSSxPQUFPLEVBQUU7Z0JBQzNCLElBQUksS0FBSyxDQUFDLGNBQWMsRUFBRTtvQkFDeEIsUUFBUSxDQUFDLFVBQVUsRUFBRSxDQUFDO29CQUN0QixJQUFJLENBQUMsS0FBSyxDQUFDLEtBQUssR0FBRyxZQUFDLEVBQUMsS0FBSyxvQkFBTyxJQUFJLEVBQUcsQ0FBQztvQkFDekMsSUFBSSxJQUFJLENBQUMsS0FBSyxDQUFDLEtBQUssQ0FBQyxRQUFRLEVBQUU7d0JBQzdCLElBQUksQ0FBQyxLQUFLLENBQUMsUUFBUSxHQUFHLElBQUksQ0FBQzt3QkFDM0IsSUFBSSxDQUFDLE1BQU0sRUFBRSxDQUFDO3FCQUNmO3lCQUFNO3dCQUNMLElBQUksQ0FBQyxLQUFLLENBQUMsS0FBSyxDQUFDLE1BQU0sR0FBRyxHQUFHLEVBQUU7NEJBQzdCLElBQUksQ0FBQyxLQUFLLENBQUMsUUFBUSxHQUFHLElBQUksQ0FBQzs0QkFDM0IsSUFBSSxDQUFDLE1BQU0sRUFBRSxDQUFDO3dCQUNoQixDQUFDLENBQUM7cUJBQ0g7aUJBQ0Y7YUFDRjtRQUNILENBQUMsRUFDRCxFQUFFLFNBQVMsRUFBRSxDQUFDLENBQUMsRUFBRSxDQUFDLENBQUMsRUFBRSxDQUN0QixDQUFDO1FBRUYsUUFBUSxDQUFDLE9BQU8sQ0FBQyxJQUFJLENBQUMsUUFBUSxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUM7SUFDckMsQ0FBQztJQUVELE1BQU07UUFDSixNQUFNLEtBUUYsSUFBSSxDQUFDLEtBQUssRUFSUixFQUNKLElBQUksR0FBRyxJQUFJLEVBQ1gsR0FBRyxFQUNILFdBQVcsRUFDWCxHQUFHLEVBQ0gsR0FBRyxFQUNILFFBQVEsT0FFSSxFQURULElBQUksY0FQSCx3REFRTCxDQUFhLENBQUM7UUFFZixJQUFJLENBQUMsSUFBSSxFQUFFO1lBQ1QsSUFBSSxDQUFDLEtBQUssQ0FBQyxLQUFLLEdBQUcsWUFBQyxFQUFDLEtBQUssa0JBQUksR0FBRyxJQUFLLElBQUksRUFBRyxDQUFDO1lBQzlDLE9BQU8sSUFBSSxDQUFDLEtBQUssQ0FBQyxLQUFLLENBQUM7U0FDekI7UUFFRCxJQUFJLElBQUksQ0FBQyxLQUFLLENBQUMsUUFBUSxFQUFFO1lBQ3ZCLE9BQU8sSUFBSSxDQUFDLEtBQUssQ0FBQyxLQUFLLENBQUM7U0FDekI7YUFBTSxJQUFJLE9BQU8sV0FBVyxLQUFLLFFBQVEsRUFBRTtZQUMxQyxPQUFPLFlBQUMsRUFBQyxLQUFLLGtCQUFJLEdBQUcsRUFBRSxXQUFXLElBQUssSUFBSSxFQUFHLENBQUM7U0FDaEQ7YUFBTSxJQUFJLE9BQU8sV0FBVyxLQUFLLFVBQVUsRUFBRTtZQUM1QyxPQUFPLFdBQVcsRUFBRSxDQUFDO1NBQ3RCO2FBQU07WUFDTCxNQUFNLEtBQUssR0FBRztnQkFDWixlQUFlLEVBQUUsV0FBVztnQkFDNUIsS0FBSyxFQUFFLE9BQU87Z0JBQ2QsTUFBTSxFQUFFLE9BQU87YUFDaEIsQ0FBQztZQUVGLE1BQU0sRUFBRSxLQUFLLEVBQUUsTUFBTSxLQUFnQixJQUFJLEVBQWYsTUFBTSxVQUFLLElBQUksRUFBbkMsbUJBQTRCLENBQU8sQ0FBQztZQUMxQyxJQUFJLEtBQUssRUFBRTtnQkFDVCxLQUFLLENBQUMsS0FBSyxHQUFHLEtBQUssQ0FBQzthQUNyQjtZQUNELElBQUksTUFBTSxFQUFFO2dCQUNWLEtBQUssQ0FBQyxNQUFNLEdBQUcsTUFBTSxDQUFDO2FBQ3ZCO1lBQ0QsT0FBTyxZQUFDLEVBQUMsS0FBSyxrQkFBSSxLQUFLLElBQUssTUFBTSxFQUFHLENBQUM7U0FDdkM7SUFDSCxDQUFDO0NBQ0Y7QUExRkQsa0JBMEZDOzs7Ozs7Ozs7Ozs7OztBQzdGRCxpRkFBa0M7QUFBekIsdUdBQU07QUFDZix3RUFBNEI7QUFBbkIsOEZBQUc7QUFDWiwyRUFBOEI7QUFBckIsaUdBQUk7QUFDYix1RkFBc0M7QUFBN0IsNkdBQVE7QUFDakIsb0ZBQW9DO0FBQTNCLDBHQUFPO0FBQ2hCLGlGQUEyRDtBQUFsRCxxR0FBSztBQUFFLHVHQUFNO0FBQUUsdUdBQUksUUFBWTs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQ0x4Qyx5RUFBaUQ7QUFDakQsbUZBQWtDO0FBRWxDLE1BQWEsSUFBSyxTQUFRLGdCQUFTO0lBQ2pDLEtBQUs7UUFDSCxNQUFNLEVBQUUsUUFBUSxFQUFFLElBQUksRUFBRSxLQUFLLEVBQUUsSUFBSSxHQUFHLEtBQUssRUFBRSxHQUFHLElBQUksQ0FBQyxLQUFLLENBQUM7UUFFM0QsSUFBSSxJQUFJLEVBQUU7WUFDUixJQUFJLENBQUMsUUFBUSxDQUFDLENBQUMsQ0FBQyxDQUFDLGdCQUFnQixDQUMvQixPQUFPLEVBQ1AsU0FBUyxPQUFPLENBQWEsQ0FBUTtnQkFDbkMsQ0FBQyxDQUFDLGNBQWMsRUFBRSxDQUFDO2dCQUNuQixNQUFNLE1BQU0sR0FBRyxDQUFDLENBQUMsTUFBeUIsQ0FBQztnQkFDM0MsSUFBSSxNQUFNLENBQUMsSUFBSSxLQUFLLFFBQVEsQ0FBQyxRQUFRLEVBQUU7b0JBQ3JDLE1BQU0sQ0FBQyxPQUFPLENBQUMsSUFBSSxFQUFFLENBQUM7aUJBQ3ZCO3FCQUFNO29CQUNMLE1BQU0sQ0FBQyxRQUFRLENBQUMsSUFBSSxHQUFHLElBQUksQ0FBQztpQkFDN0I7WUFDSCxDQUFDLENBQUMsSUFBSSxDQUFDLElBQUksQ0FBQyxDQUNiLENBQUM7U0FDSDtRQUVELElBQUksS0FBSyxFQUFFO1lBQ1QsSUFBSSxDQUFDLFFBQVEsQ0FBQyxDQUFDLENBQUMsQ0FBQyxnQkFBZ0IsQ0FDL0IsT0FBTyxFQUNQLFNBQVMsT0FBTyxDQUFhLENBQVE7Z0JBQ25DLENBQUMsQ0FBQyxjQUFjLEVBQUUsQ0FBQztnQkFDbkIsVUFBVSxDQUFDLEdBQUcsRUFBRTtvQkFDZCxNQUFNLENBQUMsUUFBUSxDQUFDLElBQUksR0FBRyxJQUFJLENBQUM7Z0JBQzlCLENBQUMsRUFBRSxLQUFLLENBQUMsQ0FBQztZQUNaLENBQUMsQ0FBQyxJQUFJLENBQUMsSUFBSSxDQUFDLENBQ2IsQ0FBQztTQUNIO1FBRUQsSUFBSSxRQUFRLEVBQUU7WUFDWixJQUFJLFFBQVEsS0FBSyxPQUFPLEVBQUU7Z0JBQ3hCLElBQUksQ0FBQyxlQUFlLEVBQUUsQ0FBQzthQUN4QjtpQkFBTSxJQUFJLFFBQVEsS0FBSyxTQUFTLEVBQUU7Z0JBQ2pDLElBQUksQ0FBQyxpQkFBaUIsRUFBRSxDQUFDO2FBQzFCO2lCQUFNO2dCQUNMLElBQUksQ0FBQyxXQUFXLEVBQUUsQ0FBQzthQUNwQjtTQUNGO0lBQ0gsQ0FBQztJQUVELGVBQWU7UUFDYixJQUFJLENBQUMsUUFBUSxDQUFDLENBQUMsQ0FBQyxDQUFDLGdCQUFnQixDQUMvQixXQUFXLEVBQ1gsU0FBUyxPQUFPO1lBQ2QsSUFBSSxDQUFDLFdBQVcsRUFBRSxDQUFDO1FBQ3JCLENBQUMsQ0FBQyxJQUFJLENBQUMsSUFBSSxDQUFDLEVBQ1osRUFBRSxJQUFJLEVBQUUsSUFBSSxFQUFFLENBQ2YsQ0FBQztJQUNKLENBQUM7SUFFRCxpQkFBaUI7UUFDZixNQUFNLFFBQVEsR0FBRyxJQUFJLG9CQUFvQixDQUN2QyxDQUFDLE9BQU8sRUFBRSxRQUFRLEVBQUUsRUFBRTtZQUNwQixLQUFLLE1BQU0sS0FBSyxJQUFJLE9BQU8sRUFBRTtnQkFDM0IsSUFBSSxLQUFLLENBQUMsY0FBYyxFQUFFO29CQUN4QixRQUFRLENBQUMsVUFBVSxFQUFFLENBQUM7b0JBQ3RCLElBQUksQ0FBQyxXQUFXLEVBQUUsQ0FBQztpQkFDcEI7YUFDRjtRQUNILENBQUMsRUFDRCxFQUFFLFNBQVMsRUFBRSxDQUFDLENBQUMsRUFBRSxDQUFDLENBQUMsRUFBRSxDQUN0QixDQUFDO1FBQ0YsUUFBUSxDQUFDLE9BQU8sQ0FBQyxJQUFJLENBQUMsUUFBUSxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUM7SUFDckMsQ0FBQztJQUVELFdBQVc7UUFDVCxJQUFJLE1BQU0sR0FBRyxLQUFLLENBQUM7UUFFbkIsTUFBTSxLQUFLLEdBQUcsUUFBUSxDQUFDLG9CQUFvQixDQUFDLE1BQU0sQ0FBQyxDQUFDO1FBRXBELEtBQUssTUFBTSxJQUFJLElBQUksS0FBSyxFQUFFO1lBQ3hCLElBQ0UsSUFBSSxDQUFDLFlBQVksQ0FBQyxLQUFLLENBQUMsS0FBSyxVQUFVO2dCQUN2QyxJQUFJLENBQUMsWUFBWSxDQUFDLE1BQU0sQ0FBQyxLQUFLLElBQUksQ0FBQyxLQUFLLENBQUMsSUFBSSxFQUM3QztnQkFDQSxNQUFNLEdBQUcsSUFBSSxDQUFDO2FBQ2Y7U0FDRjtRQUVELElBQUksQ0FBQyxNQUFNLEVBQUU7WUFDWCxNQUFNLFFBQVEsR0FBRyxZQUFDLEVBQUMsTUFBTSxFQUFFO2dCQUN6QixHQUFHLEVBQUUsVUFBVTtnQkFDZixJQUFJLEVBQUUsSUFBSSxDQUFDLEtBQUssQ0FBQyxJQUFJO2dCQUNyQixFQUFFLEVBQUUsVUFBVTthQUNmLENBQUMsQ0FBQztZQUNILFFBQVEsQ0FBQyxJQUFJLENBQUMsV0FBVyxDQUFDLFFBQVEsQ0FBQyxDQUFDO1NBQ3JDO0lBQ0gsQ0FBQztJQUVELE1BQU07UUFDSixNQUFNLEtBT0YsSUFBSSxDQUFDLEtBQUssRUFQUixFQUNKLFFBQVEsRUFDUixRQUFRLEVBQ1IsS0FBSyxFQUNMLElBQUksR0FBRyxLQUFLLEVBQ1osR0FBRyxPQUVTLEVBRFQsSUFBSSxjQU5ILGdEQU9MLENBQWEsQ0FBQztRQUVmLE1BQU0sQ0FBQyxHQUFHLFlBQUMsRUFBQyxHQUFHLG9CQUFPLElBQUksR0FBSSxHQUFHLFFBQVEsQ0FBQyxDQUFDO1FBRTNDLElBQUksUUFBUSxJQUFJLEtBQUssRUFBRTtZQUNyQixNQUFNLElBQUksR0FBRyxZQUFDLEVBQUMsTUFBTSxFQUFFO2dCQUNyQixHQUFHLEVBQUUsVUFBVTtnQkFDZixJQUFJLEVBQUUsSUFBSSxDQUFDLEtBQUssQ0FBQyxJQUFJO2dCQUNyQixFQUFFLEVBQUUsVUFBVTthQUNmLENBQUMsQ0FBQztZQUNILE1BQU0sTUFBTSxHQUFHLFlBQUMsRUFBQyxlQUFNLEVBQUUsSUFBSSxFQUFFLElBQUksQ0FBQyxDQUFDO1lBQ3JDLE9BQU8sWUFBQyxFQUFDLGVBQVEsRUFBRSxJQUFJLEVBQUUsQ0FBQyxNQUFNLEVBQUUsQ0FBQyxDQUFDLENBQUMsQ0FBQztTQUN2QzthQUFNO1lBQ0wsT0FBTyxDQUFDLENBQUM7U0FDVjtJQUNILENBQUM7Q0FDRjtBQW5IRCxvQkFtSEM7Ozs7Ozs7Ozs7Ozs7O0FDdEhELHlFQUFzRDtBQUV0RCxNQUFNLFNBQVMsR0FBVSxFQUFFLENBQUM7QUFFNUIsU0FBUyxRQUFRLENBQUMsSUFBUztJQUN6QixTQUFTLENBQUMsSUFBSSxDQUFDLElBQUksQ0FBQyxDQUFDO0FBQ3ZCLENBQUM7QUFFRCxTQUFTLFVBQVUsQ0FBQyxJQUFTO0lBQzNCLFNBQVMsQ0FBQyxNQUFNLENBQUMsU0FBUyxDQUFDLE9BQU8sQ0FBQyxJQUFJLENBQUMsRUFBRSxDQUFDLENBQUMsQ0FBQztBQUMvQyxDQUFDO0FBRUQsU0FBUyxXQUFXLENBQUMsSUFBWTtJQUMvQixNQUFNLENBQUMsT0FBTyxDQUFDLFNBQVMsQ0FBQyxFQUFFLEVBQUUsRUFBRSxFQUFFLElBQUksQ0FBQyxDQUFDO0lBQ3ZDLEtBQUssTUFBTSxRQUFRLElBQUksU0FBUyxFQUFFO1FBQ2hDLFFBQVEsQ0FBQyxXQUFXLEVBQUUsQ0FBQztLQUN4QjtBQUNILENBQUM7QUFFRCxTQUFTLGNBQWMsQ0FBQyxJQUFZO0lBQ2xDLE1BQU0sQ0FBQyxPQUFPLENBQUMsWUFBWSxDQUFDLEVBQUUsRUFBRSxFQUFFLEVBQUUsSUFBSSxDQUFDLENBQUM7SUFDMUMsS0FBSyxNQUFNLFFBQVEsSUFBSSxTQUFTLEVBQUU7UUFDaEMsUUFBUSxDQUFDLFdBQVcsRUFBRSxDQUFDO0tBQ3hCO0FBQ0gsQ0FBQztBQUVELFNBQVMsU0FBUyxDQUNoQixRQUFnQixFQUNoQixPQUlDO0lBRUQsTUFBTSxFQUFFLEtBQUssR0FBRyxLQUFLLEVBQUUsS0FBSyxFQUFFLEdBQUcsT0FBTyxDQUFDO0lBQ3pDLElBQUksRUFBRSxJQUFJLEVBQUUsR0FBRyxPQUFPLENBQUM7SUFFdkIsSUFBSSxDQUFDLElBQUksRUFBRTtRQUNULE9BQU87WUFDTCxJQUFJLEVBQUUsSUFBSTtZQUNWLEdBQUcsRUFBRSxRQUFRO1lBQ2IsT0FBTyxFQUFFLElBQUk7U0FDZCxDQUFDO0tBQ0g7SUFFRCxJQUFJLEtBQUssQ0FBQztJQUNWLElBQUksTUFBTSxHQUFHLEVBQUUsQ0FBQztJQUVoQixtQkFBbUI7SUFDbkIsSUFBSSxJQUFJLENBQUMsUUFBUSxDQUFDLElBQUksQ0FBQyxFQUFFO1FBQ3ZCLE1BQU0sT0FBTyxHQUFHLElBQUksQ0FBQyxLQUFLLENBQUMsR0FBRyxDQUFDLENBQUM7UUFDaEMsTUFBTSxXQUFXLEdBQUcsUUFBUSxDQUFDLEtBQUssQ0FBQyxHQUFHLENBQUMsQ0FBQztRQUN4QyxPQUFPLENBQUMsT0FBTyxDQUFDLENBQUMsQ0FBQyxFQUFFLENBQUMsRUFBRSxFQUFFO1lBQ3ZCLElBQUksSUFBSSxDQUFDLElBQUksQ0FBQyxDQUFDLENBQUMsRUFBRTtnQkFDaEIsTUFBTSxHQUFHLEdBQUcsQ0FBQyxDQUFDLEtBQUssQ0FBQyxDQUFDLENBQUMsQ0FBQztnQkFDdkIsTUFBTSxLQUFLLEdBQUcsV0FBVyxDQUFDLENBQUMsQ0FBQyxDQUFDO2dCQUU3Qiw4Q0FBOEM7Z0JBQzlDLElBQUksS0FBSyxJQUFJLEtBQUssQ0FBQyxHQUFHLENBQUMsRUFBRTtvQkFDdkIsTUFBTSxVQUFVLEdBQUcsS0FBSyxDQUFDLEdBQUcsQ0FBQyxDQUFDLElBQUksQ0FBQyxLQUFLLENBQUMsQ0FBQztvQkFDMUMsSUFBSSxDQUFDLFVBQVU7d0JBQUUsT0FBTyxJQUFJLENBQUM7aUJBQzlCO2dCQUVELE1BQU0sbUNBQVEsTUFBTSxLQUFFLENBQUMsR0FBRyxDQUFDLEVBQUUsS0FBSyxHQUFFLENBQUM7Z0JBRXJDLE9BQU8sQ0FBQyxDQUFDLENBQUMsR0FBRyxXQUFXLENBQUMsQ0FBQyxDQUFDLENBQUM7YUFDN0I7UUFDSCxDQUFDLENBQUMsQ0FBQztRQUNILElBQUksR0FBRyxPQUFPLENBQUMsSUFBSSxDQUFDLEdBQUcsQ0FBQyxDQUFDO0tBQzFCO0lBRUQsWUFBWTtJQUNaLElBQUksSUFBSSxLQUFLLEdBQUc7UUFBRSxLQUFLLEdBQUcsQ0FBQyxRQUFRLENBQUMsQ0FBQztJQUVyQyxlQUFlO0lBQ2YsSUFBSSxDQUFDLEtBQUs7UUFBRSxLQUFLLEdBQUcsSUFBSSxNQUFNLENBQUMsSUFBSSxJQUFJLEVBQUUsQ0FBQyxDQUFDLElBQUksQ0FBQyxRQUFRLENBQUMsQ0FBQztJQUUxRCxJQUFJLENBQUMsS0FBSztRQUFFLE9BQU8sSUFBSSxDQUFDO0lBRXhCLE1BQU0sR0FBRyxHQUFHLEtBQUssQ0FBQyxDQUFDLENBQUMsQ0FBQztJQUNyQixNQUFNLE9BQU8sR0FBRyxRQUFRLEtBQUssR0FBRyxDQUFDO0lBRWpDLElBQUksS0FBSyxJQUFJLENBQUMsT0FBTztRQUFFLE9BQU8sSUFBSSxDQUFDO0lBRW5DLE9BQU87UUFDTCxJQUFJO1FBQ0osR0FBRztRQUNILE9BQU87UUFDUCxNQUFNO0tBQ1AsQ0FBQztBQUNKLENBQUM7QUFFRCxNQUFhLE1BQU8sU0FBUSxnQkFBNkM7SUFBekU7O1FBQ0UsVUFBSyxHQUFXLENBQUMsQ0FBQztRQUNsQixTQUFJLEdBQVcsRUFBRSxDQUFDO1FBQ2xCLFVBQUssR0FBRyxFQUFFLEtBQUssRUFBRSxDQUFDLENBQUMsRUFBRSxJQUFJLEVBQUUsRUFBRSxFQUFFLENBQUM7SUFtRWxDLENBQUM7SUFqRUMsS0FBSztRQUNILE1BQU0sQ0FBQyxnQkFBZ0IsQ0FBQyxVQUFVLEVBQUUsSUFBSSxDQUFDLFdBQVcsQ0FBQyxJQUFJLENBQUMsSUFBSSxDQUFDLENBQUMsQ0FBQztRQUNqRSxRQUFRLENBQUMsSUFBSSxDQUFDLENBQUM7SUFDakIsQ0FBQztJQUVELE9BQU87UUFDTCxVQUFVLENBQUMsSUFBSSxDQUFDLENBQUM7UUFDakIsTUFBTSxDQUFDLG1CQUFtQixDQUFDLFVBQVUsRUFBRSxJQUFJLENBQUMsV0FBVyxDQUFDLElBQUksQ0FBQyxJQUFJLENBQUMsQ0FBQyxDQUFDO0lBQ3RFLENBQUM7SUFFRCxXQUFXO1FBQ1QsSUFBSSxDQUFDLFNBQVMsRUFBRSxDQUFDO1FBQ2pCLElBQUksSUFBSSxDQUFDLFlBQVksRUFBRTtZQUFFLElBQUksQ0FBQyxNQUFNLEVBQUUsQ0FBQztJQUN6QyxDQUFDO0lBRUQsU0FBUztRQUNQLElBQUksQ0FBQyxLQUFLLEdBQUcsRUFBRSxLQUFLLEVBQUUsQ0FBQyxDQUFDLEVBQUUsSUFBSSxFQUFFLEVBQUUsRUFBRSxDQUFDO1FBRXJDLEtBQUssTUFBTSxDQUFDLENBQUMsRUFBRSxLQUFLLENBQUMsSUFBSSxJQUFJLENBQUMsS0FBSyxDQUFDLFFBQVEsQ0FBQyxPQUFPLEVBQUUsRUFBRTtZQUN0RCxNQUFNLEVBQUUsSUFBSSxFQUFFLEtBQUssRUFBRSxLQUFLLEVBQUUsR0FBRyxLQUFLLENBQUMsS0FBSyxDQUFDO1lBQzNDLE1BQU0sS0FBSyxHQUFHLFNBQVMsQ0FDckIsT0FBTyxLQUFLLEtBQUssV0FBVztnQkFDMUIsQ0FBQyxDQUFDLEtBQUssQ0FBQyxRQUFRLENBQUMsUUFBUTtnQkFDekIsQ0FBQyxDQUFDLE1BQU0sQ0FBQyxRQUFRLENBQUMsUUFBUSxFQUM1QjtnQkFDRSxJQUFJO2dCQUNKLEtBQUs7Z0JBQ0wsS0FBSzthQUNOLENBQ0YsQ0FBQztZQUVGLElBQUksS0FBSyxFQUFFO2dCQUNULElBQUksQ0FBQyxLQUFLLENBQUMsS0FBSyxHQUFHLENBQUMsQ0FBQztnQkFDckIsSUFBSSxDQUFDLEtBQUssQ0FBQyxJQUFJLEdBQUcsSUFBSSxDQUFDO2dCQUN2QixPQUFPO2FBQ1I7U0FDRjtJQUNILENBQUM7SUFFRCxZQUFZO1FBQ1YsT0FBTyxJQUFJLENBQUMsSUFBSSxLQUFLLElBQUksQ0FBQyxLQUFLLENBQUMsSUFBSSxJQUFJLElBQUksQ0FBQyxLQUFLLEtBQUssSUFBSSxDQUFDLEtBQUssQ0FBQyxLQUFLLENBQUM7SUFDMUUsQ0FBQztJQUVELE1BQU07UUFDSixJQUFJLENBQUMsU0FBUyxFQUFFLENBQUM7UUFFakIsTUFBTSxLQUFLLEdBQUcsSUFBSSxDQUFDLEtBQUssQ0FBQyxRQUFRLENBQUMsSUFBSSxDQUFDLEtBQUssQ0FBQyxLQUFLLENBQUMsQ0FBQztRQUVwRCxJQUFJLElBQUksQ0FBQyxLQUFLLENBQUMsS0FBSyxLQUFLLENBQUMsQ0FBQyxFQUFFO1lBQzNCLElBQUksQ0FBQyxJQUFJLEdBQUcsRUFBRSxDQUFDO1lBQ2YsSUFBSSxDQUFDLEtBQUssR0FBRyxDQUFDLENBQUM7U0FDaEI7UUFFRCxJQUFJLEtBQUssRUFBRTtZQUNULE1BQU0sRUFBRSxJQUFJLEVBQUUsR0FBRyxLQUFLLENBQUMsS0FBSyxDQUFDO1lBQzdCLElBQUksQ0FBQyxJQUFJLEdBQUcsSUFBSSxDQUFDO1lBQ2pCLElBQUksQ0FBQyxLQUFLLEdBQUcsSUFBSSxDQUFDLEtBQUssQ0FBQyxLQUFLLENBQUM7WUFDOUIsTUFBTSxFQUFFLEdBQUcsd0JBQWEsRUFBQyxLQUFLLENBQUMsQ0FBQztZQUNoQyxPQUFPLHdCQUFhLEVBQUMsRUFBRSxDQUFDLENBQUM7U0FDMUI7YUFBTSxJQUFJLElBQUksQ0FBQyxLQUFLLENBQUMsUUFBUSxFQUFFO1lBQzlCLE9BQU8sd0JBQWEsRUFBQyxJQUFJLENBQUMsS0FBSyxDQUFDLFFBQVEsQ0FBQyxDQUFDO1NBQzNDO2FBQU07WUFDTCxPQUFPLFlBQUMsRUFBQyxLQUFLLEVBQUUsRUFBRSxLQUFLLEVBQUUsT0FBTyxFQUFFLEVBQUUsV0FBVyxDQUFDLENBQUM7U0FDbEQ7SUFDSCxDQUFDO0NBQ0Y7QUF0RUQsd0JBc0VDO0FBRUQsU0FBZ0IsS0FBSyxDQUFDLEVBQ3BCLElBQUksRUFDSixLQUFLLEVBQ0wsUUFBUSxHQU1UO0lBQ0MsS0FBSyxNQUFNLEtBQUssSUFBSSxRQUFRLEVBQUU7UUFDNUIsSUFBSSxLQUFLLENBQUMsS0FBSztZQUFFLEtBQUssQ0FBQyxLQUFLLG1DQUFRLEtBQUssQ0FBQyxLQUFLLEtBQUUsS0FBSyxFQUFFLEVBQUUsSUFBSSxFQUFFLEtBQUssRUFBRSxHQUFFLENBQUM7S0FDM0U7SUFFRCxPQUFPLFFBQVEsQ0FBQztBQUNsQixDQUFDO0FBZkQsc0JBZUM7QUFFTSxNQUFNLEVBQUUsR0FBRyxDQUFDLEVBQVUsRUFBRSxVQUFtQixLQUFLLEVBQUUsRUFBRTtJQUN6RCxPQUFPLENBQUMsQ0FBQyxDQUFDLGNBQWMsQ0FBQyxFQUFFLENBQUMsQ0FBQyxDQUFDLENBQUMsV0FBVyxDQUFDLEVBQUUsQ0FBQyxDQUFDO0FBQ2pELENBQUMsQ0FBQztBQUZXLFVBQUUsTUFFYjtBQUVGLFNBQWdCLElBQUksQ0FBQyxFQUNuQixFQUFFLEVBQ0YsT0FBTyxFQUNQLFFBQVEsR0FLVDtJQUNDLFNBQVMsT0FBTyxDQUFDLEtBQVk7UUFDM0IsS0FBSyxDQUFDLGNBQWMsRUFBRSxDQUFDO1FBQ3ZCLE9BQU8sQ0FBQyxDQUFDLENBQUMsY0FBYyxDQUFDLEVBQUUsQ0FBQyxDQUFDLENBQUMsQ0FBQyxXQUFXLENBQUMsRUFBRSxDQUFDLENBQUM7SUFDakQsQ0FBQztJQUVELE9BQU8sWUFBQyxFQUFDLEdBQUcsRUFBRSxFQUFFLElBQUksRUFBRSxFQUFFLEVBQUUsT0FBTyxFQUFFLEVBQUUsUUFBUSxDQUFDLENBQUM7QUFDakQsQ0FBQztBQWZELG9CQWVDOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FDeE1ELHlFQUFvQztBQUNwQyxzRUFBcUM7QUFFckMsTUFBYSxRQUFTLFNBQVEsZ0JBQVM7SUFHckMsWUFBWSxLQUFVO1FBQ3BCLEtBQUssQ0FBQyxLQUFLLENBQUMsQ0FBQztRQUhQLFlBQU8sR0FBRyxLQUFLLENBQUM7UUFLdEIsTUFBTSxLQUFpRCxJQUFJLENBQUMsS0FBSyxFQUEzRCxFQUFFLFFBQVEsRUFBRSxLQUFLLEdBQUcsS0FBSyxFQUFFLFFBQVEsT0FBd0IsRUFBbkIsSUFBSSxjQUE1QyxpQ0FBOEMsQ0FBYSxDQUFDO1FBRWxFLElBQUksQ0FBQyxFQUFFLEdBQUcscUJBQVMsRUFDakIsSUFBSSxDQUFDLFNBQVMsQ0FBQyxJQUFJLEVBQUUsVUFBVSxJQUFJLEVBQUUsR0FBRztZQUN0QyxPQUFPLE9BQU8sR0FBRyxLQUFLLFVBQVUsQ0FBQyxDQUFDLENBQUMsR0FBRyxHQUFHLEVBQUUsQ0FBQyxDQUFDLENBQUMsR0FBRyxDQUFDO1FBQ3BELENBQUMsQ0FBQyxDQUNILENBQUM7SUFDSixDQUFDO0lBRUssS0FBSzs7WUFDVCxNQUFNLEtBQWlELElBQUksQ0FBQyxLQUFLLEVBQTNELEVBQUUsUUFBUSxFQUFFLEtBQUssR0FBRyxLQUFLLEVBQUUsUUFBUSxPQUF3QixFQUFuQixJQUFJLGNBQTVDLGlDQUE4QyxDQUFhLENBQUM7WUFFbEUsSUFBSSxLQUFLO2dCQUFFLElBQUksQ0FBQyxZQUFZLEdBQUcsRUFBRSxDQUFDO1lBRWxDLElBQUksSUFBSSxDQUFDLGFBQWEsQ0FBQyxLQUFLLENBQUM7Z0JBQUUsT0FBTztZQUV0QyxNQUFNLFFBQVEsR0FBRyxNQUFNLENBQUMsTUFBTSxDQUFDLElBQUksQ0FBQyxDQUFDLEdBQUcsQ0FBQyxDQUFDLENBQU0sRUFBRSxFQUFFLENBQUMsQ0FBQyxFQUFFLENBQUMsQ0FBQztZQUMxRCxNQUFNLFFBQVEsR0FBRyxNQUFNLE9BQU8sQ0FBQyxHQUFHLENBQUMsUUFBUSxDQUFDLENBQUM7WUFDN0MsTUFBTSxJQUFJLEdBQUcsSUFBSSxDQUFDLFdBQVcsQ0FBQyxJQUFJLEVBQUUsUUFBUSxFQUFFLEtBQUssQ0FBQyxDQUFDO1lBRXJELElBQUksQ0FBQyxpQkFBaUIsQ0FBQyxJQUFJLENBQUMsQ0FBQztZQUU3QixJQUFJLENBQUMsT0FBTyxHQUFHLElBQUksQ0FBQztZQUNwQixJQUFJLENBQUMsTUFBTSxFQUFFLENBQUM7UUFDaEIsQ0FBQztLQUFBO0lBRU8sYUFBYSxDQUFDLEtBQWM7UUFDbEMsTUFBTSxNQUFNLEdBQUcsSUFBSSxDQUFDLEtBQUssSUFBSSxLQUFLLElBQUksTUFBTSxDQUFDLElBQUksQ0FBQyxJQUFJLENBQUMsS0FBSyxDQUFDLENBQUMsTUFBTSxDQUFDO1FBRXJFLElBQUksS0FBSyxFQUFFO1lBQ1QsSUFBSSxDQUFDLGlCQUFpQixDQUFDLElBQUksQ0FBQyxLQUFLLENBQUMsQ0FBQztZQUNuQyxJQUFJLENBQUMsT0FBTyxHQUFHLElBQUksQ0FBQztTQUNyQjtRQUVELE9BQU8sTUFBTSxDQUFDO0lBQ2hCLENBQUM7SUFFTyxHQUFHO1FBQ1QsTUFBTSxLQUFpRCxJQUFJLENBQUMsS0FBSyxFQUEzRCxFQUFFLFFBQVEsRUFBRSxLQUFLLEdBQUcsS0FBSyxFQUFFLFFBQVEsT0FBd0IsRUFBbkIsSUFBSSxjQUE1QyxpQ0FBOEMsQ0FBYSxDQUFDO1FBRWxFLE1BQU0sS0FBSyxHQUFHLE1BQU0sQ0FBQyxNQUFNLENBQUMsSUFBSSxDQUFDLENBQUMsR0FBRyxDQUFDLENBQUMsQ0FBTSxFQUFFLEVBQUUsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxDQUFDO1FBRXZELE1BQU0sSUFBSSxHQUFHLElBQUksQ0FBQyxXQUFXLENBQUMsSUFBSSxFQUFFLEtBQUssRUFBRSxLQUFLLENBQUMsQ0FBQztRQUVsRCxJQUFJLENBQUMsaUJBQWlCLENBQUMsSUFBSSxDQUFDLENBQUM7SUFDL0IsQ0FBQztJQUVPLGlCQUFpQixDQUFDLElBQVM7UUFDakMsS0FBSyxNQUFNLEtBQUssSUFBSSxJQUFJLENBQUMsS0FBSyxDQUFDLFFBQVEsRUFBRTtZQUN2QyxJQUFJLEtBQUssQ0FBQyxLQUFLLEVBQUU7Z0JBQ2YsS0FBSyxDQUFDLEtBQUssbUNBQVEsS0FBSyxDQUFDLEtBQUssR0FBSyxJQUFJLENBQUUsQ0FBQzthQUMzQztTQUNGO0lBQ0gsQ0FBQztJQUVPLFdBQVcsQ0FBQyxJQUFTLEVBQUUsSUFBUyxFQUFFLEtBQWM7UUFDdEQsTUFBTSxJQUFJLEdBQUcsTUFBTSxDQUFDLElBQUksQ0FBQyxJQUFJLENBQUMsQ0FBQyxNQUFNLENBQUMsQ0FBQyxHQUFHLEVBQUUsSUFBSSxFQUFFLEtBQUssRUFBRSxFQUFFO1lBQ3pELElBQUksS0FBSyxFQUFFO2dCQUNULElBQUksQ0FBQyxLQUFLLG1DQUFRLElBQUksQ0FBQyxLQUFLLEtBQUUsQ0FBQyxJQUFJLENBQUMsRUFBRSxJQUFJLENBQUMsS0FBSyxDQUFDLEdBQUUsQ0FBQzthQUNyRDtZQUNELHVDQUNLLEdBQUcsS0FDTixDQUFDLElBQUksQ0FBQyxFQUFFLElBQUksQ0FBQyxLQUFLLENBQUMsSUFDbkI7UUFDSixDQUFDLEVBQUUsRUFBRSxDQUFDLENBQUM7UUFDUCxPQUFPLElBQUksQ0FBQztJQUNkLENBQUM7SUFFRCxNQUFNO1FBQ0osSUFBSSxPQUFPLEtBQUssS0FBSyxXQUFXLEVBQUU7WUFDaEMsTUFBTSxFQUFFLEtBQUssR0FBRyxLQUFLLEVBQUUsR0FBRyxJQUFJLENBQUMsS0FBSyxDQUFDO1lBQ3JDLElBQUksQ0FBQyxhQUFhLENBQUMsS0FBSyxDQUFDLENBQUM7WUFDMUIsT0FBTyxJQUFJLENBQUMsT0FBTyxDQUFDLENBQUMsQ0FBQyxJQUFJLENBQUMsS0FBSyxDQUFDLFFBQVEsQ0FBQyxDQUFDLENBQUMsSUFBSSxDQUFDLEtBQUssQ0FBQyxRQUFRLENBQUM7U0FDakU7YUFBTTtZQUNMLElBQUksQ0FBQyxHQUFHLEVBQUUsQ0FBQztZQUNYLE9BQU8sSUFBSSxDQUFDLEtBQUssQ0FBQyxRQUFRLENBQUM7U0FDNUI7SUFDSCxDQUFDO0NBQ0Y7QUFwRkQsNEJBb0ZDOzs7Ozs7Ozs7Ozs7OztBQ3ZGRCx5RUFBK0M7QUFFL0MsTUFBYSxPQUFRLFNBQVEsZ0JBQVM7SUFBdEM7O1FBQ1UsY0FBUyxHQUFHLEtBQUssQ0FBQztJQTRCNUIsQ0FBQztJQTFCQyxLQUFLO1FBQ0gsTUFBTSxRQUFRLEdBQUcsSUFBSSxvQkFBb0IsQ0FDdkMsQ0FBQyxPQUFPLEVBQUUsUUFBUSxFQUFFLEVBQUU7WUFDcEIsS0FBSyxNQUFNLEtBQUssSUFBSSxPQUFPLEVBQUU7Z0JBQzNCLElBQUksS0FBSyxDQUFDLGNBQWMsRUFBRTtvQkFDeEIsUUFBUSxDQUFDLFVBQVUsRUFBRSxDQUFDO29CQUN0QixJQUFJLENBQUMsU0FBUyxHQUFHLElBQUksQ0FBQztvQkFDdEIsSUFBSSxDQUFDLE1BQU0sRUFBRSxDQUFDO2lCQUNmO2FBQ0Y7UUFDSCxDQUFDLEVBQ0QsRUFBRSxTQUFTLEVBQUUsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxDQUFDLEVBQUUsQ0FDdEIsQ0FBQztRQUVGLFFBQVEsQ0FBQyxPQUFPLENBQUMsSUFBSSxDQUFDLFFBQVEsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDO0lBQ3JDLENBQUM7SUFDRCxNQUFNO1FBQ0osSUFBSSxJQUFJLENBQUMsU0FBUyxFQUFFO1lBQ2xCLElBQUksSUFBSSxDQUFDLEtBQUssQ0FBQyxTQUFTLEVBQUU7Z0JBQ3hCLElBQUksQ0FBQyxLQUFLLENBQUMsU0FBUyxFQUFFLENBQUM7YUFDeEI7WUFDRCxPQUFPLGlCQUFNLEVBQUMsSUFBSSxDQUFDLEtBQUssQ0FBQyxTQUFTLElBQUksSUFBSSxDQUFDLEtBQUssQ0FBQyxRQUFRLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQztTQUMvRDthQUFNO1lBQ0wsT0FBTyxZQUFDLEVBQUMsS0FBSyxFQUFFLEVBQUUsY0FBYyxFQUFFLEtBQUssRUFBRSxVQUFVLEVBQUUsUUFBUSxFQUFFLENBQUMsQ0FBQztTQUNsRTtJQUNILENBQUM7Q0FDRjtBQTdCRCwwQkE2QkM7Ozs7Ozs7Ozs7Ozs7O0FDL0JELCtEQUFrQztBQUVsQyxTQUFnQixjQUFjLENBQUMsT0FBb0IsRUFBRSxRQUFhO0lBQ2hFLElBQUksQ0FBQyxLQUFLLENBQUMsT0FBTyxDQUFDLFFBQVEsQ0FBQyxFQUFFO1FBQzVCLGNBQWMsQ0FBQyxPQUFPLEVBQUUsQ0FBQyxRQUFRLENBQUMsQ0FBQyxDQUFDO1FBQ3BDLE9BQU87S0FDUjtJQUNELElBQUksT0FBTyxRQUFRLEtBQUssUUFBUSxFQUFFO1FBQ2hDLFFBQVEsR0FBRyxLQUFLLENBQUMsSUFBSSxDQUFDLFFBQVEsQ0FBQyxDQUFDO0tBQ2pDO0lBRUQsS0FBSyxNQUFNLEtBQUssSUFBSSxRQUFRLEVBQUU7UUFDNUIsSUFBSSxLQUFLLENBQUMsT0FBTyxDQUFDLEtBQUssQ0FBQyxFQUFFO1lBQ3hCLGNBQWMsQ0FBQyxPQUFPLEVBQUUsS0FBSyxDQUFDLENBQUM7U0FDaEM7YUFBTTtZQUNMLElBQUksSUFBSSxHQUFHLG9CQUFhLEVBQUMsS0FBSyxDQUFnQixDQUFDO1lBRS9DLElBQUksSUFBSSxFQUFFO2dCQUNSLElBQUksS0FBSyxDQUFDLE9BQU8sQ0FBQyxJQUFJLENBQUMsRUFBRTtvQkFDdkIsY0FBYyxDQUFDLE9BQU8sRUFBRSxJQUFJLENBQUMsQ0FBQztpQkFDL0I7cUJBQU07b0JBQ0wsT0FBTyxDQUFDLFdBQVcsQ0FDakIsQ0FBQyxLQUFJLGFBQUosSUFBSSx1QkFBSixJQUFJLENBQUUsUUFBUSxFQUFDLENBQUMsQ0FBQyxRQUFRLENBQUMsY0FBYyxDQUFDLEVBQUUsR0FBRyxJQUFJLENBQUMsQ0FBQyxDQUFDLENBQUMsSUFBSSxDQUM1RCxDQUFDO2lCQUNIO2FBQ0Y7U0FDRjtLQUNGO0FBQ0gsQ0FBQztBQTFCRCx3Q0EwQkM7Ozs7Ozs7Ozs7Ozs7O0FDNUJELHNFQUFrRDtBQUNsRCwrREFBMEM7QUFFMUMsTUFBYSxTQUFTO0lBTXBCLFlBQW1CLEtBQVE7UUFBUixVQUFLLEdBQUwsS0FBSyxDQUFHO1FBRm5CLGNBQVMsR0FBa0IsRUFBRSxDQUFDO1FBR3BDLElBQUksQ0FBQyxFQUFFLEdBQUcsSUFBSSxDQUFDLFFBQVEsRUFBRSxDQUFDO0lBQzVCLENBQUM7SUFFTSxNQUFNLENBQUMsT0FBYSxJQUFHLENBQUM7SUFDeEIsS0FBSyxLQUFJLENBQUM7SUFDVixXQUFXLEtBQUksQ0FBQztJQUNoQixPQUFPLEtBQUksQ0FBQztJQUNYLFFBQVEsS0FBUyxDQUFDO0lBRTFCLFFBQVEsQ0FBQyxLQUFRLEVBQUUsZUFBd0IsS0FBSztRQUM5QyxJQUFJLEtBQUssSUFBSSxPQUFPLEtBQUssS0FBSyxRQUFRLEVBQUU7WUFDdEMsSUFBSSxDQUFDLEtBQUssbUNBQVEsSUFBSSxDQUFDLEtBQUssR0FBSyxLQUFLLENBQUUsQ0FBQztTQUMxQzs7WUFBTSxJQUFJLENBQUMsS0FBSyxHQUFHLEtBQUssQ0FBQztRQUUxQixJQUFJLFlBQVk7WUFBRSxJQUFJLENBQUMsTUFBTSxFQUFFLENBQUM7SUFDbEMsQ0FBQztJQUVELElBQUksS0FBSztRQUNQLE9BQU8sU0FBTSxDQUFDLEdBQUcsQ0FBQyxJQUFJLENBQUMsRUFBRSxDQUFDLENBQUM7SUFDN0IsQ0FBQztJQUVELElBQUksS0FBSyxDQUFDLEtBQVE7UUFDaEIsU0FBTSxDQUFDLEdBQUcsQ0FBQyxJQUFJLENBQUMsRUFBRSxFQUFFLEtBQUssQ0FBQyxDQUFDO0lBQzdCLENBQUM7SUFFRCxJQUFJLFlBQVksQ0FBQyxLQUFRO1FBQ3ZCLElBQUksQ0FBQyxJQUFJLENBQUMsS0FBSztZQUFFLElBQUksQ0FBQyxLQUFLLEdBQUcsS0FBSyxDQUFDO0lBQ3RDLENBQUM7SUFFRCxJQUFXLFFBQVE7UUFDakIsT0FBTyxJQUFJLENBQUMsU0FBUyxDQUFDO0lBQ3hCLENBQUM7SUFFRCxJQUFXLFFBQVEsQ0FBQyxRQUF1QjtRQUN6QyxJQUFJLENBQUMsS0FBSyxDQUFDLE9BQU8sQ0FBQyxRQUFRLENBQUMsRUFBRTtZQUM1QixRQUFRLEdBQUcsQ0FBQyxRQUFRLENBQUMsQ0FBQztTQUN2QjtRQUVELEtBQUssTUFBTSxFQUFFLElBQUksUUFBUSxFQUFFO1lBQ3pCLElBQUksQ0FBQyxTQUFTLENBQUMsSUFBSSxDQUFDLEVBQUUsQ0FBQyxDQUFDO1NBQ3pCO0lBQ0gsQ0FBQztJQUVPLHFCQUFxQjtRQUMzQixJQUFJLGdCQUFnQixDQUFDLElBQUksQ0FBQyxJQUFJLENBQUMsT0FBTyxDQUFDLFFBQVEsRUFBRSxDQUFDO1lBQUUsT0FBTztRQUUzRCx3QkFBWSxFQUFDLElBQUksQ0FBQyxRQUFRLENBQUMsQ0FBQyxDQUFDLEVBQUUsR0FBRyxFQUFFO1lBQ2xDLElBQUksQ0FBQyxJQUFJLENBQUMsV0FBVyxFQUFFO2dCQUNyQixJQUFJLENBQUMsT0FBTyxFQUFFLENBQUM7YUFDaEI7UUFDSCxDQUFDLENBQUMsQ0FBQztJQUNMLENBQUM7SUFFRCxZQUFZO0lBQ0osTUFBTTtRQUNaLElBQUksQ0FBQyxxQkFBcUIsRUFBRSxDQUFDO1FBQzdCLElBQUksQ0FBQyxLQUFLLEVBQUUsQ0FBQztJQUNmLENBQUM7SUFFTyxRQUFRO1FBQ2QsSUFBSSxJQUFJLENBQUMsYUFBYTtZQUFFLE9BQU87UUFDL0IsSUFBSSxDQUFDLE9BQU8sRUFBRSxDQUFDO1FBQ2YsSUFBSSxDQUFDLGFBQWEsR0FBRyxJQUFJLENBQUM7SUFDNUIsQ0FBQztJQUVNLE1BQU0sQ0FBQyxNQUFZO1FBQ3hCLElBQUksQ0FBQyxXQUFXLEdBQUcsSUFBSSxDQUFDO1FBRXhCLE1BQU0sV0FBVyxHQUFHLENBQUMsR0FBRyxJQUFJLENBQUMsUUFBUSxDQUFDLENBQUM7UUFFdkMsSUFBSSxDQUFDLFNBQVMsR0FBRyxFQUFFLENBQUM7UUFFcEIsSUFBSSxFQUFFLEdBQUcsSUFBSSxDQUFDLE1BQU0sQ0FBQyxNQUFNLENBQUMsQ0FBQztRQUM3QixFQUFFLEdBQUcsb0JBQWEsRUFBQyxFQUFFLENBQUMsQ0FBQztRQUN2QixJQUFJLENBQUMsUUFBUSxHQUFHLEVBQThCLENBQUM7UUFFL0MsTUFBTSxNQUFNLEdBQUcsV0FBVyxDQUFDLENBQUMsQ0FBQyxDQUFDLGFBQTRCLENBQUM7UUFFM0QsSUFBSSxDQUFDLE1BQU07WUFDVCxPQUFPLENBQUMsSUFBSSxDQUFDLGtEQUFrRCxDQUFDLENBQUM7UUFFbkUsS0FBSyxNQUFNLEtBQUssSUFBSSxJQUFJLENBQUMsUUFBUSxFQUFFO1lBQ2pDLE1BQU0sQ0FBQyxZQUFZLENBQUMsS0FBSyxFQUFFLFdBQVcsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDO1NBQzVDO1FBRUQsS0FBSyxJQUFJLEtBQUssSUFBSSxXQUFXLEVBQUU7WUFDN0IsS0FBSyxDQUFDLE1BQU0sRUFBRSxDQUFDO1lBQ2YsWUFBWTtZQUNaLEtBQUssR0FBRyxJQUFJLENBQUM7U0FDZDtRQUVELElBQUksQ0FBQyxxQkFBcUIsRUFBRSxDQUFDO1FBRTdCLG9CQUFRLEVBQUMsR0FBRyxFQUFFO1lBQ1osSUFBSSxDQUFDLFdBQVcsR0FBRyxLQUFLLENBQUM7WUFDekIsSUFBSSxDQUFDLElBQUksQ0FBQyxRQUFRLENBQUMsQ0FBQyxDQUFDLENBQUMsV0FBVyxFQUFFO2dCQUNqQyxJQUFJLENBQUMsUUFBUSxFQUFFLENBQUM7YUFDakI7UUFDSCxDQUFDLENBQUMsQ0FBQztJQUNMLENBQUM7Q0FDRjtBQTNHRCw4QkEyR0M7Ozs7Ozs7Ozs7Ozs7O0FDOUdELFNBQWdCLGFBQWEsQ0FBQyxHQUFRO0lBQ3BDLElBQUksSUFBSSxHQUFHLEdBQUcsQ0FBQztJQUNmLE9BQU87UUFDTCxRQUFRLENBQUMsS0FBVTtZQUNqQixJQUFJLEtBQUssQ0FBQyxLQUFLLEVBQUU7Z0JBQ2YsSUFBSSxHQUFHLEtBQUssQ0FBQyxLQUFLLENBQUM7Z0JBQ25CLE9BQU8sS0FBSyxDQUFDLFFBQVEsQ0FBQzthQUN2QjtRQUNILENBQUM7UUFDRCxRQUFRLENBQUMsS0FBVTtZQUNqQixPQUFPO2dCQUNMLFNBQVMsRUFBRSxLQUFLLENBQUMsUUFBUSxDQUFDLENBQUMsQ0FBQyxDQUFDLElBQUksQ0FBQztnQkFDbEMsS0FBSyxrQ0FDQSxLQUFLLEtBQ1IsT0FBTyxFQUFFLElBQUksR0FDZDthQUNGLENBQUM7UUFDSixDQUFDO1FBQ0QsR0FBRztZQUNELE9BQU8sSUFBSSxDQUFDO1FBQ2QsQ0FBQztRQUNELEdBQUcsQ0FBQyxHQUFRO1lBQ1YsSUFBSSxHQUFHLEdBQUcsQ0FBQztRQUNiLENBQUM7S0FDRixDQUFDO0FBQ0osQ0FBQztBQXpCRCxzQ0F5QkM7Ozs7Ozs7Ozs7Ozs7O0FDekJNLE1BQU0sUUFBUSxHQUFHLENBQUMsS0FBVSxFQUFFLEVBQUU7SUFDckMsT0FBTyxLQUFLLENBQUMsUUFBUSxDQUFDO0FBQ3hCLENBQUMsQ0FBQztBQUZXLGdCQUFRLFlBRW5COzs7Ozs7Ozs7Ozs7OztBQ0ZGLHNFQUFtQztBQUNuQywrREFBd0M7QUFFeEMsU0FBZ0IsQ0FBQyxDQUFDLElBQVMsRUFBRSxLQUFVLEVBQUUsR0FBRyxRQUFlO0lBQ3pELElBQUksT0FBTyxJQUFJLEtBQUssUUFBUSxFQUFFO1FBQzVCLE9BQU8sRUFBRSxTQUFTLEVBQUUsSUFBSSxFQUFFLEtBQUssa0NBQU8sS0FBSyxLQUFFLFFBQVEsRUFBRSxRQUFRLEdBQUUsRUFBRSxDQUFDO0tBQ3JFO0lBRUQsSUFBSSxHQUFHLENBQUM7SUFFUixNQUFNLE9BQU8sR0FDWCxJQUFJLEtBQUssS0FBSztRQUNaLENBQUMsQ0FBRSxVQUFHLEVBQUMsS0FBSyxDQUFnQjtRQUM1QixDQUFDLENBQUUsUUFBUSxDQUFDLGFBQWEsQ0FBQyxJQUFJLENBQWlCLENBQUM7SUFFcEQsS0FBSyxNQUFNLENBQUMsSUFBSSxLQUFLLEVBQUU7UUFDckIsSUFBSSxDQUFDLEtBQUssT0FBTyxJQUFJLE9BQU8sS0FBSyxDQUFDLENBQUMsQ0FBQyxLQUFLLFFBQVEsRUFBRTtZQUNqRCxNQUFNLE1BQU0sR0FBRyxNQUFNLENBQUMsSUFBSSxDQUFDLEtBQUssQ0FBQyxDQUFDLENBQUMsQ0FBQztpQkFDakMsR0FBRyxDQUFDLENBQUMsQ0FBQyxFQUFFLEVBQUUsQ0FBQyxHQUFHLENBQUMsSUFBSSxLQUFLLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLEVBQUUsQ0FBQztpQkFDakMsSUFBSSxDQUFDLEdBQUcsQ0FBQztpQkFDVCxPQUFPLENBQUMsUUFBUSxFQUFFLENBQUMsS0FBSyxFQUFFLEVBQUUsQ0FBQyxJQUFJLEtBQUssQ0FBQyxXQUFXLEVBQUUsRUFBRSxDQUFDLENBQUM7WUFDM0QsS0FBSyxDQUFDLENBQUMsQ0FBQyxHQUFHLE1BQU0sR0FBRyxHQUFHLENBQUM7U0FDekI7UUFFRCxJQUFJLENBQUMsS0FBSyxLQUFLLEVBQUU7WUFDZixHQUFHLEdBQUcsS0FBSyxDQUFDLENBQUMsQ0FBQyxDQUFDO1NBQ2hCO1FBRUQsSUFBSSxtQkFBTyxFQUFDLE9BQU8sRUFBRSxDQUFDLENBQUMsV0FBVyxFQUFFLENBQUMsRUFBRTtZQUNyQyxPQUFPLENBQUMsZ0JBQWdCLENBQUMsQ0FBQyxDQUFDLFdBQVcsRUFBRSxDQUFDLFNBQVMsQ0FBQyxDQUFDLENBQUMsRUFBRSxDQUFDLENBQVEsRUFBRSxFQUFFLENBQ2xFLEtBQUssQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FDWixDQUFDO1NBQ0g7YUFBTTtZQUNMLE9BQU8sQ0FBQyxZQUFZLENBQUMsQ0FBQyxFQUFFLEtBQUssQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDO1NBQ25DO0tBQ0Y7SUFDRCxxQkFBYyxFQUFDLE9BQWMsRUFBRSxRQUFRLENBQUMsQ0FBQztJQUV6QyxJQUFJLEdBQUcsRUFBRTtRQUNQLEdBQUcsQ0FBQyxPQUFPLENBQUMsQ0FBQztLQUNkO0lBQ0QsYUFBYTtJQUNiLElBQUksT0FBTyxDQUFDLEdBQUc7UUFBRSxPQUFPLE9BQU8sQ0FBQyxHQUFHLENBQUM7SUFDcEMsT0FBTyxPQUFPLENBQUM7QUFDakIsQ0FBQztBQXpDRCxjQXlDQzs7Ozs7Ozs7Ozs7Ozs7QUM1Q0QsK0RBQTJCO0FBRTNCLFNBQWdCLE9BQU8sQ0FDckIsU0FBYyxFQUNkLFNBQTZCLElBQUksRUFDakMsZ0JBQWdCLEdBQUcsSUFBSTtJQUV2QixPQUFPLGFBQU0sRUFBQyxTQUFTLEVBQUUsTUFBTSxFQUFFLGdCQUFnQixDQUFDLENBQUM7QUFDckQsQ0FBQztBQU5ELDBCQU1DOzs7Ozs7Ozs7Ozs7OztBQ1JELG1HQUFrRDtBQUF6QywrSEFBYztBQUN2Qiw0REFBd0I7QUFBZix3RkFBQztBQUNWLDJFQUFrQztBQUF6Qix1R0FBTTtBQUNmLGdHQUFxRDtBQUE1Qyw0SEFBYTtBQUFFLHdHQUFHO0FBQzNCLDhFQUFvQztBQUEzQiwwR0FBTztBQUNoQixvRkFBd0M7QUFBL0IsZ0hBQVM7QUFDbEIsaUZBQXNDO0FBQTdCLDZHQUFRO0FBQ2pCLDhFQUEwQztBQUFqQyxzSEFBYTtBQUN0Qix3RUFBOEM7QUFBckMsc0dBQU07QUFBRSxnSEFBVztBQUM1QixnR0FBZ0Q7QUFBdkMsNEhBQWE7QUFDdEIsdUZBQTBDO0FBQWpDLG1IQUFVO0FBQ25CLHdFQUFnQztBQUF2QixvR0FBSzs7Ozs7Ozs7Ozs7Ozs7QUNYZCwyRkFBd0M7QUFDeEMsK0RBQStCO0FBRS9CLFNBQWdCLGFBQWEsQ0FDM0IsU0FBYyxFQUNkLE1BQVcsRUFDWCxnQkFBZ0IsR0FBRyxJQUFJO0lBRXZCLE1BQU0sR0FBRyxHQUFHLFFBQUMsRUFBQyxvQkFBTyxFQUFFLElBQUksRUFBRSxTQUFTLENBQUMsQ0FBQztJQUN4QyxPQUFPLGNBQU8sRUFBQyxHQUFHLEVBQUUsTUFBTSxFQUFFLGdCQUFnQixDQUFDLENBQUM7QUFDaEQsQ0FBQztBQVBELHNDQU9DOzs7Ozs7Ozs7Ozs7OztBQ1ZELCtEQUFrRDtBQUVsRCxTQUFnQixNQUFNLENBQ3BCLEdBQVEsRUFDUixTQUE0QixJQUFJLEVBQ2hDLGdCQUFnQixHQUFHLElBQUk7SUFFdkIsSUFBSSxFQUFFLEdBQUcsb0JBQWEsRUFBQyxHQUFHLENBQUMsQ0FBQztJQUU1QixJQUFJLEtBQUssQ0FBQyxPQUFPLENBQUMsRUFBRSxDQUFDLEVBQUU7UUFDckIsRUFBRSxHQUFHLEVBQUUsQ0FBQyxHQUFHLENBQUMsQ0FBQyxDQUFDLEVBQUUsRUFBRSxDQUFDLG9CQUFhLEVBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQztRQUNyQyxJQUFJLEVBQUUsQ0FBQyxNQUFNLEtBQUssQ0FBQyxFQUFFO1lBQ25CLEVBQUUsR0FBRyxFQUFFLENBQUMsQ0FBQyxDQUFDLENBQUM7U0FDWjtLQUNGO0lBRUQsSUFBSSxNQUFNLEVBQUU7UUFDVixJQUFJLGdCQUFnQixFQUFFO1lBQ3BCLG1CQUFtQixDQUFDLE1BQU0sQ0FBQyxDQUFDO1NBQzdCO1FBRUQsSUFBSSxFQUFFLElBQUksTUFBTSxDQUFDLEVBQUUsSUFBSSxNQUFNLENBQUMsRUFBRSxLQUFLLEVBQUUsQ0FBQyxFQUFFLElBQUksTUFBTSxDQUFDLGFBQWEsRUFBRTtZQUNsRSxNQUFNLENBQUMsYUFBYSxDQUFDLFlBQVksQ0FBQyxFQUFFLEVBQUUsTUFBTSxDQUFDLENBQUM7U0FDL0M7YUFBTTtZQUNMLElBQUksS0FBSyxDQUFDLE9BQU8sQ0FBQyxFQUFFLENBQUMsRUFBRTtnQkFDckIsRUFBRSxDQUFDLEdBQUcsQ0FBQyxDQUFDLENBQUMsRUFBRSxFQUFFLENBQUMscUJBQWMsRUFBQyxNQUFNLEVBQUUsb0JBQWEsRUFBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUM7YUFDekQ7aUJBQU07Z0JBQ0wscUJBQWMsRUFBQyxNQUFNLEVBQUUsb0JBQWEsRUFBQyxFQUFFLENBQUMsQ0FBQyxDQUFDO2FBQzNDO1NBQ0Y7UUFDRCxJQUFJLE1BQU0sQ0FBQyxHQUFHO1lBQUUsT0FBTyxNQUFNLENBQUMsR0FBRyxDQUFDO1FBQ2xDLE9BQU8sTUFBTSxDQUFDO0tBQ2Y7U0FBTTtRQUNMLElBQUksT0FBTyxLQUFLLEtBQUssU0FBUyxJQUFJLEtBQUssSUFBSSxDQUFDLEtBQUssQ0FBQyxPQUFPLENBQUMsRUFBRSxDQUFDO1lBQUUsT0FBTyxDQUFDLEVBQUUsQ0FBQyxDQUFDO1FBQzNFLE9BQU8sRUFBRSxDQUFDO0tBQ1g7QUFDSCxDQUFDO0FBbENELHdCQWtDQztBQUVELFNBQWdCLG1CQUFtQixDQUFDLEVBQWU7SUFDakQsT0FBTyxFQUFFLENBQUMsVUFBVSxFQUFFO1FBQ3BCLEVBQUUsQ0FBQyxXQUFXLENBQUMsRUFBRSxDQUFDLFVBQVUsQ0FBQyxDQUFDO0tBQy9CO0FBQ0gsQ0FBQztBQUpELGtEQUlDOzs7Ozs7Ozs7Ozs7OztBQzFDRCxzRUFBK0M7QUFFL0MsU0FBZ0IsYUFBYSxDQUFDLEdBQVE7O0lBQ3BDLElBQUksQ0FBQyxXQUFXLElBQUksQ0FBUSxDQUFDLENBQUMsUUFBUSxDQUFDLE9BQU8sR0FBRyxDQUFDLEVBQUU7UUFDbEQsT0FBTyxFQUFFLENBQUM7S0FDWDtJQUNELElBQUksR0FBRyxJQUFJLElBQUksRUFBRTtRQUNmLE9BQU8sRUFBRSxDQUFDO0tBQ1g7SUFFRCxJQUFJLE9BQU8sR0FBRyxLQUFLLFFBQVEsRUFBRTtRQUMzQixPQUFPLEdBQUcsQ0FBQztLQUNaO0lBRUQsSUFBSSxPQUFPLEdBQUcsS0FBSyxRQUFRLEVBQUU7UUFDM0IsT0FBTyxFQUFFLEdBQUcsR0FBRyxDQUFDO0tBQ2pCO0lBRUQsSUFBSSxJQUFHLGFBQUgsR0FBRyx1QkFBSCxHQUFHLENBQUUsT0FBTyxLQUFJLEdBQUcsQ0FBQyxPQUFPLENBQUMsV0FBVyxFQUFFLEtBQUssS0FBSyxFQUFFO1FBQ3ZELE9BQU8sR0FBRyxDQUFDLEVBQUUsUUFBUSxFQUFFLENBQUMsR0FBRyxDQUFDLEVBQUUsQ0FBQyxDQUFDO0tBQ2pDO0lBRUQsSUFBSSxHQUFHLGFBQUgsR0FBRyx1QkFBSCxHQUFHLENBQUUsT0FBTyxFQUFFO1FBQ2hCLE9BQU8sR0FBRyxDQUFDO0tBQ1o7SUFFRCxJQUNFLEdBQUc7UUFDSCxHQUFHLENBQUMsU0FBUztRQUNiLEdBQUcsQ0FBQyxTQUFTLENBQUMsU0FBUztRQUN2QixHQUFHLENBQUMsU0FBUyxDQUFDLFNBQVMsQ0FBQyxXQUFXO1FBQ25DLFVBQVUsQ0FBQyxJQUFJLENBQUMsUUFBUSxDQUFDLFNBQVMsQ0FBQyxRQUFRLENBQUMsSUFBSSxDQUFDLEdBQUcsQ0FBQyxTQUFTLENBQUMsQ0FBQyxFQUNoRTtRQUNBLE9BQU8sb0JBQW9CLENBQUMsR0FBRyxDQUFDLENBQUM7S0FDbEM7SUFFRCxJQUFJLEdBQUcsQ0FBQyxTQUFTLElBQUksT0FBTyxHQUFHLENBQUMsU0FBUyxLQUFLLFVBQVUsRUFBRTtRQUN4RCxPQUFPLHlCQUF5QixDQUFDLEdBQUcsQ0FBQyxDQUFDO0tBQ3ZDO0lBRUQsSUFBSSxLQUFLLENBQUMsT0FBTyxDQUFDLEdBQUcsQ0FBQyxFQUFFO1FBQ3RCLE9BQU8sR0FBRyxDQUFDLEdBQUcsQ0FBQyxDQUFDLENBQUMsRUFBRSxFQUFFLENBQUMsYUFBYSxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsSUFBSSxFQUFFLENBQUM7S0FDaEQ7SUFFRCxJQUFJLE9BQU8sR0FBRyxLQUFLLFVBQVU7UUFBRSxPQUFPLGFBQWEsQ0FBQyxHQUFHLEVBQUUsQ0FBQyxDQUFDO0lBRTNELElBQUksVUFBRyxhQUFILEdBQUcsdUJBQUgsR0FBRyxDQUFFLFNBQVMsMENBQUUsT0FBTyxLQUFJLE9BQU8sR0FBRyxDQUFDLFNBQVMsQ0FBQyxPQUFPLEtBQUssUUFBUTtRQUN0RSxPQUFPLGFBQWEsQ0FBQyxHQUFHLENBQUMsU0FBUyxDQUFDLENBQUM7SUFFdEMsSUFBSSxLQUFLLENBQUMsT0FBTyxDQUFDLEdBQUcsQ0FBQyxTQUFTLENBQUM7UUFBRSxPQUFPLGFBQWEsQ0FBQyxHQUFHLENBQUMsU0FBUyxDQUFDLENBQUM7SUFFdEUsSUFBSSxHQUFHLENBQUMsU0FBUztRQUFFLE9BQU8sYUFBYSxDQUFDLEdBQUcsQ0FBQyxTQUFTLENBQUMsQ0FBQztBQUN6RCxDQUFDO0FBbERELHNDQWtEQztBQUVELFNBQVMseUJBQXlCLENBQUMsR0FBUTtJQUN6QyxNQUFNLEVBQUUsU0FBUyxFQUFFLEtBQUssRUFBRSxHQUFHLEdBQUcsQ0FBQztJQUNqQyxNQUFNLEVBQUUsR0FBRyxTQUFTLENBQUMsS0FBSyxDQUFDLENBQUM7SUFDNUIsT0FBTyxhQUFhLENBQUMsRUFBRSxDQUFDLENBQUM7QUFDM0IsQ0FBQztBQUVELFNBQVMsb0JBQW9CLENBQUMsR0FBUTtJQUNwQyxNQUFNLEVBQUUsU0FBUyxFQUFFLEtBQUssRUFBRSxHQUFHLEdBQUcsQ0FBQztJQUVqQyxNQUFNLElBQUksR0FBRyxxQkFBUyxFQUFDLFNBQVMsQ0FBQyxRQUFRLEVBQUUsQ0FBQyxDQUFDO0lBRTdDLFNBQVMsQ0FBQyxTQUFTLENBQUMsUUFBUSxHQUFHLEdBQUcsRUFBRSxDQUFDLElBQUksQ0FBQztJQUUxQyxNQUFNLFNBQVMsR0FBRyxJQUFJLFNBQVMsQ0FBQyxLQUFLLENBQUMsQ0FBQztJQUV2QyxTQUFTLENBQUMsV0FBVyxFQUFFLENBQUM7SUFFeEIsSUFBSSxFQUFFLEdBQUcsU0FBUyxDQUFDLE1BQU0sRUFBRSxDQUFDO0lBQzVCLEVBQUUsR0FBRyxhQUFhLENBQUMsRUFBRSxDQUFDLENBQUM7SUFFdkIsU0FBUyxDQUFDLFFBQVEsR0FBRyxFQUFFLENBQUM7SUFFeEIsSUFBSSxLQUFLLGFBQUwsS0FBSyx1QkFBTCxLQUFLLENBQUUsR0FBRztRQUFFLEtBQUssQ0FBQyxHQUFHLENBQUMsU0FBUyxDQUFDLENBQUM7SUFDckMsSUFBSSxPQUFPLEtBQUssS0FBSyxXQUFXLEVBQUU7UUFDaEMsb0JBQVEsRUFBQyxHQUFHLEVBQUU7WUFDWixTQUFTLENBQUMsTUFBTSxFQUFFLENBQUM7UUFDckIsQ0FBQyxDQUFDLENBQUM7S0FDSjtJQUNELE9BQU8sRUFBRSxDQUFDO0FBQ1osQ0FBQztBQUVELFNBQWdCLEdBQUcsQ0FBQyxHQUFXO0lBQzdCLE9BQU8sUUFBUSxDQUFDLGVBQWUsQ0FDN0IsNEJBQTRCLEVBQzVCLEdBQUcsQ0FDVSxDQUFDO0FBQ2xCLENBQUM7QUFMRCxrQkFLQztBQUVELFNBQVMsR0FBRyxDQUFDLEtBQVU7SUFDckIsTUFBTSxLQUFLLEdBQUcsS0FBSyxDQUFDLFFBQVEsQ0FBQyxDQUFDLENBQWUsQ0FBQztJQUM5QyxNQUFNLEtBQUssR0FBRyxLQUFLLENBQUMsVUFBVSxDQUFDO0lBRS9CLE1BQU0sR0FBRyxHQUFHLEdBQUcsQ0FBQyxLQUFLLENBQWUsQ0FBQztJQUVyQyxLQUFLLE1BQU0sSUFBSSxJQUFJLEtBQUssRUFBRTtRQUN4QixHQUFHLENBQUMsWUFBWSxDQUFDLElBQUksQ0FBQyxJQUFJLEVBQUUsSUFBSSxDQUFDLEtBQUssQ0FBQyxDQUFDO0tBQ3pDO0lBRUQsR0FBRyxDQUFDLFNBQVMsR0FBRyxLQUFLLENBQUMsU0FBUyxDQUFDO0lBRWhDLE9BQU8sR0FBRyxDQUFDO0FBQ2IsQ0FBQzs7Ozs7Ozs7Ozs7Ozs7QUN6R1ksY0FBTSxHQUFHLElBQUksR0FBRyxFQUFFLENBQUM7QUFFaEMsU0FBZ0IsV0FBVztJQUN6QixjQUFNLENBQUMsS0FBSyxFQUFFLENBQUM7QUFDakIsQ0FBQztBQUZELGtDQUVDOzs7Ozs7Ozs7Ozs7OztBQ0pELE1BQWEsS0FBSztJQU9oQixZQUNFLFlBQWlCLEVBQ2pCLE9BQWUsRUFBRSxFQUNqQixVQUEwQyxRQUFRO1FBUDVDLGVBQVUsR0FBMEIsSUFBSSxHQUFHLEVBQUUsQ0FBQztRQVNwRCxJQUFJLEtBQUssRUFBRTtZQUNULE9BQU8sR0FBRyxRQUFRLENBQUM7U0FDcEI7UUFFRCxJQUFJLENBQUMsR0FBRyxHQUFHLElBQUksQ0FBQztRQUNoQixJQUFJLENBQUMsUUFBUSxHQUFHLE9BQU8sQ0FBQztRQUV4QixJQUFJLENBQUMsTUFBTSxHQUFHLElBQUksQ0FBQyxVQUFVLEdBQUcsWUFBWSxDQUFDO1FBRTdDLElBQUksQ0FBQyxJQUFJLENBQUMsUUFBUSxJQUFJLElBQUksQ0FBQyxRQUFRLEtBQUssUUFBUSxFQUFFO1lBQ2hELE9BQU87U0FDUjtRQUVELE1BQU0sT0FBTyxHQUFHLE9BQU8sS0FBSyxPQUFPLENBQUMsQ0FBQyxDQUFDLFlBQVksQ0FBQyxDQUFDLENBQUMsY0FBYyxDQUFDO1FBRXBFLE1BQU0sSUFBSSxHQUFHLE9BQU8sQ0FBQyxPQUFPLENBQUMsSUFBSSxDQUFDLEdBQUcsQ0FBQyxDQUFDO1FBQ3ZDLElBQUksSUFBSSxFQUFFO1lBQ1IsSUFBSSxDQUFDLE1BQU0sR0FBRyxJQUFJLENBQUMsVUFBVSxHQUFHLElBQUksQ0FBQyxLQUFLLENBQUMsSUFBSSxDQUFDLENBQUM7U0FDbEQ7YUFBTTtZQUNMLE9BQU8sQ0FBQyxPQUFPLENBQUMsSUFBSSxDQUFDLEdBQUcsRUFBRSxJQUFJLENBQUMsU0FBUyxDQUFDLFlBQVksQ0FBQyxDQUFDLENBQUM7U0FDekQ7SUFDSCxDQUFDO0lBRU8sT0FBTyxDQUFDLEtBQVU7UUFDeEIsSUFBSSxJQUFJLENBQUMsUUFBUSxLQUFLLFFBQVEsRUFBRTtZQUM5QixPQUFPO1NBQ1I7UUFDRCxNQUFNLE9BQU8sR0FBRyxJQUFJLENBQUMsUUFBUSxLQUFLLE9BQU8sQ0FBQyxDQUFDLENBQUMsWUFBWSxDQUFDLENBQUMsQ0FBQyxjQUFjLENBQUM7UUFDMUUsT0FBTyxDQUFDLE9BQU8sQ0FBQyxJQUFJLENBQUMsR0FBRyxFQUFFLElBQUksQ0FBQyxTQUFTLENBQUMsS0FBSyxDQUFDLENBQUMsQ0FBQztJQUNuRCxDQUFDO0lBRU0sS0FBSztRQUNWLElBQUksQ0FBQyxNQUFNLEdBQUcsSUFBSSxDQUFDLFVBQVUsR0FBRyxTQUFTLENBQUM7UUFDMUMsTUFBTSxPQUFPLEdBQUcsSUFBSSxDQUFDLFFBQVEsS0FBSyxPQUFPLENBQUMsQ0FBQyxDQUFDLFlBQVksQ0FBQyxDQUFDLENBQUMsY0FBYyxDQUFDO1FBQzFFLE9BQU8sQ0FBQyxVQUFVLENBQUMsSUFBSSxDQUFDLEdBQUcsQ0FBQyxDQUFDO0lBQy9CLENBQUM7SUFFRCxJQUFXLEtBQUssQ0FBQyxLQUFVO1FBQ3pCLElBQUksQ0FBQyxVQUFVLEdBQUcsSUFBSSxDQUFDLE1BQU0sQ0FBQztRQUM5QixJQUFJLENBQUMsTUFBTSxHQUFHLEtBQUssQ0FBQztRQUVwQixJQUFJLENBQUMsT0FBTyxDQUFDLEtBQUssQ0FBQyxDQUFDO1FBRXBCLElBQUksQ0FBQyxVQUFVLENBQUMsT0FBTyxDQUFDLENBQUMsSUFBSSxFQUFFLEVBQUU7WUFDL0IsSUFBSSxDQUFDLElBQUksQ0FBQyxNQUFNLEVBQUUsSUFBSSxDQUFDLFVBQVUsQ0FBQyxDQUFDO1FBQ3JDLENBQUMsQ0FBQyxDQUFDO0lBQ0wsQ0FBQztJQUVELElBQVcsS0FBSztRQUNkLE9BQU8sSUFBSSxDQUFDLE1BQU0sQ0FBQztJQUNyQixDQUFDO0lBRU0sUUFBUSxDQUFDLEtBQVU7UUFDeEIsSUFBSSxDQUFDLEtBQUssR0FBRyxLQUFLLENBQUM7SUFDckIsQ0FBQztJQUVNLEdBQUc7UUFDUixNQUFNLEVBQUUsR0FBRyxJQUFJLENBQUMsTUFBTSxFQUFFLENBQUMsUUFBUSxDQUFDLEVBQUUsQ0FBQyxDQUFDLE1BQU0sQ0FBQyxDQUFDLEVBQUUsQ0FBQyxDQUFDLENBQUM7UUFDbkQsTUFBTSxLQUFLLEdBQUcsSUFBSSxDQUFDO1FBQ25CLE9BQU87WUFDTCxJQUFJLEtBQUs7Z0JBQ1AsT0FBTyxLQUFLLENBQUMsS0FBSyxDQUFDO1lBQ3JCLENBQUM7WUFDRCxRQUFRLENBQUMsS0FBVTtnQkFDakIsS0FBSyxDQUFDLFFBQVEsQ0FBQyxLQUFLLENBQUMsQ0FBQztZQUN4QixDQUFDO1lBQ0QsU0FBUyxDQUFDLElBQTZDO2dCQUNyRCxLQUFLLENBQUMsVUFBVSxDQUFDLEdBQUcsQ0FBQyxFQUFFLEVBQUUsSUFBSSxDQUFDLENBQUM7WUFDakMsQ0FBQztZQUNELE1BQU07Z0JBQ0osS0FBSyxDQUFDLFVBQVUsQ0FBQyxNQUFNLENBQUMsRUFBRSxDQUFDLENBQUM7WUFDOUIsQ0FBQztTQUNGLENBQUM7SUFDSixDQUFDO0NBQ0Y7QUF0RkQsc0JBc0ZDOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FDdEZELDJGQUF1QztBQUN2QywrREFBMkM7QUFFM0MsU0FBZ0IsVUFBVSxDQUFDLE1BQVc7SUFDcEMsT0FBTyxVQUFVLGdCQUFxQjtRQUNwQyxPQUFPLEtBQU0sU0FBUSxZQUFTO1lBQzVCLE1BQU07Z0JBQ0osTUFBTSxLQUF3QixJQUFJLENBQUMsS0FBSyxFQUFsQyxFQUFFLFFBQVEsT0FBd0IsRUFBbkIsSUFBSSxjQUFuQixZQUFxQixDQUFhLENBQUM7Z0JBRXpDLE1BQU0sTUFBTSxHQUFHLFFBQUMsRUFBQyxtQkFBTSxFQUFFLElBQUksRUFBRSxRQUFDLEVBQUMsT0FBTyxFQUFFLElBQUksRUFBRSxNQUFNLENBQUMsUUFBUSxFQUFFLENBQUMsQ0FBQyxDQUFDO2dCQUVwRSxNQUFNLFNBQVMsR0FBRyxRQUFRLENBQUMsTUFBTTtvQkFDL0IsQ0FBQyxDQUFDLFFBQUMsRUFBQyxnQkFBZ0Isb0JBQU8sSUFBSSxHQUFJLFFBQVEsQ0FBQztvQkFDNUMsQ0FBQyxDQUFDLFFBQUMsRUFBQyxnQkFBZ0Isb0JBQU8sSUFBSSxDQUFDLEtBQUssRUFBRyxDQUFDO2dCQUUzQyxPQUFPLFFBQUMsRUFBQyxXQUFRLEVBQUUsSUFBSSxFQUFFLE1BQU0sRUFBRSxTQUFTLENBQUMsQ0FBQztZQUM5QyxDQUFDO1NBQ0YsQ0FBQztJQUNKLENBQUMsQ0FBQztBQUNKLENBQUM7QUFoQkQsZ0NBZ0JDOzs7Ozs7Ozs7Ozs7OztBQ25CRCxtRUFBbUM7QUFBMUIsMEdBQVE7QUFDakIsbUVBQXVDO0FBQTlCLG9IQUFjO0FBQ3ZCLHNFQVVnQjtBQVRkLDJGQUFDO0FBQ0QscUdBQU07QUFDTix1R0FBTztBQUNQLHlHQUFRO0FBQ1IsMkdBQVM7QUFDVCw2R0FBVTtBQUNWLG1IQUFhO0FBQ2IsbUhBQWE7QUFDYixtR0FBSztBQUVQLHdGQVNzQjtBQVJwQiwrR0FBUTtBQUNSLHVHQUFJO0FBQ0osMkdBQU07QUFDTix5R0FBSztBQUNMLCtHQUFRO0FBQ1IscUdBQUc7QUFDSCwyR0FBTTtBQUNOLDZHQUFPO0FBR1Qsd0VBQXFFO0FBQ3JFLHFFQUF1QztBQUN2QyxxQkFBZTtJQUNiLE1BQU0sRUFBTixhQUFNO0lBQ04sT0FBTyxFQUFQLGNBQU87SUFDUCxDQUFDLEVBQUQsUUFBQztJQUNELGFBQWEsRUFBYixvQkFBYTtJQUNiLGNBQWMsRUFBZCxvQkFBYztJQUNkLFFBQVEsRUFBUixlQUFRO0NBQ1QsQ0FBQzs7Ozs7Ozs7Ozs7Ozs7QUNqQ0YsOERBQW1DO0FBRW5DLE1BQWEsV0FBVztJQUl0QjtRQUNFLElBQUksQ0FBQyxJQUFJLEdBQUcsSUFBSSxDQUFDLGFBQWEsQ0FBQyxNQUFNLENBQUMsQ0FBQztRQUN2QyxJQUFJLENBQUMsSUFBSSxHQUFHLElBQUksQ0FBQyxhQUFhLENBQUMsTUFBTSxDQUFDLENBQUM7SUFDekMsQ0FBQztJQUVELGFBQWEsQ0FBQyxHQUFXO1FBQ3ZCLE9BQU8sSUFBSSxpQkFBYyxDQUFDLEdBQUcsQ0FBQyxDQUFDO0lBQ2pDLENBQUM7SUFFRCxlQUFlLENBQUMsSUFBWSxFQUFFLEdBQVc7UUFDdkMsT0FBTyxJQUFJLGlCQUFjLENBQUMsR0FBRyxDQUFDLENBQUM7SUFDakMsQ0FBQztJQUVELGNBQWMsQ0FBQyxJQUFZO1FBQ3pCLE9BQU8sSUFBSSxDQUFDO0lBQ2QsQ0FBQztJQUVELGFBQWEsQ0FBQyxNQUFXO1FBQ3ZCLE9BQU8sU0FBUyxDQUFDO0lBQ25CLENBQUM7Q0FDRjtBQXhCRCxrQ0F3QkM7Ozs7Ozs7Ozs7Ozs7O0FDMUJELE1BQWEsY0FBYztJQUt6QixZQUFZLEdBQVc7UUFDckIsSUFBSSxDQUFDLE9BQU8sR0FBRyxHQUFHLENBQUM7UUFDbkIsTUFBTSxXQUFXLEdBQUc7WUFDbEIsTUFBTTtZQUNOLE1BQU07WUFDTixJQUFJO1lBQ0osS0FBSztZQUNMLE9BQU87WUFDUCxJQUFJO1lBQ0osS0FBSztZQUNMLE9BQU87WUFDUCxNQUFNO1lBQ04sTUFBTTtZQUNOLE9BQU87WUFDUCxRQUFRO1lBQ1IsT0FBTztZQUNQLEtBQUs7U0FDTixDQUFDO1FBRUYsSUFBSSxXQUFXLENBQUMsT0FBTyxDQUFDLEdBQUcsQ0FBQyxJQUFJLENBQUMsRUFBRTtZQUNqQyxJQUFJLENBQUMsR0FBRyxHQUFHLElBQUksR0FBRyxLQUFLLENBQUM7WUFDeEIsSUFBSSxDQUFDLFdBQVcsR0FBRyxJQUFJLENBQUM7U0FDekI7YUFBTTtZQUNMLElBQUksQ0FBQyxHQUFHLEdBQUcsSUFBSSxHQUFHLE1BQU0sR0FBRyxHQUFHLENBQUM7U0FDaEM7SUFDSCxDQUFDO0lBRUQsSUFBSSxTQUFTO1FBQ1gsT0FBTyxJQUFJLENBQUMsU0FBUyxDQUFDO0lBQ3hCLENBQUM7SUFFRCxJQUFJLFNBQVM7O1FBQ1gsTUFBTSxHQUFHLEdBQUcscUNBQXFDLENBQUM7UUFDbEQsT0FBTyxlQUFHLENBQUMsSUFBSSxDQUFDLElBQUksQ0FBQyxHQUFHLENBQUMsMENBQUcsQ0FBQyxDQUFDLG1DQUFJLEVBQUUsQ0FBQztJQUN2QyxDQUFDO0lBRUQsSUFBSSxTQUFTOztRQUNYLE1BQU0sR0FBRyxHQUFHLHFDQUFxQyxDQUFDO1FBQ2xELE9BQU8sZUFBRyxDQUFDLElBQUksQ0FBQyxJQUFJLENBQUMsR0FBRyxDQUFDLDBDQUFHLENBQUMsQ0FBQyxtQ0FBSSxFQUFFLENBQUM7SUFDdkMsQ0FBQztJQUVELElBQUksU0FBUyxDQUFDLElBQUk7UUFDaEIsTUFBTSxHQUFHLEdBQUcscUNBQXFDLENBQUM7UUFDbEQsSUFBSSxDQUFDLEdBQUcsR0FBRyxJQUFJLENBQUMsR0FBRyxDQUFDLE9BQU8sQ0FBQyxHQUFHLEVBQUUsS0FBSyxJQUFJLElBQUksQ0FBQyxDQUFDO0lBQ2xELENBQUM7SUFFRCxJQUFJLFVBQVU7UUFDWixPQUFPLEVBQUUsTUFBTSxFQUFFLENBQUMsRUFBRSxDQUFDO0lBQ3ZCLENBQUM7SUFFRCxJQUFJLFFBQVE7UUFDVixNQUFNLEdBQUcsR0FBRyxpQ0FBaUMsQ0FBQztRQUU5QyxNQUFNLEtBQUssR0FBRyxFQUFFLENBQUM7UUFFakIsSUFBSSxLQUFLLENBQUM7UUFFVixPQUFPLENBQUMsS0FBSyxHQUFHLEdBQUcsQ0FBQyxJQUFJLENBQUMsSUFBSSxDQUFDLFNBQVMsQ0FBQyxDQUFDLEtBQUssSUFBSSxFQUFFO1lBQ2xELEtBQUssQ0FBQyxJQUFJLENBQUMsS0FBSyxDQUFDLENBQUMsQ0FBQyxDQUFDLE9BQU8sQ0FBQyxTQUFTLEVBQUUsR0FBRyxDQUFDLENBQUMsQ0FBQztTQUM5QztRQUVELE9BQU8sS0FBSyxDQUFDO0lBQ2YsQ0FBQztJQUNELGNBQWMsQ0FBQyxJQUFZLEVBQUUsS0FBVTtRQUNyQyxJQUFJLENBQUMsWUFBWSxDQUFDLElBQUksRUFBRSxLQUFLLENBQUMsQ0FBQztJQUNqQyxDQUFDO0lBRUQsWUFBWSxDQUFDLElBQVksRUFBRSxLQUFVO1FBQ25DLElBQUksSUFBSSxDQUFDLFdBQVc7WUFDbEIsSUFBSSxDQUFDLEdBQUcsR0FBRyxJQUFJLENBQUMsR0FBRyxDQUFDLE9BQU8sQ0FDekIsbUJBQW1CLEVBQ25CLEtBQUssSUFBSSxLQUFLLEtBQUssTUFBTSxDQUMxQixDQUFDOztZQUVGLElBQUksQ0FBQyxHQUFHLEdBQUcsSUFBSSxDQUFDLEdBQUcsQ0FBQyxPQUFPLENBQUMsaUJBQWlCLEVBQUUsTUFBTSxJQUFJLEtBQUssS0FBSyxLQUFLLENBQUMsQ0FBQztJQUM5RSxDQUFDO0lBRUQsV0FBVyxDQUFDLEtBQVU7UUFDcEIsTUFBTSxNQUFNLEdBQUcsS0FBSyxDQUFDLEdBQUcsQ0FBQyxDQUFDLENBQUMsS0FBSyxDQUFDLEdBQUcsQ0FBQyxDQUFDLENBQUMsS0FBSyxDQUFDO1FBRTdDLE1BQU0sS0FBSyxHQUFHLElBQUksQ0FBQyxHQUFHLENBQUMsV0FBVyxDQUFDLElBQUksQ0FBQyxDQUFDO1FBRXpDLElBQUksQ0FBQyxHQUFHO1lBQ04sSUFBSSxDQUFDLEdBQUcsQ0FBQyxTQUFTLENBQUMsQ0FBQyxFQUFFLEtBQUssQ0FBQyxHQUFHLE1BQU0sR0FBRyxJQUFJLENBQUMsR0FBRyxDQUFDLFNBQVMsQ0FBQyxLQUFLLENBQUMsQ0FBQztJQUN0RSxDQUFDO0lBRUQsWUFBWSxDQUFDLFFBQWEsRUFBRSxTQUFlO1FBQ3pDLElBQUksQ0FBQyxTQUFTLEdBQUcsUUFBUSxDQUFDLEdBQUcsQ0FBQztJQUNoQyxDQUFDO0lBRUQsZ0JBQWdCLENBQUMsS0FBVSxFQUFFLFNBQWMsRUFBRSxRQUFjLElBQUcsQ0FBQztDQUNoRTtBQWhHRCx3Q0FnR0M7Ozs7Ozs7Ozs7Ozs7O0FDaEdELGtHQUFrRDtBQUF6QywrSEFBYztBQUN2QixnRkFBeUM7QUFBaEMsbUhBQVc7QUFDcEIsZ0ZBQTRDO0FBQW5DLHlIQUFjOzs7Ozs7Ozs7Ozs7OztBQ0Z2Qiw4REFBZ0M7QUFDaEMseUVBQXlDO0FBQ3pDLHNFQUFxQztBQUVyQyxVQUFVLENBQUMsS0FBSyxHQUFHLHFCQUFTLEdBQUUsS0FBSyxJQUFJLENBQUMsQ0FBQyxDQUFDLElBQUksQ0FBQyxDQUFDLENBQUMsU0FBUyxDQUFDO0FBQzNELFVBQVUsQ0FBQyxLQUFLLEdBQUcsRUFBRSxLQUFLLEVBQUUsUUFBUSxFQUFFLEVBQUUsUUFBUSxFQUFFLEdBQUcsRUFBRSxFQUFFLENBQUM7QUFFMUQsU0FBZ0IsT0FBTyxDQUFDLFdBQW1CLEdBQUc7SUFDNUMsS0FBSyxDQUFDLFFBQVEsR0FBRyxFQUFFLFFBQVEsRUFBRSxDQUFDO0lBQzlCLGFBQWE7SUFDYixVQUFVLENBQUMsUUFBUSxHQUFHLEtBQUssQ0FBQyxDQUFDLENBQUMsSUFBSSxjQUFXLEVBQUUsQ0FBQyxDQUFDLENBQUMsTUFBTSxDQUFDLFFBQVEsQ0FBQztBQUNwRSxDQUFDO0FBSkQsMEJBSUM7QUFFRCxTQUFnQixjQUFjLENBQzVCLFNBQWMsRUFDZCxVQUF1RCxFQUFFO0lBRXpELE1BQU0sRUFBRSxRQUFRLEVBQUUsVUFBVSxHQUFHLElBQUksRUFBRSxHQUFHLE9BQU8sQ0FBQztJQUVoRCxPQUFPLENBQUMsUUFBUSxDQUFDLENBQUM7SUFDbEIsSUFBSSxVQUFVO1FBQUUsYUFBTSxDQUFDLEtBQUssRUFBRSxDQUFDO0lBRS9CLE9BQU8saUJBQU0sRUFBQyxTQUFTLEVBQUUsSUFBSSxFQUFFLElBQUksQ0FBQyxDQUFDLElBQUksQ0FBQyxFQUFFLENBQVcsQ0FBQztBQUMxRCxDQUFDO0FBVkQsd0NBVUM7Ozs7Ozs7Ozs7Ozs7O0FDdkJELDBEQUFzQjtBQUVULGdCQUFRLEdBQ25CLE9BQU8sT0FBTyxLQUFLLFVBQVU7SUFDM0IsQ0FBQyxDQUFDLE9BQU8sQ0FBQyxTQUFTLENBQUMsSUFBSSxDQUFDLElBQUksQ0FBQyxPQUFPLENBQUMsT0FBTyxFQUFFLENBQUM7SUFDaEQsQ0FBQyxDQUFDLFVBQVUsQ0FBQztBQUVqQixTQUFnQixPQUFPLENBQUMsRUFBTyxFQUFFLElBQVk7SUFDM0MsSUFBSSxJQUFJLENBQUMsT0FBTyxDQUFDLElBQUksQ0FBQyxLQUFLLENBQUMsRUFBRTtRQUM1QixPQUFPLEtBQUssQ0FBQztLQUNkO0lBQ0QsSUFBSSxFQUFFLENBQUMsR0FBRztRQUFFLE9BQU8sSUFBSSxDQUFDO0lBQ3hCLE9BQU8sQ0FBQyxVQUFVLEVBQUUsUUFBUSxDQUFDLENBQUMsUUFBUSxDQUFDLE9BQU8sRUFBRSxDQUFDLElBQUksQ0FBQyxDQUFDLENBQUM7QUFDMUQsQ0FBQztBQU5ELDBCQU1DO0FBRUQsU0FBZ0IsU0FBUztJQUN2QixPQUFPO0lBQ0wsWUFBWTtJQUNaLE9BQU8sSUFBSSxLQUFLLFdBQVcsSUFBSSxDQUFDLE9BQU8sTUFBTSxLQUFLLFdBQVcsSUFBSSxLQUFLLENBQUMsQ0FDeEUsQ0FBQztBQUNKLENBQUM7QUFMRCw4QkFLQztBQUVELFNBQWdCLFNBQVMsQ0FBQyxHQUFXO0lBQ25DLElBQUksSUFBSSxHQUFHLENBQUMsQ0FBQztJQUViLElBQUksQ0FBQyxHQUFHLENBQUMsTUFBTTtRQUFFLE9BQU8sSUFBSSxDQUFDO0lBQzdCLEtBQUssSUFBSSxDQUFDLEdBQUcsQ0FBQyxFQUFFLENBQUMsR0FBRyxHQUFHLENBQUMsTUFBTSxFQUFFLENBQUMsRUFBRSxFQUFFO1FBQ25DLE1BQU0sSUFBSSxHQUFHLEdBQUcsQ0FBQyxVQUFVLENBQUMsQ0FBQyxDQUFDLENBQUM7UUFDL0IsSUFBSSxHQUFHLENBQUMsSUFBSSxJQUFJLENBQUMsQ0FBQyxHQUFHLElBQUksR0FBRyxJQUFJLENBQUM7UUFDakMsSUFBSSxJQUFJLENBQUMsQ0FBQztLQUNYO0lBQ0QsT0FBTyxJQUFJLENBQUMsR0FBRyxDQUFDLElBQUksQ0FBQyxDQUFDLFFBQVEsQ0FBQyxFQUFFLENBQUMsQ0FBQztBQUNyQyxDQUFDO0FBVkQsOEJBVUM7QUFFRCxTQUFnQixZQUFZLENBQUMsVUFBZSxFQUFFLElBQVM7SUFDckQsT0FBTyxDQUNMLFVBQVU7UUFDVixDQUFDLFVBQVUsS0FBSyxJQUFJLElBQUksWUFBWSxDQUFDLFVBQVUsQ0FBQyxVQUFVLEVBQUUsSUFBSSxDQUFDLENBQUMsQ0FDbkUsQ0FBQztBQUNKLENBQUM7QUFMRCxvQ0FLQztBQUVELFNBQWdCLFlBQVksQ0FBQyxFQUFlLEVBQUUsUUFBbUI7SUFDL0QsSUFBSSxRQUFRLEdBQUcsSUFBSSxnQkFBZ0IsQ0FBQyxDQUFDLE9BQU8sRUFBRSxFQUFFO1FBQzlDLEtBQUssTUFBTSxHQUFHLElBQUksT0FBTyxFQUFFO1lBQ3pCLEdBQUcsQ0FBQyxZQUFZLENBQUMsT0FBTyxDQUFDLENBQUMsV0FBVyxFQUFFLEVBQUU7Z0JBQ3ZDLElBQUksWUFBWSxDQUFDLEVBQUUsRUFBRSxXQUFXLENBQUMsRUFBRTtvQkFDakMsUUFBUSxFQUFFLENBQUM7b0JBQ1gsSUFBSSxRQUFRLEVBQUU7d0JBQ1osUUFBUSxDQUFDLFVBQVUsRUFBRSxDQUFDO3dCQUN0QixhQUFhO3dCQUNiLFFBQVEsR0FBRyxTQUFTLENBQUM7cUJBQ3RCO2lCQUNGO1lBQ0gsQ0FBQyxDQUFDLENBQUM7U0FDSjtJQUNILENBQUMsQ0FBQyxDQUFDO0lBQ0gsUUFBUSxDQUFDLE9BQU8sQ0FBQyxRQUFRLEVBQUU7UUFDekIsU0FBUyxFQUFFLElBQUk7UUFDZixPQUFPLEVBQUUsSUFBSTtLQUNkLENBQUMsQ0FBQztJQUNILE9BQU8sUUFBUSxDQUFDO0FBQ2xCLENBQUM7QUFwQkQsb0NBb0JDO0FBRUQsU0FBZ0IsSUFBSSxDQUFDLElBQWdCO0lBQ25DLE9BQU8sVUFBVSxDQUFDLElBQUksRUFBRSxDQUFDLENBQUMsQ0FBQztBQUM3QixDQUFDO0FBRkQsb0JBRUM7QUFFRCxTQUFnQixZQUFZLENBQUMsSUFBUztJQUNwQyxNQUFNLElBQUksR0FBRyxRQUFRLENBQUMsc0JBQXNCLEVBQUUsQ0FBQztJQUMvQyxJQUFJLENBQUMsV0FBVyxDQUFDLElBQUksQ0FBQyxTQUFTLENBQUMsSUFBSSxDQUFDLENBQUMsQ0FBQztJQUN2QyxPQUFPLElBQUksQ0FBQyxRQUFRLEVBQUUsQ0FBQztBQUN6QixDQUFDO0FBSkQsb0NBSUM7QUFFTSxNQUFNLGVBQWUsR0FBRyxDQUFDLE1BQWMsRUFBRSxJQUFZLEVBQUUsRUFBRTtJQUM5RCxNQUFNLEVBQUUsR0FBRyxRQUFRLENBQUMsYUFBYSxDQUFDLG9CQUFvQixJQUFJLElBQUksQ0FBQyxDQUFDO0lBQ2hFLElBQUksQ0FBQyxFQUFFLEVBQUU7UUFDUCxNQUFNLFlBQVksR0FBRyxRQUFDLEVBQUMsT0FBTyxFQUFFLEVBQUUsZUFBZSxFQUFFLElBQUksRUFBRSxFQUFFLE1BQU0sQ0FBQyxDQUFDO1FBQ25FLFFBQVEsQ0FBQyxJQUFJLENBQUMsV0FBVyxDQUFDLFlBQVksQ0FBQyxDQUFDO0tBQ3pDO0FBQ0gsQ0FBQyxDQUFDO0FBTlcsdUJBQWUsbUJBTTFCOzs7Ozs7O1VDL0VGO1VBQ0E7O1VBRUE7VUFDQTtVQUNBO1VBQ0E7VUFDQTtVQUNBO1VBQ0E7VUFDQTtVQUNBO1VBQ0E7VUFDQTtVQUNBO1VBQ0E7O1VBRUE7VUFDQTs7VUFFQTtVQUNBO1VBQ0E7Ozs7Ozs7Ozs7OztBQ3RCQSw0REFvQlk7QUFFWixxQkFBZTtJQUNiLFFBQVEsRUFBUixZQUFRO0lBQ1IsSUFBSSxFQUFKLFFBQUk7SUFDSixNQUFNLEVBQU4sVUFBTTtJQUNOLEtBQUssRUFBTCxTQUFLO0lBQ0wsUUFBUSxFQUFSLFlBQVE7SUFDUixHQUFHLEVBQUgsT0FBRztJQUNILE1BQU0sRUFBTixVQUFNO0lBQ04sT0FBTyxFQUFQLFdBQU87SUFDUCxDQUFDLEVBQUQsS0FBQztJQUNELFFBQVEsRUFBUixZQUFRO0lBQ1IsTUFBTSxFQUFOLFVBQU07SUFDTixPQUFPLEVBQVAsV0FBTztJQUNQLGNBQWMsRUFBZCxrQkFBYztJQUNkLFFBQVEsRUFBUixZQUFRO0lBQ1IsU0FBUyxFQUFULGFBQVM7SUFDVCxVQUFVLEVBQVYsY0FBVTtJQUNWLGFBQWEsRUFBYixpQkFBYTtJQUNiLGFBQWEsRUFBYixpQkFBYTtJQUNiLEtBQUssRUFBTCxTQUFLO0NBQ04sQ0FBQyIsInNvdXJjZXMiOlsid2VicGFjazovL3ZpcmEvLi9zcmMvY29tcG9uZW50cy9oZWxtZXQudHMiLCJ3ZWJwYWNrOi8vdmlyYS8uL3NyYy9jb21wb25lbnRzL2ltZy50cyIsIndlYnBhY2s6Ly92aXJhLy4vc3JjL2NvbXBvbmVudHMvaW5kZXgudHMiLCJ3ZWJwYWNrOi8vdmlyYS8uL3NyYy9jb21wb25lbnRzL2xpbmsudHMiLCJ3ZWJwYWNrOi8vdmlyYS8uL3NyYy9jb21wb25lbnRzL3JvdXRlci50cyIsIndlYnBhY2s6Ly92aXJhLy4vc3JjL2NvbXBvbmVudHMvc3VzcGVuc2UudHMiLCJ3ZWJwYWNrOi8vdmlyYS8uL3NyYy9jb21wb25lbnRzL3Zpc2libGUudHMiLCJ3ZWJwYWNrOi8vdmlyYS8uL3NyYy9jb3JlL2FwcGVuZENoaWxkcmVuLnRzIiwid2VicGFjazovL3ZpcmEvLi9zcmMvY29yZS9jb21wb25lbnQudHMiLCJ3ZWJwYWNrOi8vdmlyYS8uL3NyYy9jb3JlL2NvbnRleHQudHMiLCJ3ZWJwYWNrOi8vdmlyYS8uL3NyYy9jb3JlL2ZyYWdtZW50LnRzIiwid2VicGFjazovL3ZpcmEvLi9zcmMvY29yZS9oLnRzIiwid2VicGFjazovL3ZpcmEvLi9zcmMvY29yZS9oeWRyYXRlLnRzIiwid2VicGFjazovL3ZpcmEvLi9zcmMvY29yZS9pbmRleC50cyIsIndlYnBhY2s6Ly92aXJhLy4vc3JjL2NvcmUvbGF6eUh5ZHJhdGlvbi50cyIsIndlYnBhY2s6Ly92aXJhLy4vc3JjL2NvcmUvcmVuZGVyLnRzIiwid2VicGFjazovL3ZpcmEvLi9zcmMvY29yZS9yZW5kZXJFbGVtZW50LnRzIiwid2VicGFjazovL3ZpcmEvLi9zcmMvY29yZS9zdGF0ZS50cyIsIndlYnBhY2s6Ly92aXJhLy4vc3JjL2NvcmUvc3RvcmUudHMiLCJ3ZWJwYWNrOi8vdmlyYS8uL3NyYy9jb3JlL3dpdGhTdHlsZXMudHMiLCJ3ZWJwYWNrOi8vdmlyYS8uL3NyYy9pbmRleC50cyIsIndlYnBhY2s6Ly92aXJhLy4vc3JjL3Nzci9kb2N1bWVudC50cyIsIndlYnBhY2s6Ly92aXJhLy4vc3JjL3Nzci9lbGVtZW50cy50cyIsIndlYnBhY2s6Ly92aXJhLy4vc3JjL3Nzci9pbmRleC50cyIsIndlYnBhY2s6Ly92aXJhLy4vc3JjL3Nzci9yZW5kZXJUb1N0cmluZy50cyIsIndlYnBhY2s6Ly92aXJhLy4vc3JjL3V0aWxzLnRzIiwid2VicGFjazovL3ZpcmEvd2VicGFjay9ib290c3RyYXAiLCJ3ZWJwYWNrOi8vdmlyYS8uL3NyYy9idW5kbGVzL2Z1bGwudHMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgYXBwZW5kQ2hpbGRyZW4sIENvbXBvbmVudCwgaCB9IGZyb20gXCIuLi9jb3JlXCI7XG5cbmV4cG9ydCBjbGFzcyBIZWxtZXQgZXh0ZW5kcyBDb21wb25lbnQge1xuICBzdGF0aWMgU1NSKGJvZHk6IHN0cmluZykge1xuICAgIGNvbnN0IHJlZyA9IC8oPGhlbG1ldFxcYltePl0qPikoKC58XFxuKSo/KSg8XFwvaGVsbWV0PikvZ207XG5cbiAgICBjb25zdCBoZWFkOiBzdHJpbmdbXSA9IFtdO1xuICAgIGNvbnN0IGZvb3Rlcjogc3RyaW5nW10gPSBbXTtcblxuICAgIGlmIChkb2N1bWVudD8uaGVhZCkge1xuICAgICAgbGV0IGNoaWxkcmVuID0gZG9jdW1lbnQuaGVhZC5jaGlsZHJlbiBhcyB1bmtub3duIGFzIHN0cmluZ1tdO1xuXG4gICAgICBmb3IgKGxldCBpID0gMDsgaSA8IGNoaWxkcmVuLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgIGlmIChoZWFkLmluZGV4T2YoY2hpbGRyZW5baV0pID09PSAtMSkge1xuICAgICAgICAgIGhlYWQucHVzaChjaGlsZHJlbltpXSk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG5cbiAgICBsZXQgcmVzdWx0O1xuXG4gICAgd2hpbGUgKChyZXN1bHQgPSByZWcuZXhlYyhib2R5KSkgIT0gbnVsbCkge1xuICAgICAgY29uc3QgZmlyc3QgPSByZXN1bHRbMV07XG4gICAgICBjb25zdCBzZWNvbmQgPSByZXN1bHRbMl07XG5cbiAgICAgIGNvbnN0IHRvSGVhZCA9IGZpcnN0LmluY2x1ZGVzKCdkYXRhLXBsYWNlbWVudD1cImhlYWRcIicpO1xuXG4gICAgICBpZiAodG9IZWFkICYmICFoZWFkLmluY2x1ZGVzKHNlY29uZCkpIGhlYWQucHVzaChzZWNvbmQpO1xuICAgICAgZWxzZSBpZiAoIWZvb3Rlci5pbmNsdWRlcyhzZWNvbmQpKSBmb290ZXIucHVzaChzZWNvbmQpO1xuICAgIH1cblxuICAgIGNvbnN0IGNsZWFuQm9keSA9IGJvZHkucmVwbGFjZShyZWcsIFwiXCIpO1xuICAgIHJldHVybiB7XG4gICAgICBib2R5OiBjbGVhbkJvZHksXG4gICAgICBoZWFkLFxuICAgICAgZm9vdGVyLFxuICAgIH07XG4gIH1cblxuICBtb3VudCgpIHtcbiAgICBmb3IgKGNvbnN0IGVsZW1lbnQgb2YgdGhpcy5wcm9wcy5jaGlsZHJlbikge1xuICAgICAgY29uc3QgcGFyZW50ID0gdGhpcy5wcm9wcy5mb290ZXIgPyBkb2N1bWVudC5ib2R5IDogZG9jdW1lbnQuaGVhZDtcbiAgICAgIGNvbnN0IHRhZyA9IChlbGVtZW50IGFzIEhUTUxFbGVtZW50KS50YWdOYW1lO1xuICAgICAgbGV0IGF0dHJzOiBzdHJpbmdbXSA9IFtdO1xuXG4gICAgICBhdHRycy5wdXNoKGVsZW1lbnQuaW5uZXJUZXh0KTtcblxuICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBlbGVtZW50LmF0dHJpYnV0ZXMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgYXR0cnMucHVzaChlbGVtZW50LmF0dHJpYnV0ZXMuaXRlbShpKT8ubmFtZS50b0xvd2VyQ2FzZSgpKTtcbiAgICAgICAgYXR0cnMucHVzaChlbGVtZW50LmF0dHJpYnV0ZXMuaXRlbShpKT8udmFsdWUudG9Mb3dlckNhc2UoKSk7XG4gICAgICB9XG5cbiAgICAgIGlmICh0YWcgPT09IFwiSFRNTFwiIHx8IHRhZyA9PT0gXCJCT0RZXCIpIHtcbiAgICAgICAgY29uc3QgaHRtbFRhZyA9IGRvY3VtZW50LmdldEVsZW1lbnRzQnlUYWdOYW1lKHRhZylbMF07XG4gICAgICAgIGZvciAobGV0IGkgPSAxOyBpIDwgZWxlbWVudC5hdHRyaWJ1dGVzLmxlbmd0aDsgaSArPSAyKSB7XG4gICAgICAgICAgaHRtbFRhZy5zZXRBdHRyaWJ1dGUoYXR0cnNbaV0sIGF0dHJzW2kgKyAxXSk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuO1xuICAgICAgfSBlbHNlIGlmICh0YWcgPT09IFwiVElUTEVcIikge1xuICAgICAgICBjb25zdCB0aXRsZVRhZyA9IGRvY3VtZW50LmdldEVsZW1lbnRzQnlUYWdOYW1lKFxuICAgICAgICAgIHRhZyxcbiAgICAgICAgKSBhcyBIVE1MQ29sbGVjdGlvbk9mPEhUTUxUaXRsZUVsZW1lbnQ+O1xuXG4gICAgICAgIGlmICh0aXRsZVRhZy5sZW5ndGgpIHtcbiAgICAgICAgICB0aXRsZVRhZ1swXS50ZXh0ID0gZWxlbWVudC50ZXh0O1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIGNvbnN0IHRpdGxlVGFnID0gaChcbiAgICAgICAgICAgIFwidGl0bGVcIixcbiAgICAgICAgICAgIG51bGwsXG4gICAgICAgICAgICBlbGVtZW50LmlubmVySFRNTCxcbiAgICAgICAgICApIGFzIEhUTUxUaXRsZUVsZW1lbnQ7XG4gICAgICAgICAgcGFyZW50LmFwcGVuZENoaWxkKHRpdGxlVGFnKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm47XG4gICAgICB9XG5cbiAgICAgIGxldCBleGlzdHMgPSBmYWxzZTtcbiAgICAgIGF0dHJzID0gYXR0cnMuc29ydCgpO1xuXG4gICAgICBjb25zdCBlbCA9IGRvY3VtZW50LmdldEVsZW1lbnRzQnlUYWdOYW1lKFxuICAgICAgICB0YWcsXG4gICAgICApIGFzIEhUTUxDb2xsZWN0aW9uT2Y8SFRNTEVsZW1lbnQ+O1xuXG4gICAgICBmb3IgKGxldCBpID0gMDsgaSA8IGVsLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgIGxldCBhdHRyczI6IHN0cmluZ1tdID0gW107XG5cbiAgICAgICAgYXR0cnMyLnB1c2goZWxbaV0uaW5uZXJUZXh0KTtcblxuICAgICAgICBmb3IgKGxldCBqID0gMDsgaiA8IGVsW2ldLmF0dHJpYnV0ZXMubGVuZ3RoOyBqKyspIHtcbiAgICAgICAgICBhdHRyczIucHVzaChlbFtpXS5hdHRyaWJ1dGVzLml0ZW0oaik/Lm5hbWUudG9Mb3dlckNhc2UoKSBhcyBzdHJpbmcpO1xuICAgICAgICAgIGF0dHJzMi5wdXNoKGVsW2ldLmF0dHJpYnV0ZXMuaXRlbShqKT8udmFsdWUudG9Mb3dlckNhc2UoKSBhcyBzdHJpbmcpO1xuICAgICAgICB9XG4gICAgICAgIGF0dHJzMiA9IGF0dHJzMi5zb3J0KCk7XG5cbiAgICAgICAgaWYgKFxuICAgICAgICAgIGF0dHJzLmxlbmd0aCA+IDAgJiZcbiAgICAgICAgICBhdHRyczIubGVuZ3RoID4gMCAmJlxuICAgICAgICAgIEpTT04uc3RyaW5naWZ5KGF0dHJzKSA9PT0gSlNPTi5zdHJpbmdpZnkoYXR0cnMyKVxuICAgICAgICApXG4gICAgICAgICAgZXhpc3RzID0gdHJ1ZTtcbiAgICAgIH1cblxuICAgICAgaWYgKCFleGlzdHMpIHtcbiAgICAgICAgYXBwZW5kQ2hpbGRyZW4ocGFyZW50LCBlbGVtZW50KTtcbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICByZW5kZXIoKSB7XG4gICAgaWYgKGlzU1NSKSB7XG4gICAgICByZXR1cm4gaChcbiAgICAgICAgXCJoZWxtZXRcIixcbiAgICAgICAge1xuICAgICAgICAgIFwiZGF0YS1zc3JcIjogdHJ1ZSxcbiAgICAgICAgICBcImRhdGEtcGxhY2VtZW50XCI6IHRoaXMucHJvcHMuZm9vdGVyID8gXCJmb290ZXJcIiA6IFwiaGVhZFwiLFxuICAgICAgICB9LFxuICAgICAgICB0aGlzLnByb3BzLmNoaWxkcmVuLFxuICAgICAgKTtcbiAgICB9IGVsc2Uge1xuICAgICAgcmV0dXJuIFtdO1xuICAgIH1cbiAgfVxufVxuIiwiaW1wb3J0IHsgQ29tcG9uZW50LCBoIH0gZnJvbSBcIi4uL2NvcmVcIjtcbmltcG9ydCB7IHN0clRvSGFzaCB9IGZyb20gXCIuLi91dGlsc1wiO1xuXG5leHBvcnQgY2xhc3MgSW1nIGV4dGVuZHMgQ29tcG9uZW50IHtcbiAgY29uc3RydWN0b3IocHJvcHM6IGFueSkge1xuICAgIHN1cGVyKHByb3BzKTtcblxuICAgIGNvbnN0IHsga2V5LCBzcmMgfSA9IHRoaXMucHJvcHM7XG4gICAgdGhpcy5pZCA9IHN0clRvSGFzaChzcmMpICsgXCItXCIgKyBzdHJUb0hhc2goSlNPTi5zdHJpbmdpZnkodGhpcy5wcm9wcykpO1xuICAgIGlmIChrZXkpIHtcbiAgICAgIHRoaXMuaWQgKz0gYCRrZXktJHtrZXl9YDtcbiAgICB9XG5cbiAgICBpZiAoIXRoaXMuc3RhdGUpIHtcbiAgICAgIHRoaXMuc2V0U3RhdGUoeyBpbWFnZTogXCJcIiwgaXNMb2FkZWQ6IGZhbHNlIH0pO1xuICAgIH1cbiAgfVxuXG4gIG1vdW50KCkge1xuICAgIGNvbnN0IHtcbiAgICAgIGxhenkgPSB0cnVlLFxuICAgICAgcGxhY2Vob2xkZXIsXG4gICAgICBrZXksXG4gICAgICByZWYsXG4gICAgICBjaGlsZHJlbixcbiAgICAgIC4uLnJlc3RcbiAgICB9ID0gdGhpcy5wcm9wcztcblxuICAgIGlmICghbGF6eSkgcmV0dXJuO1xuXG4gICAgY29uc3Qgb2JzZXJ2ZXIgPSBuZXcgSW50ZXJzZWN0aW9uT2JzZXJ2ZXIoXG4gICAgICAoZW50cmllcywgb2JzZXJ2ZXIpID0+IHtcbiAgICAgICAgZm9yIChjb25zdCBlbnRyeSBvZiBlbnRyaWVzKSB7XG4gICAgICAgICAgaWYgKGVudHJ5LmlzSW50ZXJzZWN0aW5nKSB7XG4gICAgICAgICAgICBvYnNlcnZlci5kaXNjb25uZWN0KCk7XG4gICAgICAgICAgICB0aGlzLnN0YXRlLmltYWdlID0gaChcImltZ1wiLCB7IC4uLnJlc3QgfSk7XG4gICAgICAgICAgICBpZiAodGhpcy5zdGF0ZS5pbWFnZS5jb21wbGV0ZSkge1xuICAgICAgICAgICAgICB0aGlzLnN0YXRlLmlzTG9hZGVkID0gdHJ1ZTtcbiAgICAgICAgICAgICAgdGhpcy51cGRhdGUoKTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgIHRoaXMuc3RhdGUuaW1hZ2Uub25sb2FkID0gKCkgPT4ge1xuICAgICAgICAgICAgICAgIHRoaXMuc3RhdGUuaXNMb2FkZWQgPSB0cnVlO1xuICAgICAgICAgICAgICAgIHRoaXMudXBkYXRlKCk7XG4gICAgICAgICAgICAgIH07XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9LFxuICAgICAgeyB0aHJlc2hvbGQ6IFswLCAxXSB9LFxuICAgICk7XG5cbiAgICBvYnNlcnZlci5vYnNlcnZlKHRoaXMuZWxlbWVudHNbMF0pO1xuICB9XG5cbiAgcmVuZGVyKCkge1xuICAgIGNvbnN0IHtcbiAgICAgIGxhenkgPSB0cnVlLFxuICAgICAgc3JjLFxuICAgICAgcGxhY2Vob2xkZXIsXG4gICAgICBrZXksXG4gICAgICByZWYsXG4gICAgICBjaGlsZHJlbixcbiAgICAgIC4uLnJlc3RcbiAgICB9ID0gdGhpcy5wcm9wcztcblxuICAgIGlmICghbGF6eSkge1xuICAgICAgdGhpcy5zdGF0ZS5pbWFnZSA9IGgoXCJpbWdcIiwgeyBzcmMsIC4uLnJlc3QgfSk7XG4gICAgICByZXR1cm4gdGhpcy5zdGF0ZS5pbWFnZTtcbiAgICB9XG5cbiAgICBpZiAodGhpcy5zdGF0ZS5pc0xvYWRlZCkge1xuICAgICAgcmV0dXJuIHRoaXMuc3RhdGUuaW1hZ2U7XG4gICAgfSBlbHNlIGlmICh0eXBlb2YgcGxhY2Vob2xkZXIgPT09IFwic3RyaW5nXCIpIHtcbiAgICAgIHJldHVybiBoKFwiaW1nXCIsIHsgc3JjOiBwbGFjZWhvbGRlciwgLi4ucmVzdCB9KTtcbiAgICB9IGVsc2UgaWYgKHR5cGVvZiBwbGFjZWhvbGRlciA9PT0gXCJmdW5jdGlvblwiKSB7XG4gICAgICByZXR1cm4gcGxhY2Vob2xkZXIoKTtcbiAgICB9IGVsc2Uge1xuICAgICAgY29uc3Qgc3R5bGUgPSB7XG4gICAgICAgIGJhY2tncm91bmRDb2xvcjogXCJsaWdodGdyYXlcIixcbiAgICAgICAgd2lkdGg6IFwiMTAwcHhcIixcbiAgICAgICAgaGVpZ2h0OiBcIjEwMHB4XCIsXG4gICAgICB9O1xuXG4gICAgICBjb25zdCB7IHdpZHRoLCBoZWlnaHQsIC4uLm90aGVycyB9ID0gcmVzdDtcbiAgICAgIGlmICh3aWR0aCkge1xuICAgICAgICBzdHlsZS53aWR0aCA9IHdpZHRoO1xuICAgICAgfVxuICAgICAgaWYgKGhlaWdodCkge1xuICAgICAgICBzdHlsZS5oZWlnaHQgPSBoZWlnaHQ7XG4gICAgICB9XG4gICAgICByZXR1cm4gaChcImRpdlwiLCB7IHN0eWxlLCAuLi5vdGhlcnMgfSk7XG4gICAgfVxuICB9XG59XG4iLCJleHBvcnQgeyBIZWxtZXQgfSBmcm9tIFwiLi9oZWxtZXRcIjtcbmV4cG9ydCB7IEltZyB9IGZyb20gXCIuL2ltZ1wiO1xuZXhwb3J0IHsgTGluayB9IGZyb20gXCIuL2xpbmtcIjtcbmV4cG9ydCB7IFN1c3BlbnNlIH0gZnJvbSBcIi4vc3VzcGVuc2VcIjtcbmV4cG9ydCB7IFZpc2libGUgfSBmcm9tIFwiLi92aXNpYmxlXCI7XG5leHBvcnQgeyBSb3V0ZSwgU3dpdGNoLCBMaW5rIGFzIFZpcmFMaW5rIH0gZnJvbSBcIi4vcm91dGVyXCI7XG4iLCJpbXBvcnQgeyBDb21wb25lbnQsIEZyYWdtZW50LCBoIH0gZnJvbSBcIi4uL2NvcmVcIjtcbmltcG9ydCB7IEhlbG1ldCB9IGZyb20gXCIuL2hlbG1ldFwiO1xuXG5leHBvcnQgY2xhc3MgTGluayBleHRlbmRzIENvbXBvbmVudCB7XG4gIG1vdW50KCkge1xuICAgIGNvbnN0IHsgcHJlZmV0Y2gsIGhyZWYsIGRlbGF5LCBiYWNrID0gZmFsc2UgfSA9IHRoaXMucHJvcHM7XG5cbiAgICBpZiAoYmFjaykge1xuICAgICAgdGhpcy5lbGVtZW50c1swXS5hZGRFdmVudExpc3RlbmVyKFxuICAgICAgICBcImNsaWNrXCIsXG4gICAgICAgIGZ1bmN0aW9uIG9uQ2xpY2sodGhpczogTGluaywgZTogRXZlbnQpIHtcbiAgICAgICAgICBlLnByZXZlbnREZWZhdWx0KCk7XG4gICAgICAgICAgY29uc3QgdGFyZ2V0ID0gZS50YXJnZXQgYXMgSFRNTExpbmtFbGVtZW50O1xuICAgICAgICAgIGlmICh0YXJnZXQuaHJlZiA9PT0gZG9jdW1lbnQucmVmZXJyZXIpIHtcbiAgICAgICAgICAgIHdpbmRvdy5oaXN0b3J5LmJhY2soKTtcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgd2luZG93LmxvY2F0aW9uLmhyZWYgPSBocmVmO1xuICAgICAgICAgIH1cbiAgICAgICAgfS5iaW5kKHRoaXMpLFxuICAgICAgKTtcbiAgICB9XG5cbiAgICBpZiAoZGVsYXkpIHtcbiAgICAgIHRoaXMuZWxlbWVudHNbMF0uYWRkRXZlbnRMaXN0ZW5lcihcbiAgICAgICAgXCJjbGlja1wiLFxuICAgICAgICBmdW5jdGlvbiBvbkNsaWNrKHRoaXM6IExpbmssIGU6IEV2ZW50KSB7XG4gICAgICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgICAgIHNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgICAgICAgd2luZG93LmxvY2F0aW9uLmhyZWYgPSBocmVmO1xuICAgICAgICAgIH0sIGRlbGF5KTtcbiAgICAgICAgfS5iaW5kKHRoaXMpLFxuICAgICAgKTtcbiAgICB9XG5cbiAgICBpZiAocHJlZmV0Y2gpIHtcbiAgICAgIGlmIChwcmVmZXRjaCA9PT0gXCJob3ZlclwiKSB7XG4gICAgICAgIHRoaXMucHJlZmV0Y2hPbkhvdmVyKCk7XG4gICAgICB9IGVsc2UgaWYgKHByZWZldGNoID09PSBcInZpc2libGVcIikge1xuICAgICAgICB0aGlzLnByZWZldGNoT25WaXNpYmxlKCk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICB0aGlzLmFkZFByZWZldGNoKCk7XG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgcHJlZmV0Y2hPbkhvdmVyKCkge1xuICAgIHRoaXMuZWxlbWVudHNbMF0uYWRkRXZlbnRMaXN0ZW5lcihcbiAgICAgIFwibW91c2VvdmVyXCIsXG4gICAgICBmdW5jdGlvbiBvbkhvdmVyKHRoaXM6IExpbmspIHtcbiAgICAgICAgdGhpcy5hZGRQcmVmZXRjaCgpO1xuICAgICAgfS5iaW5kKHRoaXMpLFxuICAgICAgeyBvbmNlOiB0cnVlIH0sXG4gICAgKTtcbiAgfVxuXG4gIHByZWZldGNoT25WaXNpYmxlKCkge1xuICAgIGNvbnN0IG9ic2VydmVyID0gbmV3IEludGVyc2VjdGlvbk9ic2VydmVyKFxuICAgICAgKGVudHJpZXMsIG9ic2VydmVyKSA9PiB7XG4gICAgICAgIGZvciAoY29uc3QgZW50cnkgb2YgZW50cmllcykge1xuICAgICAgICAgIGlmIChlbnRyeS5pc0ludGVyc2VjdGluZykge1xuICAgICAgICAgICAgb2JzZXJ2ZXIuZGlzY29ubmVjdCgpO1xuICAgICAgICAgICAgdGhpcy5hZGRQcmVmZXRjaCgpO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfSxcbiAgICAgIHsgdGhyZXNob2xkOiBbMCwgMV0gfSxcbiAgICApO1xuICAgIG9ic2VydmVyLm9ic2VydmUodGhpcy5lbGVtZW50c1swXSk7XG4gIH1cblxuICBhZGRQcmVmZXRjaCgpIHtcbiAgICBsZXQgZXhpc3RzID0gZmFsc2U7XG5cbiAgICBjb25zdCBsaW5rcyA9IGRvY3VtZW50LmdldEVsZW1lbnRzQnlUYWdOYW1lKFwibGlua1wiKTtcblxuICAgIGZvciAoY29uc3QgbGluayBvZiBsaW5rcykge1xuICAgICAgaWYgKFxuICAgICAgICBsaW5rLmdldEF0dHJpYnV0ZShcInJlbFwiKSA9PT0gXCJwcmVmZXRjaFwiICYmXG4gICAgICAgIGxpbmsuZ2V0QXR0cmlidXRlKFwiaHJlZlwiKSA9PT0gdGhpcy5wcm9wcy5ocmVmXG4gICAgICApIHtcbiAgICAgICAgZXhpc3RzID0gdHJ1ZTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICBpZiAoIWV4aXN0cykge1xuICAgICAgY29uc3QgcHJlZmV0Y2ggPSBoKFwibGlua1wiLCB7XG4gICAgICAgIHJlbDogXCJwcmVmZXRjaFwiLFxuICAgICAgICBocmVmOiB0aGlzLnByb3BzLmhyZWYsXG4gICAgICAgIGFzOiBcImRvY3VtZW50XCIsXG4gICAgICB9KTtcbiAgICAgIGRvY3VtZW50LmhlYWQuYXBwZW5kQ2hpbGQocHJlZmV0Y2gpO1xuICAgIH1cbiAgfVxuXG4gIHJlbmRlcigpIHtcbiAgICBjb25zdCB7XG4gICAgICBjaGlsZHJlbixcbiAgICAgIHByZWZldGNoLFxuICAgICAgZGVsYXksXG4gICAgICBiYWNrID0gZmFsc2UsXG4gICAgICByZWYsXG4gICAgICAuLi5yZXN0XG4gICAgfSA9IHRoaXMucHJvcHM7XG5cbiAgICBjb25zdCBhID0gaChcImFcIiwgeyAuLi5yZXN0IH0sIC4uLmNoaWxkcmVuKTtcblxuICAgIGlmIChwcmVmZXRjaCAmJiBpc1NTUikge1xuICAgICAgY29uc3QgbGluayA9IGgoXCJsaW5rXCIsIHtcbiAgICAgICAgcmVsOiBcInByZWZldGNoXCIsXG4gICAgICAgIGhyZWY6IHRoaXMucHJvcHMuaHJlZixcbiAgICAgICAgYXM6IFwiZG9jdW1lbnRcIixcbiAgICAgIH0pO1xuICAgICAgY29uc3QgaGVsbWV0ID0gaChIZWxtZXQsIG51bGwsIGxpbmspO1xuICAgICAgcmV0dXJuIGgoRnJhZ21lbnQsIG51bGwsIFtoZWxtZXQsIGFdKTtcbiAgICB9IGVsc2Uge1xuICAgICAgcmV0dXJuIGE7XG4gICAgfVxuICB9XG59XG4iLCJpbXBvcnQgeyBoLCByZW5kZXJFbGVtZW50LCBDb21wb25lbnQgfSBmcm9tIFwiLi4vY29yZVwiO1xuXG5jb25zdCBpbnN0YW5jZXM6IGFueVtdID0gW107XG5cbmZ1bmN0aW9uIHJlZ2lzdGVyKGNvbXA6IGFueSkge1xuICBpbnN0YW5jZXMucHVzaChjb21wKTtcbn1cblxuZnVuY3Rpb24gdW5yZWdpc3Rlcihjb21wOiBhbnkpIHtcbiAgaW5zdGFuY2VzLnNwbGljZShpbnN0YW5jZXMuaW5kZXhPZihjb21wKSwgMSk7XG59XG5cbmZ1bmN0aW9uIGhpc3RvcnlQdXNoKHBhdGg6IHN0cmluZykge1xuICB3aW5kb3cuaGlzdG9yeS5wdXNoU3RhdGUoe30sIFwiXCIsIHBhdGgpO1xuICBmb3IgKGNvbnN0IGluc3RhbmNlIG9mIGluc3RhbmNlcykge1xuICAgIGluc3RhbmNlLmZvcmNlVXBkYXRlKCk7XG4gIH1cbn1cblxuZnVuY3Rpb24gaGlzdG9yeVJlcGxhY2UocGF0aDogc3RyaW5nKSB7XG4gIHdpbmRvdy5oaXN0b3J5LnJlcGxhY2VTdGF0ZSh7fSwgXCJcIiwgcGF0aCk7XG4gIGZvciAoY29uc3QgaW5zdGFuY2Ugb2YgaW5zdGFuY2VzKSB7XG4gICAgaW5zdGFuY2UuZm9yY2VVcGRhdGUoKTtcbiAgfVxufVxuXG5mdW5jdGlvbiBtYXRjaFBhdGgoXG4gIHBhdGhuYW1lOiBzdHJpbmcsXG4gIG9wdGlvbnM6IHtcbiAgICBleGFjdD86IGJvb2xlYW47XG4gICAgcGF0aDogc3RyaW5nO1xuICAgIHJlZ2V4PzogeyBbcGFyYW06IHN0cmluZ106IFJlZ0V4cCB9O1xuICB9LFxuKSB7XG4gIGNvbnN0IHsgZXhhY3QgPSBmYWxzZSwgcmVnZXggfSA9IG9wdGlvbnM7XG4gIGxldCB7IHBhdGggfSA9IG9wdGlvbnM7XG5cbiAgaWYgKCFwYXRoKSB7XG4gICAgcmV0dXJuIHtcbiAgICAgIHBhdGg6IG51bGwsXG4gICAgICB1cmw6IHBhdGhuYW1lLFxuICAgICAgaXNFeGFjdDogdHJ1ZSxcbiAgICB9O1xuICB9XG5cbiAgbGV0IG1hdGNoO1xuICBsZXQgcGFyYW1zID0ge307XG5cbiAgLy8gcGF0aCB3aXRoIHBhcmFtc1xuICBpZiAocGF0aC5pbmNsdWRlcyhcIi86XCIpKSB7XG4gICAgY29uc3QgcGF0aEFyciA9IHBhdGguc3BsaXQoXCIvXCIpO1xuICAgIGNvbnN0IHBhdGhuYW1lQXJyID0gcGF0aG5hbWUuc3BsaXQoXCIvXCIpO1xuICAgIHBhdGhBcnIuZm9yRWFjaCgocCwgaSkgPT4ge1xuICAgICAgaWYgKC9eOi8udGVzdChwKSkge1xuICAgICAgICBjb25zdCBrZXkgPSBwLnNsaWNlKDEpO1xuICAgICAgICBjb25zdCB2YWx1ZSA9IHBhdGhuYW1lQXJyW2ldO1xuXG4gICAgICAgIC8vIGlmIGEgcmVnZXggaXMgcHJvdmlkZWQsIGNoZWNrIGl0IGl0IG1hdGNoZXNcbiAgICAgICAgaWYgKHJlZ2V4ICYmIHJlZ2V4W2tleV0pIHtcbiAgICAgICAgICBjb25zdCByZWdleE1hdGNoID0gcmVnZXhba2V5XS50ZXN0KHZhbHVlKTtcbiAgICAgICAgICBpZiAoIXJlZ2V4TWF0Y2gpIHJldHVybiBudWxsO1xuICAgICAgICB9XG5cbiAgICAgICAgcGFyYW1zID0geyAuLi5wYXJhbXMsIFtrZXldOiB2YWx1ZSB9O1xuXG4gICAgICAgIHBhdGhBcnJbaV0gPSBwYXRobmFtZUFycltpXTtcbiAgICAgIH1cbiAgICB9KTtcbiAgICBwYXRoID0gcGF0aEFyci5qb2luKFwiL1wiKTtcbiAgfVxuXG4gIC8vIGNhdGNoIGFsbFxuICBpZiAocGF0aCA9PT0gXCIqXCIpIG1hdGNoID0gW3BhdGhuYW1lXTtcblxuICAvLyByZWd1bGFyIHBhdGhcbiAgaWYgKCFtYXRjaCkgbWF0Y2ggPSBuZXcgUmVnRXhwKGBeJHtwYXRofWApLmV4ZWMocGF0aG5hbWUpO1xuXG4gIGlmICghbWF0Y2gpIHJldHVybiBudWxsO1xuXG4gIGNvbnN0IHVybCA9IG1hdGNoWzBdO1xuICBjb25zdCBpc0V4YWN0ID0gcGF0aG5hbWUgPT09IHVybDtcblxuICBpZiAoZXhhY3QgJiYgIWlzRXhhY3QpIHJldHVybiBudWxsO1xuXG4gIHJldHVybiB7XG4gICAgcGF0aCxcbiAgICB1cmwsXG4gICAgaXNFeGFjdCxcbiAgICBwYXJhbXMsXG4gIH07XG59XG5cbmV4cG9ydCBjbGFzcyBTd2l0Y2ggZXh0ZW5kcyBDb21wb25lbnQ8eyBmYWxsYmFjaz86IGFueTsgY2hpbGRyZW4/OiBhbnkgfT4ge1xuICBpbmRleDogbnVtYmVyID0gMDtcbiAgcGF0aDogc3RyaW5nID0gXCJcIjtcbiAgbWF0Y2ggPSB7IGluZGV4OiAtMSwgcGF0aDogXCJcIiB9O1xuXG4gIG1vdW50KCkge1xuICAgIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKFwicG9wc3RhdGVcIiwgdGhpcy5mb3JjZVVwZGF0ZS5iaW5kKHRoaXMpKTtcbiAgICByZWdpc3Rlcih0aGlzKTtcbiAgfVxuXG4gIGRlc3Ryb3koKSB7XG4gICAgdW5yZWdpc3Rlcih0aGlzKTtcbiAgICB3aW5kb3cucmVtb3ZlRXZlbnRMaXN0ZW5lcihcInBvcHN0YXRlXCIsIHRoaXMuZm9yY2VVcGRhdGUuYmluZCh0aGlzKSk7XG4gIH1cblxuICBmb3JjZVVwZGF0ZSgpIHtcbiAgICB0aGlzLmZpbmRDaGlsZCgpO1xuICAgIGlmICh0aGlzLnNob3VsZFVwZGF0ZSgpKSB0aGlzLnVwZGF0ZSgpO1xuICB9XG5cbiAgZmluZENoaWxkKCkge1xuICAgIHRoaXMubWF0Y2ggPSB7IGluZGV4OiAtMSwgcGF0aDogXCJcIiB9O1xuXG4gICAgZm9yIChjb25zdCBbaSwgY2hpbGRdIG9mIHRoaXMucHJvcHMuY2hpbGRyZW4uZW50cmllcygpKSB7XG4gICAgICBjb25zdCB7IHBhdGgsIGV4YWN0LCByZWdleCB9ID0gY2hpbGQucHJvcHM7XG4gICAgICBjb25zdCBtYXRjaCA9IG1hdGNoUGF0aChcbiAgICAgICAgdHlwZW9mIGlzU1NSICE9PSBcInVuZGVmaW5lZFwiXG4gICAgICAgICAgPyBfbmFuby5sb2NhdGlvbi5wYXRobmFtZVxuICAgICAgICAgIDogd2luZG93LmxvY2F0aW9uLnBhdGhuYW1lLFxuICAgICAgICB7XG4gICAgICAgICAgcGF0aCxcbiAgICAgICAgICBleGFjdCxcbiAgICAgICAgICByZWdleCxcbiAgICAgICAgfSxcbiAgICAgICk7XG5cbiAgICAgIGlmIChtYXRjaCkge1xuICAgICAgICB0aGlzLm1hdGNoLmluZGV4ID0gaTtcbiAgICAgICAgdGhpcy5tYXRjaC5wYXRoID0gcGF0aDtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgIH1cbiAgfVxuXG4gIHNob3VsZFVwZGF0ZSgpIHtcbiAgICByZXR1cm4gdGhpcy5wYXRoICE9PSB0aGlzLm1hdGNoLnBhdGggfHwgdGhpcy5pbmRleCAhPT0gdGhpcy5tYXRjaC5pbmRleDtcbiAgfVxuXG4gIHJlbmRlcigpIHtcbiAgICB0aGlzLmZpbmRDaGlsZCgpO1xuXG4gICAgY29uc3QgY2hpbGQgPSB0aGlzLnByb3BzLmNoaWxkcmVuW3RoaXMubWF0Y2guaW5kZXhdO1xuXG4gICAgaWYgKHRoaXMubWF0Y2guaW5kZXggPT09IC0xKSB7XG4gICAgICB0aGlzLnBhdGggPSBcIlwiO1xuICAgICAgdGhpcy5pbmRleCA9IDA7XG4gICAgfVxuXG4gICAgaWYgKGNoaWxkKSB7XG4gICAgICBjb25zdCB7IHBhdGggfSA9IGNoaWxkLnByb3BzO1xuICAgICAgdGhpcy5wYXRoID0gcGF0aDtcbiAgICAgIHRoaXMuaW5kZXggPSB0aGlzLm1hdGNoLmluZGV4O1xuICAgICAgY29uc3QgZWwgPSByZW5kZXJFbGVtZW50KGNoaWxkKTtcbiAgICAgIHJldHVybiByZW5kZXJFbGVtZW50KGVsKTtcbiAgICB9IGVsc2UgaWYgKHRoaXMucHJvcHMuZmFsbGJhY2spIHtcbiAgICAgIHJldHVybiByZW5kZXJFbGVtZW50KHRoaXMucHJvcHMuZmFsbGJhY2spO1xuICAgIH0gZWxzZSB7XG4gICAgICByZXR1cm4gaChcImRpdlwiLCB7IGNsYXNzOiBcInJvdXRlXCIgfSwgXCJub3QgZm91bmRcIik7XG4gICAgfVxuICB9XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBSb3V0ZSh7XG4gIHBhdGgsXG4gIHJlZ2V4LFxuICBjaGlsZHJlbixcbn06IHtcbiAgZXhhY3Q/OiBib29sZWFuO1xuICBwYXRoOiBzdHJpbmc7XG4gIHJlZ2V4PzogeyBbcGFyYW06IHN0cmluZ106IFJlZ0V4cCB9O1xuICBjaGlsZHJlbj86IGFueTtcbn0pIHtcbiAgZm9yIChjb25zdCBjaGlsZCBvZiBjaGlsZHJlbikge1xuICAgIGlmIChjaGlsZC5wcm9wcykgY2hpbGQucHJvcHMgPSB7IC4uLmNoaWxkLnByb3BzLCByb3V0ZTogeyBwYXRoLCByZWdleCB9IH07XG4gIH1cblxuICByZXR1cm4gY2hpbGRyZW47XG59XG5cbmV4cG9ydCBjb25zdCB0byA9ICh0bzogc3RyaW5nLCByZXBsYWNlOiBib29sZWFuID0gZmFsc2UpID0+IHtcbiAgcmVwbGFjZSA/IGhpc3RvcnlSZXBsYWNlKHRvKSA6IGhpc3RvcnlQdXNoKHRvKTtcbn07XG5cbmV4cG9ydCBmdW5jdGlvbiBMaW5rKHtcbiAgdG8sXG4gIHJlcGxhY2UsXG4gIGNoaWxkcmVuLFxufToge1xuICB0bzogc3RyaW5nO1xuICByZXBsYWNlPzogYm9vbGVhbjtcbiAgY2hpbGRyZW4/OiBhbnk7XG59KSB7XG4gIGZ1bmN0aW9uIG9uQ2xpY2soZXZlbnQ6IEV2ZW50KSB7XG4gICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcbiAgICByZXBsYWNlID8gaGlzdG9yeVJlcGxhY2UodG8pIDogaGlzdG9yeVB1c2godG8pO1xuICB9XG5cbiAgcmV0dXJuIGgoXCJhXCIsIHsgaHJlZjogdG8sIG9uQ2xpY2sgfSwgY2hpbGRyZW4pO1xufVxuIiwiaW1wb3J0IHsgQ29tcG9uZW50IH0gZnJvbSBcIi4uL2NvcmVcIjtcbmltcG9ydCB7IHN0clRvSGFzaCB9IGZyb20gXCIuLi91dGlsc1wiO1xuXG5leHBvcnQgY2xhc3MgU3VzcGVuc2UgZXh0ZW5kcyBDb21wb25lbnQge1xuICBwcml2YXRlIGlzUmVhZHkgPSBmYWxzZTtcblxuICBjb25zdHJ1Y3Rvcihwcm9wczogYW55KSB7XG4gICAgc3VwZXIocHJvcHMpO1xuXG4gICAgY29uc3QgeyBmYWxsYmFjaywgY2FjaGUgPSBmYWxzZSwgY2hpbGRyZW4sIC4uLnJlc3QgfSA9IHRoaXMucHJvcHM7XG5cbiAgICB0aGlzLmlkID0gc3RyVG9IYXNoKFxuICAgICAgSlNPTi5zdHJpbmdpZnkocmVzdCwgZnVuY3Rpb24gKF9rZXksIHZhbCkge1xuICAgICAgICByZXR1cm4gdHlwZW9mIHZhbCA9PT0gXCJmdW5jdGlvblwiID8gYCR7dmFsfWAgOiB2YWw7XG4gICAgICB9KSxcbiAgICApO1xuICB9XG5cbiAgYXN5bmMgbW91bnQoKSB7XG4gICAgY29uc3QgeyBmYWxsYmFjaywgY2FjaGUgPSBmYWxzZSwgY2hpbGRyZW4sIC4uLnJlc3QgfSA9IHRoaXMucHJvcHM7XG5cbiAgICBpZiAoY2FjaGUpIHRoaXMuaW5pdGlhbFN0YXRlID0ge307XG5cbiAgICBpZiAodGhpcy5sb2FkRnJvbUNhY2hlKGNhY2hlKSkgcmV0dXJuO1xuXG4gICAgY29uc3QgcHJvbWlzZXMgPSBPYmplY3QudmFsdWVzKHJlc3QpLm1hcCgocDogYW55KSA9PiBwKCkpO1xuICAgIGNvbnN0IHJlc29sdmVkID0gYXdhaXQgUHJvbWlzZS5hbGwocHJvbWlzZXMpO1xuICAgIGNvbnN0IGRhdGEgPSB0aGlzLnByZXBhcmVEYXRhKHJlc3QsIHJlc29sdmVkLCBjYWNoZSk7XG5cbiAgICB0aGlzLmFkZERhdGFUb0NoaWxkcmVuKGRhdGEpO1xuXG4gICAgdGhpcy5pc1JlYWR5ID0gdHJ1ZTtcbiAgICB0aGlzLnVwZGF0ZSgpO1xuICB9XG5cbiAgcHJpdmF0ZSBsb2FkRnJvbUNhY2hlKGNhY2hlOiBib29sZWFuKSB7XG4gICAgY29uc3QgY2FjaGVkID0gdGhpcy5zdGF0ZSAmJiBjYWNoZSAmJiBPYmplY3Qua2V5cyh0aGlzLnN0YXRlKS5sZW5ndGg7XG5cbiAgICBpZiAoY2FjaGUpIHtcbiAgICAgIHRoaXMuYWRkRGF0YVRvQ2hpbGRyZW4odGhpcy5zdGF0ZSk7XG4gICAgICB0aGlzLmlzUmVhZHkgPSB0cnVlO1xuICAgIH1cblxuICAgIHJldHVybiBjYWNoZWQ7XG4gIH1cblxuICBwcml2YXRlIHNzcigpIHtcbiAgICBjb25zdCB7IGZhbGxiYWNrLCBjYWNoZSA9IGZhbHNlLCBjaGlsZHJlbiwgLi4ucmVzdCB9ID0gdGhpcy5wcm9wcztcblxuICAgIGNvbnN0IGZ1bmNzID0gT2JqZWN0LnZhbHVlcyhyZXN0KS5tYXAoKHA6IGFueSkgPT4gcCgpKTtcblxuICAgIGNvbnN0IGRhdGEgPSB0aGlzLnByZXBhcmVEYXRhKHJlc3QsIGZ1bmNzLCBmYWxzZSk7XG5cbiAgICB0aGlzLmFkZERhdGFUb0NoaWxkcmVuKGRhdGEpO1xuICB9XG5cbiAgcHJpdmF0ZSBhZGREYXRhVG9DaGlsZHJlbihkYXRhOiBhbnkpIHtcbiAgICBmb3IgKGNvbnN0IGNoaWxkIG9mIHRoaXMucHJvcHMuY2hpbGRyZW4pIHtcbiAgICAgIGlmIChjaGlsZC5wcm9wcykge1xuICAgICAgICBjaGlsZC5wcm9wcyA9IHsgLi4uY2hpbGQucHJvcHMsIC4uLmRhdGEgfTtcbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICBwcml2YXRlIHByZXBhcmVEYXRhKHJlc3Q6IGFueSwgZnVuYzogYW55LCBjYWNoZTogYm9vbGVhbikge1xuICAgIGNvbnN0IGRhdGEgPSBPYmplY3Qua2V5cyhyZXN0KS5yZWR1Y2UoKGFjYywgaXRlbSwgaW5kZXgpID0+IHtcbiAgICAgIGlmIChjYWNoZSkge1xuICAgICAgICB0aGlzLnN0YXRlID0geyAuLi50aGlzLnN0YXRlLCBbaXRlbV06IGZ1bmNbaW5kZXhdIH07XG4gICAgICB9XG4gICAgICByZXR1cm4ge1xuICAgICAgICAuLi5hY2MsXG4gICAgICAgIFtpdGVtXTogZnVuY1tpbmRleF0sXG4gICAgICB9O1xuICAgIH0sIHt9KTtcbiAgICByZXR1cm4gZGF0YTtcbiAgfVxuXG4gIHJlbmRlcigpIHtcbiAgICBpZiAodHlwZW9mIGlzU1NSID09PSBcInVuZGVmaW5lZFwiKSB7XG4gICAgICBjb25zdCB7IGNhY2hlID0gZmFsc2UgfSA9IHRoaXMucHJvcHM7XG4gICAgICB0aGlzLmxvYWRGcm9tQ2FjaGUoY2FjaGUpO1xuICAgICAgcmV0dXJuIHRoaXMuaXNSZWFkeSA/IHRoaXMucHJvcHMuY2hpbGRyZW4gOiB0aGlzLnByb3BzLmZhbGxiYWNrO1xuICAgIH0gZWxzZSB7XG4gICAgICB0aGlzLnNzcigpO1xuICAgICAgcmV0dXJuIHRoaXMucHJvcHMuY2hpbGRyZW47XG4gICAgfVxuICB9XG59XG4iLCJpbXBvcnQgeyBDb21wb25lbnQsIGgsIHJlbmRlciB9IGZyb20gXCIuLi9jb3JlXCI7XG5cbmV4cG9ydCBjbGFzcyBWaXNpYmxlIGV4dGVuZHMgQ29tcG9uZW50IHtcbiAgcHJpdmF0ZSBpc1Zpc2libGUgPSBmYWxzZTtcblxuICBtb3VudCgpIHtcbiAgICBjb25zdCBvYnNlcnZlciA9IG5ldyBJbnRlcnNlY3Rpb25PYnNlcnZlcihcbiAgICAgIChlbnRyaWVzLCBvYnNlcnZlcikgPT4ge1xuICAgICAgICBmb3IgKGNvbnN0IGVudHJ5IG9mIGVudHJpZXMpIHtcbiAgICAgICAgICBpZiAoZW50cnkuaXNJbnRlcnNlY3RpbmcpIHtcbiAgICAgICAgICAgIG9ic2VydmVyLmRpc2Nvbm5lY3QoKTtcbiAgICAgICAgICAgIHRoaXMuaXNWaXNpYmxlID0gdHJ1ZTtcbiAgICAgICAgICAgIHRoaXMudXBkYXRlKCk7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9LFxuICAgICAgeyB0aHJlc2hvbGQ6IFswLCAxXSB9LFxuICAgICk7XG5cbiAgICBvYnNlcnZlci5vYnNlcnZlKHRoaXMuZWxlbWVudHNbMF0pO1xuICB9XG4gIHJlbmRlcigpIHtcbiAgICBpZiAodGhpcy5pc1Zpc2libGUpIHtcbiAgICAgIGlmICh0aGlzLnByb3BzLm9uVmlzaWJsZSkge1xuICAgICAgICB0aGlzLnByb3BzLm9uVmlzaWJsZSgpO1xuICAgICAgfVxuICAgICAgcmV0dXJuIHJlbmRlcih0aGlzLnByb3BzLmNvbXBvbmVudCB8fCB0aGlzLnByb3BzLmNoaWxkcmVuWzBdKTtcbiAgICB9IGVsc2Uge1xuICAgICAgcmV0dXJuIGgoXCJkaXZcIiwgeyBcImRhdGEtdmlzaWJsZVwiOiBmYWxzZSwgdmlzaWJpbGl0eTogXCJoaWRkZW5cIiB9KTtcbiAgICB9XG4gIH1cbn1cbiIsImltcG9ydCB7IHJlbmRlckVsZW1lbnQgfSBmcm9tIFwiLlwiO1xuXG5leHBvcnQgZnVuY3Rpb24gYXBwZW5kQ2hpbGRyZW4oZWxlbWVudDogSFRNTEVsZW1lbnQsIGNoaWxkcmVuOiBhbnkpIHtcbiAgaWYgKCFBcnJheS5pc0FycmF5KGNoaWxkcmVuKSkge1xuICAgIGFwcGVuZENoaWxkcmVuKGVsZW1lbnQsIFtjaGlsZHJlbl0pO1xuICAgIHJldHVybjtcbiAgfVxuICBpZiAodHlwZW9mIGNoaWxkcmVuID09PSBcIm9iamVjdFwiKSB7XG4gICAgY2hpbGRyZW4gPSBBcnJheS5mcm9tKGNoaWxkcmVuKTtcbiAgfVxuXG4gIGZvciAoY29uc3QgY2hpbGQgb2YgY2hpbGRyZW4pIHtcbiAgICBpZiAoQXJyYXkuaXNBcnJheShjaGlsZCkpIHtcbiAgICAgIGFwcGVuZENoaWxkcmVuKGVsZW1lbnQsIGNoaWxkKTtcbiAgICB9IGVsc2Uge1xuICAgICAgbGV0IGNvbXAgPSByZW5kZXJFbGVtZW50KGNoaWxkKSBhcyBIVE1MRWxlbWVudDtcblxuICAgICAgaWYgKGNvbXApIHtcbiAgICAgICAgaWYgKEFycmF5LmlzQXJyYXkoY29tcCkpIHtcbiAgICAgICAgICBhcHBlbmRDaGlsZHJlbihlbGVtZW50LCBjb21wKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBlbGVtZW50LmFwcGVuZENoaWxkKFxuICAgICAgICAgICAgIWNvbXA/Lm5vZGVUeXBlID8gZG9jdW1lbnQuY3JlYXRlVGV4dE5vZGUoXCJcIiArIGNvbXApIDogY29tcCxcbiAgICAgICAgICApO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICB9XG59XG4iLCJpbXBvcnQgeyBuZXh0VGljaywgb25Ob2RlUmVtb3ZlIH0gZnJvbSBcIi4uL3V0aWxzXCI7XG5pbXBvcnQgeyByZW5kZXJFbGVtZW50LCBfc3RhdGUgfSBmcm9tIFwiLlwiO1xuXG5leHBvcnQgY2xhc3MgQ29tcG9uZW50PFAgZXh0ZW5kcyBPYmplY3QgPSBhbnksIFMgPSBhbnk+IHtcbiAgcHVibGljIGlkOiBzdHJpbmcgfCBudW1iZXI7XG4gIHByaXZhdGUgX3NraXBVbm1vdXQ6IGJvb2xlYW47XG4gIHByaXZhdGUgX2hhc1VubW91bnRlZDogYm9vbGVhbjtcbiAgcHJpdmF0ZSBfZWxlbWVudHM6IEhUTUxFbGVtZW50W10gPSBbXTtcblxuICBjb25zdHJ1Y3RvcihwdWJsaWMgcHJvcHM6IFApIHtcbiAgICB0aGlzLmlkID0gdGhpcy5fZ2V0SGFzaCgpO1xuICB9XG5cbiAgcHVibGljIHJlbmRlcihfdXBkYXRlPzogYW55KSB7fVxuICBwdWJsaWMgbW91bnQoKSB7fVxuICBwdWJsaWMgYmVmb3JlTW91bnQoKSB7fVxuICBwdWJsaWMgZGVzdHJveSgpIHt9XG4gIHByaXZhdGUgX2dldEhhc2goKTogYW55IHt9XG5cbiAgc2V0U3RhdGUoc3RhdGU6IFMsIHNob3VsZFVwZGF0ZTogYm9vbGVhbiA9IGZhbHNlKSB7XG4gICAgaWYgKHN0YXRlICYmIHR5cGVvZiBzdGF0ZSA9PT0gXCJvYmplY3RcIikge1xuICAgICAgdGhpcy5zdGF0ZSA9IHsgLi4udGhpcy5zdGF0ZSwgLi4uc3RhdGUgfTtcbiAgICB9IGVsc2UgdGhpcy5zdGF0ZSA9IHN0YXRlO1xuXG4gICAgaWYgKHNob3VsZFVwZGF0ZSkgdGhpcy51cGRhdGUoKTtcbiAgfVxuXG4gIGdldCBzdGF0ZSgpIHtcbiAgICByZXR1cm4gX3N0YXRlLmdldCh0aGlzLmlkKTtcbiAgfVxuXG4gIHNldCBzdGF0ZSh2YWx1ZTogUykge1xuICAgIF9zdGF0ZS5zZXQodGhpcy5pZCwgdmFsdWUpO1xuICB9XG5cbiAgc2V0IGluaXRpYWxTdGF0ZShzdGF0ZTogUykge1xuICAgIGlmICghdGhpcy5zdGF0ZSkgdGhpcy5zdGF0ZSA9IHN0YXRlO1xuICB9XG5cbiAgcHVibGljIGdldCBlbGVtZW50cygpIHtcbiAgICByZXR1cm4gdGhpcy5fZWxlbWVudHM7XG4gIH1cblxuICBwdWJsaWMgc2V0IGVsZW1lbnRzKGVsZW1lbnRzOiBIVE1MRWxlbWVudFtdKSB7XG4gICAgaWYgKCFBcnJheS5pc0FycmF5KGVsZW1lbnRzKSkge1xuICAgICAgZWxlbWVudHMgPSBbZWxlbWVudHNdO1xuICAgIH1cblxuICAgIGZvciAoY29uc3QgZWwgb2YgZWxlbWVudHMpIHtcbiAgICAgIHRoaXMuX2VsZW1lbnRzLnB1c2goZWwpO1xuICAgIH1cbiAgfVxuXG4gIHByaXZhdGUgYWRkTm9kZVJlbW92ZUxpc3RlbmVyKCkge1xuICAgIGlmICgvXltee10re1xccyt9JC9nbS50ZXN0KHRoaXMuZGVzdHJveS50b1N0cmluZygpKSkgcmV0dXJuO1xuXG4gICAgb25Ob2RlUmVtb3ZlKHRoaXMuZWxlbWVudHNbMF0sICgpID0+IHtcbiAgICAgIGlmICghdGhpcy5fc2tpcFVubW91dCkge1xuICAgICAgICB0aGlzLmRlc3Ryb3koKTtcbiAgICAgIH1cbiAgICB9KTtcbiAgfVxuXG4gIC8vQHRzLWlnbm9yZVxuICBwcml2YXRlIF9tb3VudCgpIHtcbiAgICB0aGlzLmFkZE5vZGVSZW1vdmVMaXN0ZW5lcigpO1xuICAgIHRoaXMubW91bnQoKTtcbiAgfVxuXG4gIHByaXZhdGUgX2Rlc3RvcnkoKSB7XG4gICAgaWYgKHRoaXMuX2hhc1VubW91bnRlZCkgcmV0dXJuO1xuICAgIHRoaXMuZGVzdHJveSgpO1xuICAgIHRoaXMuX2hhc1VubW91bnRlZCA9IHRydWU7XG4gIH1cblxuICBwdWJsaWMgdXBkYXRlKHVwZGF0ZT86IGFueSkge1xuICAgIHRoaXMuX3NraXBVbm1vdXQgPSB0cnVlO1xuXG4gICAgY29uc3Qgb2xkRWxlbWVudHMgPSBbLi4udGhpcy5lbGVtZW50c107XG5cbiAgICB0aGlzLl9lbGVtZW50cyA9IFtdO1xuXG4gICAgbGV0IGVsID0gdGhpcy5yZW5kZXIodXBkYXRlKTtcbiAgICBlbCA9IHJlbmRlckVsZW1lbnQoZWwpO1xuICAgIHRoaXMuZWxlbWVudHMgPSBlbCBhcyB1bmtub3duIGFzIEhUTUxFbGVtZW50W107XG5cbiAgICBjb25zdCBwYXJlbnQgPSBvbGRFbGVtZW50c1swXS5wYXJlbnRFbGVtZW50IGFzIEhUTUxFbGVtZW50O1xuXG4gICAgaWYgKCFwYXJlbnQpXG4gICAgICBjb25zb2xlLndhcm4oXCJDb21wb25lbnQgbmVlZHMgYSBwYXJlbnQgZWxlbWVudCB0byBnZXQgdXBkYXRlZCFcIik7XG5cbiAgICBmb3IgKGNvbnN0IGNoaWxkIG9mIHRoaXMuZWxlbWVudHMpIHtcbiAgICAgIHBhcmVudC5pbnNlcnRCZWZvcmUoY2hpbGQsIG9sZEVsZW1lbnRzWzBdKTtcbiAgICB9XG5cbiAgICBmb3IgKGxldCBjaGlsZCBvZiBvbGRFbGVtZW50cykge1xuICAgICAgY2hpbGQucmVtb3ZlKCk7XG4gICAgICAvL0B0cy1pZ25vcmVcbiAgICAgIGNoaWxkID0gbnVsbDtcbiAgICB9XG5cbiAgICB0aGlzLmFkZE5vZGVSZW1vdmVMaXN0ZW5lcigpO1xuXG4gICAgbmV4dFRpY2soKCkgPT4ge1xuICAgICAgdGhpcy5fc2tpcFVubW91dCA9IGZhbHNlO1xuICAgICAgaWYgKCF0aGlzLmVsZW1lbnRzWzBdLmlzQ29ubmVjdGVkKSB7XG4gICAgICAgIHRoaXMuX2Rlc3RvcnkoKTtcbiAgICAgIH1cbiAgICB9KTtcbiAgfVxufVxuIiwiZXhwb3J0IGZ1bmN0aW9uIGNyZWF0ZUNvbnRleHQoY3R4OiBhbnkpIHtcbiAgbGV0IF9jdHggPSBjdHg7XG4gIHJldHVybiB7XG4gICAgUHJvdmlkZXIocHJvcHM6IGFueSkge1xuICAgICAgaWYgKHByb3BzLnZhbHVlKSB7XG4gICAgICAgIF9jdHggPSBwcm9wcy52YWx1ZTtcbiAgICAgICAgcmV0dXJuIHByb3BzLmNoaWxkcmVuO1xuICAgICAgfVxuICAgIH0sXG4gICAgQ29uc3VtZXIocHJvcHM6IGFueSkge1xuICAgICAgcmV0dXJuIHtcbiAgICAgICAgY29tcG9uZW50OiBwcm9wcy5jaGlsZHJlblswXShfY3R4KSxcbiAgICAgICAgcHJvcHM6IHtcbiAgICAgICAgICAuLi5wcm9wcyxcbiAgICAgICAgICBjb250ZXh0OiBfY3R4LFxuICAgICAgICB9LFxuICAgICAgfTtcbiAgICB9LFxuICAgIGdldCgpIHtcbiAgICAgIHJldHVybiBfY3R4O1xuICAgIH0sXG4gICAgc2V0KGN0eDogYW55KSB7XG4gICAgICBfY3R4ID0gY3R4O1xuICAgIH0sXG4gIH07XG59XG4iLCJleHBvcnQgY29uc3QgRnJhZ21lbnQgPSAocHJvcHM6IGFueSkgPT4ge1xuICByZXR1cm4gcHJvcHMuY2hpbGRyZW47XG59O1xuIiwiaW1wb3J0IHsgaXNFdmVudCB9IGZyb20gXCIuLi91dGlsc1wiO1xuaW1wb3J0IHsgYXBwZW5kQ2hpbGRyZW4sIGhOUyB9IGZyb20gXCIuXCI7XG5cbmV4cG9ydCBmdW5jdGlvbiBoKGNvbXA6IGFueSwgcHJvcHM6IGFueSwgLi4uY2hpbGRyZW46IGFueVtdKTogYW55IHtcbiAgaWYgKHR5cGVvZiBjb21wICE9PSBcInN0cmluZ1wiKSB7XG4gICAgcmV0dXJuIHsgY29tcG9uZW50OiBjb21wLCBwcm9wczogeyAuLi5wcm9wcywgY2hpbGRyZW46IGNoaWxkcmVuIH0gfTtcbiAgfVxuXG4gIGxldCByZWY7XG5cbiAgY29uc3QgZWxlbWVudCA9XG4gICAgY29tcCA9PT0gXCJzdmdcIlxuICAgICAgPyAoaE5TKFwic3ZnXCIpIGFzIFNWR0VsZW1lbnQpXG4gICAgICA6IChkb2N1bWVudC5jcmVhdGVFbGVtZW50KGNvbXApIGFzIEhUTUxFbGVtZW50KTtcblxuICBmb3IgKGNvbnN0IHAgaW4gcHJvcHMpIHtcbiAgICBpZiAocCA9PT0gXCJzdHlsZVwiICYmIHR5cGVvZiBwcm9wc1twXSA9PT0gXCJvYmplY3RcIikge1xuICAgICAgY29uc3Qgc3R5bGVzID0gT2JqZWN0LmtleXMocHJvcHNbcF0pXG4gICAgICAgIC5tYXAoKGspID0+IGAke2t9OiR7cHJvcHNbcF1ba119YClcbiAgICAgICAgLmpvaW4oXCI7XCIpXG4gICAgICAgIC5yZXBsYWNlKC9bQS1aXS9nLCAobWF0Y2gpID0+IGAtJHttYXRjaC50b0xvd2VyQ2FzZSgpfWApO1xuICAgICAgcHJvcHNbcF0gPSBzdHlsZXMgKyBcIjtcIjtcbiAgICB9XG5cbiAgICBpZiAocCA9PT0gXCJyZWZcIikge1xuICAgICAgcmVmID0gcHJvcHNbcF07XG4gICAgfVxuXG4gICAgaWYgKGlzRXZlbnQoZWxlbWVudCwgcC50b0xvd2VyQ2FzZSgpKSkge1xuICAgICAgZWxlbWVudC5hZGRFdmVudExpc3RlbmVyKHAudG9Mb3dlckNhc2UoKS5zdWJzdHJpbmcoMiksIChlOiBFdmVudCkgPT5cbiAgICAgICAgcHJvcHNbcF0oZSksXG4gICAgICApO1xuICAgIH0gZWxzZSB7XG4gICAgICBlbGVtZW50LnNldEF0dHJpYnV0ZShwLCBwcm9wc1twXSk7XG4gICAgfVxuICB9XG4gIGFwcGVuZENoaWxkcmVuKGVsZW1lbnQgYXMgYW55LCBjaGlsZHJlbik7XG5cbiAgaWYgKHJlZikge1xuICAgIHJlZihlbGVtZW50KTtcbiAgfVxuICAvLyBAdHMtaWdub3JlXG4gIGlmIChlbGVtZW50LnNzcikgcmV0dXJuIGVsZW1lbnQuc3NyO1xuICByZXR1cm4gZWxlbWVudDtcbn1cbiIsImltcG9ydCB7IHJlbmRlciB9IGZyb20gXCIuXCI7XG5cbmV4cG9ydCBmdW5jdGlvbiBoeWRyYXRlKFxuICBjb21wb25lbnQ6IGFueSxcbiAgcGFyZW50OiBIVE1MRWxlbWVudCB8IG51bGwgPSBudWxsLFxuICByZW1vdmVDaGlsZE5vZGVzID0gdHJ1ZSxcbikge1xuICByZXR1cm4gcmVuZGVyKGNvbXBvbmVudCwgcGFyZW50LCByZW1vdmVDaGlsZE5vZGVzKTtcbn1cbiIsImV4cG9ydCB7IGFwcGVuZENoaWxkcmVuIH0gZnJvbSBcIi4vYXBwZW5kQ2hpbGRyZW5cIjtcbmV4cG9ydCB7IGggfSBmcm9tIFwiLi9oXCI7XG5leHBvcnQgeyByZW5kZXIgfSBmcm9tIFwiLi9yZW5kZXJcIjtcbmV4cG9ydCB7IHJlbmRlckVsZW1lbnQsIGhOUyB9IGZyb20gXCIuL3JlbmRlckVsZW1lbnRcIjtcbmV4cG9ydCB7IGh5ZHJhdGUgfSBmcm9tIFwiLi9oeWRyYXRlXCI7XG5leHBvcnQgeyBDb21wb25lbnQgfSBmcm9tIFwiLi9jb21wb25lbnRcIjtcbmV4cG9ydCB7IEZyYWdtZW50IH0gZnJvbSBcIi4vZnJhZ21lbnRcIjtcbmV4cG9ydCB7IGNyZWF0ZUNvbnRleHQgfSBmcm9tIFwiLi9jb250ZXh0XCI7XG5leHBvcnQgeyBfc3RhdGUsIF9jbGVhclN0YXRlIH0gZnJvbSBcIi4vc3RhdGVcIjtcbmV4cG9ydCB7IGxhenlIeWRyYXRpb24gfSBmcm9tIFwiLi9sYXp5SHlkcmF0aW9uXCI7XG5leHBvcnQgeyB3aXRoU3R5bGVzIH0gZnJvbSBcIi4vd2l0aFN0eWxlc1wiO1xuZXhwb3J0IHsgU3RvcmUgfSBmcm9tIFwiLi9zdG9yZVwiO1xuIiwiaW1wb3J0IHsgVmlzaWJsZSB9IGZyb20gXCIuLi9jb21wb25lbnRzXCI7XG5pbXBvcnQgeyBoLCBoeWRyYXRlIH0gZnJvbSBcIi5cIjtcblxuZXhwb3J0IGZ1bmN0aW9uIGxhenlIeWRyYXRpb24oXG4gIGNvbXBvbmVudDogYW55LFxuICBwYXJlbnQ6IGFueSxcbiAgcmVtb3ZlQ2hpbGROb2RlcyA9IHRydWUsXG4pIHtcbiAgY29uc3QgY21wID0gaChWaXNpYmxlLCBudWxsLCBjb21wb25lbnQpO1xuICByZXR1cm4gaHlkcmF0ZShjbXAsIHBhcmVudCwgcmVtb3ZlQ2hpbGROb2Rlcyk7XG59XG4iLCJpbXBvcnQgeyBhcHBlbmRDaGlsZHJlbiwgcmVuZGVyRWxlbWVudCB9IGZyb20gXCIuXCI7XG5cbmV4cG9ydCBmdW5jdGlvbiByZW5kZXIoXG4gIGNtcDogYW55LFxuICBwYXJlbnQ6IEhUTUxFbGVtZW50IHwgYW55ID0gbnVsbCxcbiAgcmVtb3ZlQ2hpbGROb2RlcyA9IHRydWUsXG4pIHtcbiAgbGV0IGVsID0gcmVuZGVyRWxlbWVudChjbXApO1xuXG4gIGlmIChBcnJheS5pc0FycmF5KGVsKSkge1xuICAgIGVsID0gZWwubWFwKChjKSA9PiByZW5kZXJFbGVtZW50KGMpKTtcbiAgICBpZiAoZWwubGVuZ3RoID09PSAxKSB7XG4gICAgICBlbCA9IGVsWzBdO1xuICAgIH1cbiAgfVxuXG4gIGlmIChwYXJlbnQpIHtcbiAgICBpZiAocmVtb3ZlQ2hpbGROb2Rlcykge1xuICAgICAgcmVtb3ZlQWxsQ2hpbGROb2RlcyhwYXJlbnQpO1xuICAgIH1cblxuICAgIGlmIChlbCAmJiBwYXJlbnQuaWQgJiYgcGFyZW50LmlkID09PSBlbC5pZCAmJiBwYXJlbnQucGFyZW50RWxlbWVudCkge1xuICAgICAgcGFyZW50LnBhcmVudEVsZW1lbnQucmVwbGFjZUNoaWxkKGVsLCBwYXJlbnQpO1xuICAgIH0gZWxzZSB7XG4gICAgICBpZiAoQXJyYXkuaXNBcnJheShlbCkpIHtcbiAgICAgICAgZWwubWFwKChjKSA9PiBhcHBlbmRDaGlsZHJlbihwYXJlbnQsIHJlbmRlckVsZW1lbnQoYykpKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGFwcGVuZENoaWxkcmVuKHBhcmVudCwgcmVuZGVyRWxlbWVudChlbCkpO1xuICAgICAgfVxuICAgIH1cbiAgICBpZiAocGFyZW50LnNzcikgcmV0dXJuIHBhcmVudC5zc3I7XG4gICAgcmV0dXJuIHBhcmVudDtcbiAgfSBlbHNlIHtcbiAgICBpZiAodHlwZW9mIGlzU1NSID09PSBcImJvb2xlYW5cIiAmJiBpc1NTUiAmJiAhQXJyYXkuaXNBcnJheShlbCkpIHJldHVybiBbZWxdO1xuICAgIHJldHVybiBlbDtcbiAgfVxufVxuXG5leHBvcnQgZnVuY3Rpb24gcmVtb3ZlQWxsQ2hpbGROb2RlcyhlbDogSFRNTEVsZW1lbnQpIHtcbiAgd2hpbGUgKGVsLmZpcnN0Q2hpbGQpIHtcbiAgICBlbC5yZW1vdmVDaGlsZChlbC5maXJzdENoaWxkKTtcbiAgfVxufVxuIiwiaW1wb3J0IHsgbmV4dFRpY2ssIHN0clRvSGFzaCB9IGZyb20gXCIuLi91dGlsc1wiO1xuXG5leHBvcnQgZnVuY3Rpb24gcmVuZGVyRWxlbWVudChjbXA6IGFueSk6IGFueSB7XG4gIGlmIChbXCJ1bmRlZmluZWRcIiB8fCBcIm9iamVjdFwiXS5pbmNsdWRlcyh0eXBlb2YgY21wKSkge1xuICAgIHJldHVybiBbXTtcbiAgfVxuICBpZiAoY21wID09IG51bGwpIHtcbiAgICByZXR1cm4gW107XG4gIH1cblxuICBpZiAodHlwZW9mIGNtcCA9PT0gXCJzdHJpbmdcIikge1xuICAgIHJldHVybiBjbXA7XG4gIH1cblxuICBpZiAodHlwZW9mIGNtcCA9PT0gXCJudW1iZXJcIikge1xuICAgIHJldHVybiBcIlwiICsgY21wO1xuICB9XG5cbiAgaWYgKGNtcD8udGFnTmFtZSAmJiBjbXAudGFnTmFtZS50b0xvd2VyQ2FzZSgpID09PSBcInN2Z1wiKSB7XG4gICAgcmV0dXJuIFNWRyh7IGNoaWxkcmVuOiBbY21wXSB9KTtcbiAgfVxuXG4gIGlmIChjbXA/LnRhZ05hbWUpIHtcbiAgICByZXR1cm4gY21wO1xuICB9XG5cbiAgaWYgKFxuICAgIGNtcCAmJlxuICAgIGNtcC5jb21wb25lbnQgJiZcbiAgICBjbXAuY29tcG9uZW50LnByb3RvdHlwZSAmJlxuICAgIGNtcC5jb21wb25lbnQucHJvdG90eXBlLmNvbnN0cnVjdG9yICYmXG4gICAgL15jbGFzc1xccy8udGVzdChGdW5jdGlvbi5wcm90b3R5cGUudG9TdHJpbmcuY2FsbChjbXAuY29tcG9uZW50KSlcbiAgKSB7XG4gICAgcmV0dXJuIHJlbmRlckNsYXNzQ29tcG9uZW50KGNtcCk7XG4gIH1cblxuICBpZiAoY21wLmNvbXBvbmVudCAmJiB0eXBlb2YgY21wLmNvbXBvbmVudCA9PT0gXCJmdW5jdGlvblwiKSB7XG4gICAgcmV0dXJuIHJlbmRlckZ1bmN0aW9uYWxDb21wb25lbnQoY21wKTtcbiAgfVxuXG4gIGlmIChBcnJheS5pc0FycmF5KGNtcCkpIHtcbiAgICByZXR1cm4gY21wLm1hcCgoYykgPT4gcmVuZGVyRWxlbWVudChjKSkuZmxhdCgpO1xuICB9XG5cbiAgaWYgKHR5cGVvZiBjbXAgPT09IFwiZnVuY3Rpb25cIikgcmV0dXJuIHJlbmRlckVsZW1lbnQoY21wKCkpO1xuXG4gIGlmIChjbXA/LmNvbXBvbmVudD8udGFnTmFtZSAmJiB0eXBlb2YgY21wLmNvbXBvbmVudC50YWdOYW1lID09PSBcInN0cmluZ1wiKVxuICAgIHJldHVybiByZW5kZXJFbGVtZW50KGNtcC5jb21wb25lbnQpO1xuXG4gIGlmIChBcnJheS5pc0FycmF5KGNtcC5jb21wb25lbnQpKSByZXR1cm4gcmVuZGVyRWxlbWVudChjbXAuY29tcG9uZW50KTtcblxuICBpZiAoY21wLmNvbXBvbmVudCkgcmV0dXJuIHJlbmRlckVsZW1lbnQoY21wLmNvbXBvbmVudCk7XG59XG5cbmZ1bmN0aW9uIHJlbmRlckZ1bmN0aW9uYWxDb21wb25lbnQoY21wOiBhbnkpIHtcbiAgY29uc3QgeyBjb21wb25lbnQsIHByb3BzIH0gPSBjbXA7XG4gIGNvbnN0IGVsID0gY29tcG9uZW50KHByb3BzKTtcbiAgcmV0dXJuIHJlbmRlckVsZW1lbnQoZWwpO1xufVxuXG5mdW5jdGlvbiByZW5kZXJDbGFzc0NvbXBvbmVudChjbXA6IGFueSkge1xuICBjb25zdCB7IGNvbXBvbmVudCwgcHJvcHMgfSA9IGNtcDtcblxuICBjb25zdCBoYXNoID0gc3RyVG9IYXNoKGNvbXBvbmVudC50b1N0cmluZygpKTtcblxuICBjb21wb25lbnQucHJvdG90eXBlLl9nZXRIYXNoID0gKCkgPT4gaGFzaDtcblxuICBjb25zdCBDb21wb25lbnQgPSBuZXcgY29tcG9uZW50KHByb3BzKTtcblxuICBDb21wb25lbnQuYmVmb3JlTW91bnQoKTtcblxuICBsZXQgZWwgPSBDb21wb25lbnQucmVuZGVyKCk7XG4gIGVsID0gcmVuZGVyRWxlbWVudChlbCk7XG5cbiAgQ29tcG9uZW50LmVsZW1lbnRzID0gZWw7XG5cbiAgaWYgKHByb3BzPy5yZWYpIHByb3BzLnJlZihDb21wb25lbnQpO1xuICBpZiAodHlwZW9mIGlzU1NSID09PSBcInVuZGVmaW5lZFwiKSB7XG4gICAgbmV4dFRpY2soKCkgPT4ge1xuICAgICAgQ29tcG9uZW50Ll9tb3VudCgpO1xuICAgIH0pO1xuICB9XG4gIHJldHVybiBlbDtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGhOUyh0YWc6IHN0cmluZykge1xuICByZXR1cm4gZG9jdW1lbnQuY3JlYXRlRWxlbWVudE5TKFxuICAgIFwiaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmdcIixcbiAgICB0YWcsXG4gICkgYXMgU1ZHRWxlbWVudDtcbn1cblxuZnVuY3Rpb24gU1ZHKHByb3BzOiBhbnkpIHtcbiAgY29uc3QgY2hpbGQgPSBwcm9wcy5jaGlsZHJlblswXSBhcyBTVkdFbGVtZW50O1xuICBjb25zdCBhdHRycyA9IGNoaWxkLmF0dHJpYnV0ZXM7XG5cbiAgY29uc3Qgc3ZnID0gaE5TKFwic3ZnXCIpIGFzIFNWR0VsZW1lbnQ7XG5cbiAgZm9yIChjb25zdCBhdHRyIG9mIGF0dHJzKSB7XG4gICAgc3ZnLnNldEF0dHJpYnV0ZShhdHRyLm5hbWUsIGF0dHIudmFsdWUpO1xuICB9XG5cbiAgc3ZnLmlubmVySFRNTCA9IGNoaWxkLmlubmVySFRNTDtcblxuICByZXR1cm4gc3ZnO1xufVxuIiwiZXhwb3J0IGNvbnN0IF9zdGF0ZSA9IG5ldyBNYXAoKTtcblxuZXhwb3J0IGZ1bmN0aW9uIF9jbGVhclN0YXRlKCkge1xuICBfc3RhdGUuY2xlYXIoKTtcbn1cbiIsImV4cG9ydCBjbGFzcyBTdG9yZSB7XG4gIHByaXZhdGUgX3N0YXRlOiBhbnk7XG4gIHByaXZhdGUgX3ByZXZTdGF0ZTogYW55O1xuICBwcml2YXRlIF9saXN0ZW5lcnM6IE1hcDxzdHJpbmcsIEZ1bmN0aW9uPiA9IG5ldyBNYXAoKTtcbiAgcHJpdmF0ZSBfc3RvcmFnZTogXCJtZW1vcnlcIiB8IFwibG9jYWxcIiB8IFwic2Vzc2lvblwiO1xuICBwcml2YXRlIF9pZDogc3RyaW5nO1xuXG4gIGNvbnN0cnVjdG9yKFxuICAgIGRlZmF1bHRTdGF0ZTogYW55LFxuICAgIG5hbWU6IHN0cmluZyA9IFwiXCIsXG4gICAgc3RvcmFnZTogXCJtZW1vcnlcIiB8IFwibG9jYWxcIiB8IFwic2Vzc2lvblwiID0gXCJtZW1vcnlcIixcbiAgKSB7XG4gICAgaWYgKGlzU1NSKSB7XG4gICAgICBzdG9yYWdlID0gXCJtZW1vcnlcIjtcbiAgICB9XG5cbiAgICB0aGlzLl9pZCA9IG5hbWU7XG4gICAgdGhpcy5fc3RvcmFnZSA9IHN0b3JhZ2U7XG5cbiAgICB0aGlzLl9zdGF0ZSA9IHRoaXMuX3ByZXZTdGF0ZSA9IGRlZmF1bHRTdGF0ZTtcblxuICAgIGlmICghdGhpcy5fc3RvcmFnZSB8fCB0aGlzLl9zdG9yYWdlID09PSBcIm1lbW9yeVwiKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgY29uc3QgU3RvcmFnZSA9IHN0b3JhZ2UgPT09IFwibG9jYWxcIiA/IGxvY2FsU3RvcmFnZSA6IHNlc3Npb25TdG9yYWdlO1xuXG4gICAgY29uc3QgaXRlbSA9IFN0b3JhZ2UuZ2V0SXRlbSh0aGlzLl9pZCk7XG4gICAgaWYgKGl0ZW0pIHtcbiAgICAgIHRoaXMuX3N0YXRlID0gdGhpcy5fcHJldlN0YXRlID0gSlNPTi5wYXJzZShpdGVtKTtcbiAgICB9IGVsc2Uge1xuICAgICAgU3RvcmFnZS5zZXRJdGVtKHRoaXMuX2lkLCBKU09OLnN0cmluZ2lmeShkZWZhdWx0U3RhdGUpKTtcbiAgICB9XG4gIH1cblxuICBwcml2YXRlIHBlcnNpc3Qoc3RhdGU6IGFueSkge1xuICAgIGlmICh0aGlzLl9zdG9yYWdlID09PSBcIm1lbW9yeVwiKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIGNvbnN0IFN0b3JhZ2UgPSB0aGlzLl9zdG9yYWdlID09PSBcImxvY2FsXCIgPyBsb2NhbFN0b3JhZ2UgOiBzZXNzaW9uU3RvcmFnZTtcbiAgICBTdG9yYWdlLnNldEl0ZW0odGhpcy5faWQsIEpTT04uc3RyaW5naWZ5KHN0YXRlKSk7XG4gIH1cblxuICBwdWJsaWMgY2xlYXIoKSB7XG4gICAgdGhpcy5fc3RhdGUgPSB0aGlzLl9wcmV2U3RhdGUgPSB1bmRlZmluZWQ7XG4gICAgY29uc3QgU3RvcmFnZSA9IHRoaXMuX3N0b3JhZ2UgPT09IFwibG9jYWxcIiA/IGxvY2FsU3RvcmFnZSA6IHNlc3Npb25TdG9yYWdlO1xuICAgIFN0b3JhZ2UucmVtb3ZlSXRlbSh0aGlzLl9pZCk7XG4gIH1cblxuICBwdWJsaWMgc2V0IHN0YXRlKHN0YXRlOiBhbnkpIHtcbiAgICB0aGlzLl9wcmV2U3RhdGUgPSB0aGlzLl9zdGF0ZTtcbiAgICB0aGlzLl9zdGF0ZSA9IHN0YXRlO1xuXG4gICAgdGhpcy5wZXJzaXN0KHN0YXRlKTtcblxuICAgIHRoaXMuX2xpc3RlbmVycy5mb3JFYWNoKChmdW5jKSA9PiB7XG4gICAgICBmdW5jKHRoaXMuX3N0YXRlLCB0aGlzLl9wcmV2U3RhdGUpO1xuICAgIH0pO1xuICB9XG5cbiAgcHVibGljIGdldCBzdGF0ZSgpIHtcbiAgICByZXR1cm4gdGhpcy5fc3RhdGU7XG4gIH1cblxuICBwdWJsaWMgc2V0U3RhdGUoc3RhdGU6IGFueSkge1xuICAgIHRoaXMuc3RhdGUgPSBzdGF0ZTtcbiAgfVxuXG4gIHB1YmxpYyB1c2UoKSB7XG4gICAgY29uc3QgaWQgPSBNYXRoLnJhbmRvbSgpLnRvU3RyaW5nKDM2KS5zdWJzdHIoMiwgOSk7XG4gICAgY29uc3QgX3RoaXMgPSB0aGlzO1xuICAgIHJldHVybiB7XG4gICAgICBnZXQgc3RhdGUoKSB7XG4gICAgICAgIHJldHVybiBfdGhpcy5zdGF0ZTtcbiAgICAgIH0sXG4gICAgICBzZXRTdGF0ZShzdGF0ZTogYW55KSB7XG4gICAgICAgIF90aGlzLnNldFN0YXRlKHN0YXRlKTtcbiAgICAgIH0sXG4gICAgICBzdWJzY3JpYmUoZnVuYzogKG5ld1N0YXRlOiBhbnksIHByZXZTdGF0ZTogYW55KSA9PiB2b2lkKSB7XG4gICAgICAgIF90aGlzLl9saXN0ZW5lcnMuc2V0KGlkLCBmdW5jKTtcbiAgICAgIH0sXG4gICAgICBjYW5jZWwoKSB7XG4gICAgICAgIF90aGlzLl9saXN0ZW5lcnMuZGVsZXRlKGlkKTtcbiAgICAgIH0sXG4gICAgfTtcbiAgfVxufVxuIiwiaW1wb3J0IHsgSGVsbWV0IH0gZnJvbSBcIi4uL2NvbXBvbmVudHNcIjtcbmltcG9ydCB7IENvbXBvbmVudCwgaCwgRnJhZ21lbnQgfSBmcm9tIFwiLlwiO1xuXG5leHBvcnQgZnVuY3Rpb24gd2l0aFN0eWxlcyhzdHlsZXM6IGFueSk6IGFueSB7XG4gIHJldHVybiBmdW5jdGlvbiAoV3JhcHBlZENvbXBvbmVudDogYW55KSB7XG4gICAgcmV0dXJuIGNsYXNzIGV4dGVuZHMgQ29tcG9uZW50IHtcbiAgICAgIHJlbmRlcigpIHtcbiAgICAgICAgY29uc3QgeyBjaGlsZHJlbiwgLi4ucmVzdCB9ID0gdGhpcy5wcm9wcztcblxuICAgICAgICBjb25zdCBoZWxtZXQgPSBoKEhlbG1ldCwgbnVsbCwgaChcInN0eWxlXCIsIG51bGwsIHN0eWxlcy50b1N0cmluZygpKSk7XG5cbiAgICAgICAgY29uc3QgY29tcG9uZW50ID0gY2hpbGRyZW4ubGVuZ3RoXG4gICAgICAgICAgPyBoKFdyYXBwZWRDb21wb25lbnQsIHsgLi4ucmVzdCB9LCBjaGlsZHJlbilcbiAgICAgICAgICA6IGgoV3JhcHBlZENvbXBvbmVudCwgeyAuLi50aGlzLnByb3BzIH0pO1xuXG4gICAgICAgIHJldHVybiBoKEZyYWdtZW50LCBudWxsLCBoZWxtZXQsIGNvbXBvbmVudCk7XG4gICAgICB9XG4gICAgfTtcbiAgfTtcbn1cbiIsImV4cG9ydCB7IG5leHRUaWNrIH0gZnJvbSBcIi4vdXRpbHNcIjtcbmV4cG9ydCB7IHJlbmRlclRvU3RyaW5nIH0gZnJvbSBcIi4vc3NyXCI7XG5leHBvcnQge1xuICBoLFxuICByZW5kZXIsXG4gIGh5ZHJhdGUsXG4gIEZyYWdtZW50LFxuICBDb21wb25lbnQsXG4gIHdpdGhTdHlsZXMsXG4gIGNyZWF0ZUNvbnRleHQsXG4gIGxhenlIeWRyYXRpb24sXG4gIFN0b3JlLFxufSBmcm9tIFwiLi9jb3JlXCI7XG5leHBvcnQge1xuICBTdXNwZW5zZSxcbiAgTGluayxcbiAgU3dpdGNoLFxuICBSb3V0ZSxcbiAgVmlyYUxpbmssXG4gIEltZyxcbiAgSGVsbWV0LFxuICBWaXNpYmxlLFxufSBmcm9tIFwiLi9jb21wb25lbnRzXCI7XG5cbmltcG9ydCB7IGgsIHJlbmRlciwgaHlkcmF0ZSwgbGF6eUh5ZHJhdGlvbiwgRnJhZ21lbnQgfSBmcm9tIFwiLi9jb3JlXCI7XG5pbXBvcnQgeyByZW5kZXJUb1N0cmluZyB9IGZyb20gXCIuL3NzclwiO1xuZXhwb3J0IGRlZmF1bHQge1xuICByZW5kZXIsXG4gIGh5ZHJhdGUsXG4gIGgsXG4gIGxhenlIeWRyYXRpb24sXG4gIHJlbmRlclRvU3RyaW5nLFxuICBGcmFnbWVudCxcbn07XG4iLCJpbXBvcnQgeyBIVE1MRWxlbWVudFNTUiB9IGZyb20gXCIuXCI7XG5cbmV4cG9ydCBjbGFzcyBEb2N1bWVudFNTUiB7XG4gIGJvZHk6IEhUTUxFbGVtZW50U1NSO1xuICBoZWFkOiBIVE1MRWxlbWVudFNTUjtcblxuICBjb25zdHJ1Y3RvcigpIHtcbiAgICB0aGlzLmJvZHkgPSB0aGlzLmNyZWF0ZUVsZW1lbnQoXCJib2R5XCIpO1xuICAgIHRoaXMuaGVhZCA9IHRoaXMuY3JlYXRlRWxlbWVudChcImhlYWRcIik7XG4gIH1cblxuICBjcmVhdGVFbGVtZW50KHRhZzogc3RyaW5nKSB7XG4gICAgcmV0dXJuIG5ldyBIVE1MRWxlbWVudFNTUih0YWcpO1xuICB9XG5cbiAgY3JlYXRlRWxlbWVudE5TKF9VUkk6IHN0cmluZywgdGFnOiBzdHJpbmcpIHtcbiAgICByZXR1cm4gbmV3IEhUTUxFbGVtZW50U1NSKHRhZyk7XG4gIH1cblxuICBjcmVhdGVUZXh0Tm9kZSh0ZXh0OiBzdHJpbmcpIHtcbiAgICByZXR1cm4gdGV4dDtcbiAgfVxuXG4gIHF1ZXJ5U2VsZWN0b3IoX3F1ZXJ5OiBhbnkpIHtcbiAgICByZXR1cm4gdW5kZWZpbmVkO1xuICB9XG59XG4iLCJleHBvcnQgY2xhc3MgSFRNTEVsZW1lbnRTU1Ige1xuICBzc3I6IHN0cmluZztcbiAgc2VsZkNsb3Npbmc6IGJvb2xlYW47XG4gIHRhZ05hbWU6IHN0cmluZztcblxuICBjb25zdHJ1Y3Rvcih0YWc6IHN0cmluZykge1xuICAgIHRoaXMudGFnTmFtZSA9IHRhZztcbiAgICBjb25zdCBzZWxmQ2xvc2luZyA9IFtcbiAgICAgIFwiYXJlYVwiLFxuICAgICAgXCJiYXNlXCIsXG4gICAgICBcImJyXCIsXG4gICAgICBcImNvbFwiLFxuICAgICAgXCJlbWJlZFwiLFxuICAgICAgXCJoclwiLFxuICAgICAgXCJpbWdcIixcbiAgICAgIFwiaW5wdXRcIixcbiAgICAgIFwibGlua1wiLFxuICAgICAgXCJtZXRhXCIsXG4gICAgICBcInBhcmFtXCIsXG4gICAgICBcInNvdXJjZVwiLFxuICAgICAgXCJ0cmFja1wiLFxuICAgICAgXCJ3YnJcIixcbiAgICBdO1xuXG4gICAgaWYgKHNlbGZDbG9zaW5nLmluZGV4T2YodGFnKSA+PSAwKSB7XG4gICAgICB0aGlzLnNzciA9IGA8JHt0YWd9IC8+YDtcbiAgICAgIHRoaXMuc2VsZkNsb3NpbmcgPSB0cnVlO1xuICAgIH0gZWxzZSB7XG4gICAgICB0aGlzLnNzciA9IGA8JHt0YWd9PjwvJHt0YWd9PmA7XG4gICAgfVxuICB9XG5cbiAgZ2V0IG91dGVySFRNTCgpIHtcbiAgICByZXR1cm4gdGhpcy5pbm5lclRleHQ7XG4gIH1cblxuICBnZXQgaW5uZXJIVE1MKCkge1xuICAgIGNvbnN0IHJlZyA9IC8oXjxbYS16XSs+KShbXFxzXFxTXSopKDxcXC9bYS16XSs+JCkvZ207XG4gICAgcmV0dXJuIHJlZy5leGVjKHRoaXMuc3NyKT8uWzJdID8/IFwiXCI7XG4gIH1cblxuICBnZXQgaW5uZXJUZXh0KCkge1xuICAgIGNvbnN0IHJlZyA9IC8oXjxbXj5dKz4pKC4rKT8oPFxcL1thLXpdKz4kfFxcLz4kKS9nbTtcbiAgICByZXR1cm4gcmVnLmV4ZWModGhpcy5zc3IpPy5bMl0gPz8gXCJcIjtcbiAgfVxuXG4gIHNldCBpbm5lclRleHQodGV4dCkge1xuICAgIGNvbnN0IHJlZyA9IC8oXjxbXj5dKz4pKC4rKT8oPFxcL1thLXpdKz4kfFxcLz4kKS9nbTtcbiAgICB0aGlzLnNzciA9IHRoaXMuc3NyLnJlcGxhY2UocmVnLCBgJDEke3RleHR9JDNgKTtcbiAgfVxuXG4gIGdldCBhdHRyaWJ1dGVzKCkge1xuICAgIHJldHVybiB7IGxlbmd0aDogMSB9O1xuICB9XG5cbiAgZ2V0IGNoaWxkcmVuKCkge1xuICAgIGNvbnN0IHJlZyA9IC88KFthLXpdKykoKD8hPFxcL1xcMSkuKSo8XFwvXFwxPi9nbXM7XG5cbiAgICBjb25zdCBhcnJheSA9IFtdO1xuXG4gICAgbGV0IG1hdGNoO1xuXG4gICAgd2hpbGUgKChtYXRjaCA9IHJlZy5leGVjKHRoaXMuaW5uZXJIVE1MKSkgIT09IG51bGwpIHtcbiAgICAgIGFycmF5LnB1c2gobWF0Y2hbMF0ucmVwbGFjZSgvW1xcc10rL2dtLCBcIiBcIikpO1xuICAgIH1cblxuICAgIHJldHVybiBhcnJheTtcbiAgfVxuICBzZXRBdHRyaWJ1dGVOUyhuYW1lOiBzdHJpbmcsIHZhbHVlOiBhbnkpIHtcbiAgICB0aGlzLnNldEF0dHJpYnV0ZShuYW1lLCB2YWx1ZSk7XG4gIH1cblxuICBzZXRBdHRyaWJ1dGUobmFtZTogc3RyaW5nLCB2YWx1ZTogYW55KSB7XG4gICAgaWYgKHRoaXMuc2VsZkNsb3NpbmcpXG4gICAgICB0aGlzLnNzciA9IHRoaXMuc3NyLnJlcGxhY2UoXG4gICAgICAgIC8oXjxbYS16XSsgKSguKykvZ20sXG4gICAgICAgIGAkMSR7bmFtZX09XCIke3ZhbHVlfVwiICQyYCxcbiAgICAgICk7XG4gICAgZWxzZVxuICAgICAgdGhpcy5zc3IgPSB0aGlzLnNzci5yZXBsYWNlKC8oXjxbXj5dKykoLispL2dtLCBgJDEgJHtuYW1lfT1cIiR7dmFsdWV9XCIkMmApO1xuICB9XG5cbiAgYXBwZW5kQ2hpbGQoY2hpbGQ6IGFueSkge1xuICAgIGNvbnN0IGFwcGVuZCA9IGNoaWxkLnNzciA/IGNoaWxkLnNzciA6IGNoaWxkO1xuXG4gICAgY29uc3QgaW5kZXggPSB0aGlzLnNzci5sYXN0SW5kZXhPZihcIjwvXCIpO1xuXG4gICAgdGhpcy5zc3IgPVxuICAgICAgdGhpcy5zc3Iuc3Vic3RyaW5nKDAsIGluZGV4KSArIGFwcGVuZCArIHRoaXMuc3NyLnN1YnN0cmluZyhpbmRleCk7XG4gIH1cblxuICByZXBsYWNlQ2hpbGQobmV3Q2hpbGQ6IGFueSwgX29sZENoaWxkPzogYW55KSB7XG4gICAgdGhpcy5pbm5lclRleHQgPSBuZXdDaGlsZC5zc3I7XG4gIH1cblxuICBhZGRFdmVudExpc3RlbmVyKF90eXBlOiBhbnksIF9saXN0ZW5lcjogYW55LCBfb3B0aW9ucz86IGFueSkge31cbn1cbiIsImV4cG9ydCB7IHJlbmRlclRvU3RyaW5nIH0gZnJvbSBcIi4vcmVuZGVyVG9TdHJpbmdcIjtcbmV4cG9ydCB7IERvY3VtZW50U1NSIH0gZnJvbSBcIi4vZG9jdW1lbnRcIjtcbmV4cG9ydCB7IEhUTUxFbGVtZW50U1NSIH0gZnJvbSBcIi4vZWxlbWVudHNcIjtcbiIsImltcG9ydCB7IERvY3VtZW50U1NSIH0gZnJvbSBcIi5cIjtcbmltcG9ydCB7IHJlbmRlciwgX3N0YXRlIH0gZnJvbSBcIi4uL2NvcmVcIjtcbmltcG9ydCB7IGRldGVjdFNTUiB9IGZyb20gXCIuLi91dGlsc1wiO1xuXG5nbG9iYWxUaGlzLmlzU1NSID0gZGV0ZWN0U1NSKCkgPT09IHRydWUgPyB0cnVlIDogdW5kZWZpbmVkO1xuZ2xvYmFsVGhpcy5fbmFubyA9IHsgaXNTU1IsIGxvY2F0aW9uOiB7IHBhdGhuYW1lOiBcIi9cIiB9IH07XG5cbmV4cG9ydCBmdW5jdGlvbiBpbml0U1NSKHBhdGhuYW1lOiBzdHJpbmcgPSBcIi9cIikge1xuICBfbmFuby5sb2NhdGlvbiA9IHsgcGF0aG5hbWUgfTtcbiAgLy8gQHRzLWlnbm9yZVxuICBnbG9iYWxUaGlzLmRvY3VtZW50ID0gaXNTU1IgPyBuZXcgRG9jdW1lbnRTU1IoKSA6IHdpbmRvdy5kb2N1bWVudDtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIHJlbmRlclRvU3RyaW5nKFxuICBjb21wb25lbnQ6IGFueSxcbiAgb3B0aW9uczogeyBwYXRobmFtZT86IHN0cmluZzsgY2xlYXJTdGF0ZT86IGJvb2xlYW4gfSA9IHt9LFxuKSB7XG4gIGNvbnN0IHsgcGF0aG5hbWUsIGNsZWFyU3RhdGUgPSB0cnVlIH0gPSBvcHRpb25zO1xuXG4gIGluaXRTU1IocGF0aG5hbWUpO1xuICBpZiAoY2xlYXJTdGF0ZSkgX3N0YXRlLmNsZWFyKCk7XG5cbiAgcmV0dXJuIHJlbmRlcihjb21wb25lbnQsIG51bGwsIHRydWUpLmpvaW4oXCJcIikgYXMgc3RyaW5nO1xufVxuIiwiaW1wb3J0IHsgaCB9IGZyb20gXCIuXCI7XG5cbmV4cG9ydCBjb25zdCBuZXh0VGljayA9XG4gIHR5cGVvZiBQcm9taXNlID09PSBcImZ1bmN0aW9uXCJcbiAgICA/IFByb21pc2UucHJvdG90eXBlLnRoZW4uYmluZChQcm9taXNlLnJlc29sdmUoKSlcbiAgICA6IHNldFRpbWVvdXQ7XG5cbmV4cG9ydCBmdW5jdGlvbiBpc0V2ZW50KGVsOiBhbnksIHByb3A6IHN0cmluZykge1xuICBpZiAocHJvcC5pbmRleE9mKFwib25cIikgIT09IDApIHtcbiAgICByZXR1cm4gZmFsc2U7XG4gIH1cbiAgaWYgKGVsLnNzcikgcmV0dXJuIHRydWU7XG4gIHJldHVybiBbXCJmdW5jdGlvblwiLCBcIm9iamVjdFwiXS5pbmNsdWRlcyh0eXBlb2YgZWxbcHJvcF0pO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gZGV0ZWN0U1NSKCkge1xuICByZXR1cm4gKFxuICAgIC8vQHRzLWlnbm9yZVxuICAgIHR5cGVvZiBEZW5vICE9PSBcInVuZGVmaW5lZFwiIHx8ICh0eXBlb2Ygd2luZG93ID09PSBcInVuZGVmaW5lZFwiICYmIGlzU1NSKVxuICApO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gc3RyVG9IYXNoKHN0cjogc3RyaW5nKSB7XG4gIGxldCBoYXNoID0gMDtcblxuICBpZiAoIXN0ci5sZW5ndGgpIHJldHVybiBoYXNoO1xuICBmb3IgKGxldCBpID0gMDsgaSA8IHN0ci5sZW5ndGg7IGkrKykge1xuICAgIGNvbnN0IGNoYXIgPSBzdHIuY2hhckNvZGVBdChpKTtcbiAgICBoYXNoID0gKGhhc2ggPDwgNSkgLSBoYXNoICsgY2hhcjtcbiAgICBoYXNoIHw9IDA7XG4gIH1cbiAgcmV0dXJuIE1hdGguYWJzKGhhc2gpLnRvU3RyaW5nKDMyKTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGlzRGVzY2VuZGFudChkZXNjZW5kYW50OiBhbnksIHJvb3Q6IGFueSk6IGJvb2xlYW4ge1xuICByZXR1cm4gKFxuICAgIGRlc2NlbmRhbnQgJiZcbiAgICAoZGVzY2VuZGFudCA9PT0gcm9vdCB8fCBpc0Rlc2NlbmRhbnQoZGVzY2VuZGFudC5wYXJlbnROb2RlLCByb290KSlcbiAgKTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIG9uTm9kZVJlbW92ZShlbDogSFRNTEVsZW1lbnQsIGNhbGxiYWNrOiAoKSA9PiBhbnkpIHtcbiAgbGV0IG9ic2VydmVyID0gbmV3IE11dGF0aW9uT2JzZXJ2ZXIoKG11dExpc3QpID0+IHtcbiAgICBmb3IgKGNvbnN0IG11dCBvZiBtdXRMaXN0KSB7XG4gICAgICBtdXQucmVtb3ZlZE5vZGVzLmZvckVhY2goKHJlbW92ZWROb2RlKSA9PiB7XG4gICAgICAgIGlmIChpc0Rlc2NlbmRhbnQoZWwsIHJlbW92ZWROb2RlKSkge1xuICAgICAgICAgIGNhbGxiYWNrKCk7XG4gICAgICAgICAgaWYgKG9ic2VydmVyKSB7XG4gICAgICAgICAgICBvYnNlcnZlci5kaXNjb25uZWN0KCk7XG4gICAgICAgICAgICAvLyBAdHMtaWdub3JlXG4gICAgICAgICAgICBvYnNlcnZlciA9IHVuZGVmaW5lZDtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgIH1cbiAgfSk7XG4gIG9ic2VydmVyLm9ic2VydmUoZG9jdW1lbnQsIHtcbiAgICBjaGlsZExpc3Q6IHRydWUsXG4gICAgc3VidHJlZTogdHJ1ZSxcbiAgfSk7XG4gIHJldHVybiBvYnNlcnZlcjtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIHRhc2soZnVuYzogKCkgPT4gdm9pZCkge1xuICByZXR1cm4gc2V0VGltZW91dChmdW5jLCAwKTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIG5vZGVUb1N0cmluZyhub2RlOiBhbnkpIHtcbiAgY29uc3QgdGVtcCA9IGRvY3VtZW50LmNyZWF0ZURvY3VtZW50RnJhZ21lbnQoKTtcbiAgdGVtcC5hcHBlbmRDaGlsZChub2RlLmNsb25lTm9kZSh0cnVlKSk7XG4gIHJldHVybiB0ZW1wLnRvU3RyaW5nKCk7XG59XG5cbmV4cG9ydCBjb25zdCBhZGRTdHlsZXNUb0hlYWQgPSAoc3R5bGVzOiBzdHJpbmcsIGhhc2g6IHN0cmluZykgPT4ge1xuICBjb25zdCBlbCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoYFtkYXRhLWNzcy1oYXNoKj1cIiR7aGFzaH1cIl1gKTtcbiAgaWYgKCFlbCkge1xuICAgIGNvbnN0IHN0eWxlRWxlbWVudCA9IGgoXCJzdHlsZVwiLCB7IFwiZGF0YS1jc3MtaGFzaFwiOiBoYXNoIH0sIHN0eWxlcyk7XG4gICAgZG9jdW1lbnQuaGVhZC5hcHBlbmRDaGlsZChzdHlsZUVsZW1lbnQpO1xuICB9XG59O1xuIiwiLy8gVGhlIG1vZHVsZSBjYWNoZVxudmFyIF9fd2VicGFja19tb2R1bGVfY2FjaGVfXyA9IHt9O1xuXG4vLyBUaGUgcmVxdWlyZSBmdW5jdGlvblxuZnVuY3Rpb24gX193ZWJwYWNrX3JlcXVpcmVfXyhtb2R1bGVJZCkge1xuXHQvLyBDaGVjayBpZiBtb2R1bGUgaXMgaW4gY2FjaGVcblx0dmFyIGNhY2hlZE1vZHVsZSA9IF9fd2VicGFja19tb2R1bGVfY2FjaGVfX1ttb2R1bGVJZF07XG5cdGlmIChjYWNoZWRNb2R1bGUgIT09IHVuZGVmaW5lZCkge1xuXHRcdHJldHVybiBjYWNoZWRNb2R1bGUuZXhwb3J0cztcblx0fVxuXHQvLyBDcmVhdGUgYSBuZXcgbW9kdWxlIChhbmQgcHV0IGl0IGludG8gdGhlIGNhY2hlKVxuXHR2YXIgbW9kdWxlID0gX193ZWJwYWNrX21vZHVsZV9jYWNoZV9fW21vZHVsZUlkXSA9IHtcblx0XHQvLyBubyBtb2R1bGUuaWQgbmVlZGVkXG5cdFx0Ly8gbm8gbW9kdWxlLmxvYWRlZCBuZWVkZWRcblx0XHRleHBvcnRzOiB7fVxuXHR9O1xuXG5cdC8vIEV4ZWN1dGUgdGhlIG1vZHVsZSBmdW5jdGlvblxuXHRfX3dlYnBhY2tfbW9kdWxlc19fW21vZHVsZUlkXS5jYWxsKG1vZHVsZS5leHBvcnRzLCBtb2R1bGUsIG1vZHVsZS5leHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKTtcblxuXHQvLyBSZXR1cm4gdGhlIGV4cG9ydHMgb2YgdGhlIG1vZHVsZVxuXHRyZXR1cm4gbW9kdWxlLmV4cG9ydHM7XG59XG5cbiIsImltcG9ydCB7XG4gIFN1c3BlbnNlLFxuICBMaW5rLFxuICBTd2l0Y2gsXG4gIFJvdXRlLFxuICBWaXJhTGluayxcbiAgSW1nLFxuICBIZWxtZXQsXG4gIFZpc2libGUsXG4gIGgsXG4gIG5leHRUaWNrLFxuICByZW5kZXIsXG4gIGh5ZHJhdGUsXG4gIHJlbmRlclRvU3RyaW5nLFxuICBGcmFnbWVudCxcbiAgQ29tcG9uZW50LFxuICB3aXRoU3R5bGVzLFxuICBjcmVhdGVDb250ZXh0LFxuICBsYXp5SHlkcmF0aW9uLFxuICBTdG9yZSxcbn0gZnJvbSBcIi4uXCI7XG5cbmV4cG9ydCBkZWZhdWx0IHtcbiAgU3VzcGVuc2UsXG4gIExpbmssXG4gIFN3aXRjaCxcbiAgUm91dGUsXG4gIFZpcmFMaW5rLFxuICBJbWcsXG4gIEhlbG1ldCxcbiAgVmlzaWJsZSxcbiAgaCxcbiAgbmV4dFRpY2ssXG4gIHJlbmRlcixcbiAgaHlkcmF0ZSxcbiAgcmVuZGVyVG9TdHJpbmcsXG4gIEZyYWdtZW50LFxuICBDb21wb25lbnQsXG4gIHdpdGhTdHlsZXMsXG4gIGNyZWF0ZUNvbnRleHQsXG4gIGxhenlIeWRyYXRpb24sXG4gIFN0b3JlLFxufTtcbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==
