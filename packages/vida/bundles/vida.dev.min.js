var vida;
/******/ (() => {
  // webpackBootstrap
  /******/ "use strict";
  /******/ var __webpack_modules__ = {
    /***/ "./src/components/helmet.ts":
      /*!**********************************!*\
  !*** ./src/components/helmet.ts ***!
  \**********************************/
      /***/ (__unused_webpack_module, exports, __webpack_require__) => {
        Object.defineProperty(exports, "__esModule", { value: true });
        exports.Helmet = void 0;
        const core_1 = __webpack_require__(
          /*! ../core */ "./src/core/index.ts",
        );
        class Helmet extends core_1.Component {
          static SSR(body) {
            const reg = /(<helmet\b[^>]*>)((.|\n)*?)(<\/helmet>)/gm;
            const head = [];
            const footer = [];
            if (
              document === null || document === void 0 ? void 0 : document.head
            ) {
              let children = document.head.children;
              for (let i = 0; i < children.length; i++) {
                if (head.indexOf(children[i]) === -1) {
                  head.push(children[i]);
                }
              }
            }
            let result;
            while ((result = reg.exec(body)) != null) {
              const first = result[1];
              const second = result[2];
              const toHead = first.includes('data-placement="head"');
              if (toHead && !head.includes(second)) head.push(second);
              else if (!footer.includes(second)) footer.push(second);
            }
            const cleanBody = body.replace(reg, "");
            return {
              body: cleanBody,
              head,
              footer,
            };
          }
          mount() {
            var _a, _b, _c, _d;
            for (const element of this.props.children) {
              const parent = this.props.footer ? document.body : document.head;
              const tag = element.tagName;
              let attrs = [];
              attrs.push(element.innerText);
              for (let i = 0; i < element.attributes.length; i++) {
                attrs.push(
                  (_a = element.attributes.item(i)) === null || _a === void 0
                    ? void 0
                    : _a.name.toLowerCase(),
                );
                attrs.push(
                  (_b = element.attributes.item(i)) === null || _b === void 0
                    ? void 0
                    : _b.value.toLowerCase(),
                );
              }
              if (tag === "HTML" || tag === "BODY") {
                const htmlTag = document.getElementsByTagName(tag)[0];
                for (let i = 1; i < element.attributes.length; i += 2) {
                  htmlTag.setAttribute(attrs[i], attrs[i + 1]);
                }
                return;
              } else if (tag === "TITLE") {
                const titleTag = document.getElementsByTagName(tag);
                if (titleTag.length) {
                  titleTag[0].text = element.text;
                } else {
                  const titleTag = core_1.h("title", null, element.innerHTML);
                  parent.appendChild(titleTag);
                }
                return;
              }
              let exists = false;
              attrs = attrs.sort();
              const el = document.getElementsByTagName(tag);
              for (let i = 0; i < el.length; i++) {
                let attrs2 = [];
                attrs2.push(el[i].innerText);
                for (let j = 0; j < el[i].attributes.length; j++) {
                  attrs2.push(
                    (_c = el[i].attributes.item(j)) === null || _c === void 0
                      ? void 0
                      : _c.name.toLowerCase(),
                  );
                  attrs2.push(
                    (_d = el[i].attributes.item(j)) === null || _d === void 0
                      ? void 0
                      : _d.value.toLowerCase(),
                  );
                }
                attrs2 = attrs2.sort();
                if (
                  attrs.length > 0 &&
                  attrs2.length > 0 &&
                  JSON.stringify(attrs) === JSON.stringify(attrs2)
                )
                  exists = true;
              }
              if (!exists) {
                core_1.appendChildren(parent, element);
              }
            }
          }
          render() {
            if (isSSR) {
              return core_1.h(
                "helmet",
                {
                  "data-ssr": true,
                  "data-placement": this.props.footer ? "footer" : "head",
                },
                this.props.children,
              );
            } else {
              return [];
            }
          }
        }
        exports.Helmet = Helmet;

        /***/
      },

    /***/ "./src/components/img.ts":
      /*!*******************************!*\
  !*** ./src/components/img.ts ***!
  \*******************************/
      /***/ function (__unused_webpack_module, exports, __webpack_require__) {
        var __rest =
          (this && this.__rest) ||
          function (s, e) {
            var t = {};
            for (var p in s)
              if (
                Object.prototype.hasOwnProperty.call(s, p) &&
                e.indexOf(p) < 0
              )
                t[p] = s[p];
            if (s != null && typeof Object.getOwnPropertySymbols === "function")
              for (
                var i = 0, p = Object.getOwnPropertySymbols(s);
                i < p.length;
                i++
              ) {
                if (
                  e.indexOf(p[i]) < 0 &&
                  Object.prototype.propertyIsEnumerable.call(s, p[i])
                )
                  t[p[i]] = s[p[i]];
              }
            return t;
          };
        Object.defineProperty(exports, "__esModule", { value: true });
        exports.Img = void 0;
        const core_1 = __webpack_require__(
          /*! ../core */ "./src/core/index.ts",
        );
        const utils_1 = __webpack_require__(/*! ../utils */ "./src/utils.ts");
        class Img extends core_1.Component {
          constructor(props) {
            super(props);
            const { key, src } = this.props;
            this.id =
              utils_1.strToHash(src) +
              "-" +
              utils_1.strToHash(JSON.stringify(this.props));
            if (key) {
              this.id += `$key-${key}`;
            }
            if (!this.state) {
              this.setState({ image: "", isLoaded: false });
            }
          }
          mount() {
            const _a = this.props,
              { lazy = true, placeholder, key, ref, children } = _a,
              rest = __rest(_a, [
                "lazy",
                "placeholder",
                "key",
                "ref",
                "children",
              ]);
            if (!lazy) return;
            const observer = new IntersectionObserver(
              (entries, observer) => {
                for (const entry of entries) {
                  if (entry.isIntersecting) {
                    observer.disconnect();
                    this.state.image = core_1.h("img", Object.assign({}, rest));
                    if (this.state.image.complete) {
                      this.state.isLoaded = true;
                      this.update();
                    } else {
                      this.state.image.onload = () => {
                        this.state.isLoaded = true;
                        this.update();
                      };
                    }
                  }
                }
              },
              { threshold: [0, 1] },
            );
            observer.observe(this.elements[0]);
          }
          render() {
            const _a = this.props,
              { lazy = true, src, placeholder, key, ref, children } = _a,
              rest = __rest(_a, [
                "lazy",
                "src",
                "placeholder",
                "key",
                "ref",
                "children",
              ]);
            if (!lazy) {
              this.state.image = core_1.h("img", Object.assign({ src }, rest));
              return this.state.image;
            }
            if (this.state.isLoaded) {
              return this.state.image;
            } else if (typeof placeholder === "string") {
              return core_1.h("img", Object.assign({ src: placeholder }, rest));
            } else if (typeof placeholder === "function") {
              return placeholder();
            } else {
              const style = {
                backgroundColor: "lightgray",
                width: "100px",
                height: "100px",
              };
              const { width, height } = rest,
                others = __rest(rest, ["width", "height"]);
              if (width) {
                style.width = width;
              }
              if (height) {
                style.height = height;
              }
              return core_1.h("div", Object.assign({ style }, others));
            }
          }
        }
        exports.Img = Img;

        /***/
      },

    /***/ "./src/components/index.ts":
      /*!*********************************!*\
  !*** ./src/components/index.ts ***!
  \*********************************/
      /***/ (__unused_webpack_module, exports, __webpack_require__) => {
        Object.defineProperty(exports, "__esModule", { value: true });
        exports.VidaLink =
          exports.Switch =
          exports.Route =
          exports.Visible =
          exports.Suspense =
          exports.Link =
          exports.Img =
          exports.Helmet =
            void 0;
        var helmet_1 = __webpack_require__(
          /*! ./helmet */ "./src/components/helmet.ts",
        );
        Object.defineProperty(exports, "Helmet", {
          enumerable: true,
          get: function () {
            return helmet_1.Helmet;
          },
        });
        var img_1 = __webpack_require__(/*! ./img */ "./src/components/img.ts");
        Object.defineProperty(exports, "Img", {
          enumerable: true,
          get: function () {
            return img_1.Img;
          },
        });
        var link_1 = __webpack_require__(
          /*! ./link */ "./src/components/link.ts",
        );
        Object.defineProperty(exports, "Link", {
          enumerable: true,
          get: function () {
            return link_1.Link;
          },
        });
        var suspense_1 = __webpack_require__(
          /*! ./suspense */ "./src/components/suspense.ts",
        );
        Object.defineProperty(exports, "Suspense", {
          enumerable: true,
          get: function () {
            return suspense_1.Suspense;
          },
        });
        var visible_1 = __webpack_require__(
          /*! ./visible */ "./src/components/visible.ts",
        );
        Object.defineProperty(exports, "Visible", {
          enumerable: true,
          get: function () {
            return visible_1.Visible;
          },
        });
        var router_1 = __webpack_require__(
          /*! ./router */ "./src/components/router.ts",
        );
        Object.defineProperty(exports, "Route", {
          enumerable: true,
          get: function () {
            return router_1.Route;
          },
        });
        Object.defineProperty(exports, "Switch", {
          enumerable: true,
          get: function () {
            return router_1.Switch;
          },
        });
        Object.defineProperty(exports, "VidaLink", {
          enumerable: true,
          get: function () {
            return router_1.Link;
          },
        });

        /***/
      },

    /***/ "./src/components/link.ts":
      /*!********************************!*\
  !*** ./src/components/link.ts ***!
  \********************************/
      /***/ function (__unused_webpack_module, exports, __webpack_require__) {
        var __rest =
          (this && this.__rest) ||
          function (s, e) {
            var t = {};
            for (var p in s)
              if (
                Object.prototype.hasOwnProperty.call(s, p) &&
                e.indexOf(p) < 0
              )
                t[p] = s[p];
            if (s != null && typeof Object.getOwnPropertySymbols === "function")
              for (
                var i = 0, p = Object.getOwnPropertySymbols(s);
                i < p.length;
                i++
              ) {
                if (
                  e.indexOf(p[i]) < 0 &&
                  Object.prototype.propertyIsEnumerable.call(s, p[i])
                )
                  t[p[i]] = s[p[i]];
              }
            return t;
          };
        Object.defineProperty(exports, "__esModule", { value: true });
        exports.Link = void 0;
        const core_1 = __webpack_require__(
          /*! ../core */ "./src/core/index.ts",
        );
        const helmet_1 = __webpack_require__(
          /*! ./helmet */ "./src/components/helmet.ts",
        );
        class Link extends core_1.Component {
          mount() {
            const { prefetch, href, delay, back = false } = this.props;
            if (back) {
              this.elements[0].addEventListener(
                "click",
                function onClick(e) {
                  e.preventDefault();
                  const target = e.target;
                  if (target.href === document.referrer) {
                    window.history.back();
                  } else {
                    window.location.href = href;
                  }
                }.bind(this),
              );
            }
            if (delay) {
              this.elements[0].addEventListener(
                "click",
                function onClick(e) {
                  e.preventDefault();
                  setTimeout(() => {
                    window.location.href = href;
                  }, delay);
                }.bind(this),
              );
            }
            if (prefetch) {
              if (prefetch === "hover") {
                this.prefetchOnHover();
              } else if (prefetch === "visible") {
                this.prefetchOnVisible();
              } else {
                this.addPrefetch();
              }
            }
          }
          prefetchOnHover() {
            this.elements[0].addEventListener(
              "mouseover",
              function onHover() {
                this.addPrefetch();
              }.bind(this),
              { once: true },
            );
          }
          prefetchOnVisible() {
            const observer = new IntersectionObserver(
              (entries, observer) => {
                for (const entry of entries) {
                  if (entry.isIntersecting) {
                    observer.disconnect();
                    this.addPrefetch();
                  }
                }
              },
              { threshold: [0, 1] },
            );
            observer.observe(this.elements[0]);
          }
          addPrefetch() {
            let exists = false;
            const links = document.getElementsByTagName("link");
            for (const link of links) {
              if (
                link.getAttribute("rel") === "prefetch" &&
                link.getAttribute("href") === this.props.href
              ) {
                exists = true;
              }
            }
            if (!exists) {
              const prefetch = core_1.h("link", {
                rel: "prefetch",
                href: this.props.href,
                as: "document",
              });
              document.head.appendChild(prefetch);
            }
          }
          render() {
            const _a = this.props,
              { children, prefetch, delay, back = false, ref } = _a,
              rest = __rest(_a, [
                "children",
                "prefetch",
                "delay",
                "back",
                "ref",
              ]);
            const a = core_1.h("a", Object.assign({}, rest), ...children);
            if (prefetch && isSSR) {
              const link = core_1.h("link", {
                rel: "prefetch",
                href: this.props.href,
                as: "document",
              });
              const helmet = core_1.h(helmet_1.Helmet, null, link);
              return core_1.h(core_1.Fragment, null, [helmet, a]);
            } else {
              return a;
            }
          }
        }
        exports.Link = Link;

        /***/
      },

    /***/ "./src/components/router.ts":
      /*!**********************************!*\
  !*** ./src/components/router.ts ***!
  \**********************************/
      /***/ (__unused_webpack_module, exports, __webpack_require__) => {
        Object.defineProperty(exports, "__esModule", { value: true });
        exports.Link = exports.to = exports.Route = exports.Switch = void 0;
        const core_1 = __webpack_require__(
          /*! ../core */ "./src/core/index.ts",
        );
        const instances = [];
        function register(comp) {
          instances.push(comp);
        }
        function unregister(comp) {
          instances.splice(instances.indexOf(comp), 1);
        }
        function historyPush(path) {
          window.history.pushState({}, "", path);
          for (const instance of instances) {
            instance.forceUpdate();
          }
        }
        function historyReplace(path) {
          window.history.replaceState({}, "", path);
          for (const instance of instances) {
            instance.forceUpdate();
          }
        }
        function matchPath(pathname, options) {
          const { exact = false, regex } = options;
          let { path } = options;
          if (!path) {
            return {
              path: null,
              url: pathname,
              isExact: true,
            };
          }
          let match;
          let params = {};
          // path with params
          if (path.includes("/:")) {
            const pathArr = path.split("/");
            const pathnameArr = pathname.split("/");
            pathArr.forEach((p, i) => {
              if (/^:/.test(p)) {
                const key = p.slice(1);
                const value = pathnameArr[i];
                // if a regex is provided, check it it matches
                if (regex && regex[key]) {
                  const regexMatch = regex[key].test(value);
                  if (!regexMatch) return null;
                }
                params = Object.assign(Object.assign({}, params), {
                  [key]: value,
                });
                pathArr[i] = pathnameArr[i];
              }
            });
            path = pathArr.join("/");
          }
          // catch all
          if (path === "*") match = [pathname];
          // regular path
          if (!match) match = new RegExp(`^${path}`).exec(pathname);
          if (!match) return null;
          const url = match[0];
          const isExact = pathname === url;
          if (exact && !isExact) return null;
          return {
            path,
            url,
            isExact,
            params,
          };
        }
        class Switch extends core_1.Component {
          constructor() {
            super(...arguments);
            this.index = 0;
            this.path = "";
            this.match = { index: -1, path: "" };
          }
          mount() {
            window.addEventListener("popstate", this.forceUpdate.bind(this));
            register(this);
          }
          destroy() {
            unregister(this);
            window.removeEventListener("popstate", this.forceUpdate.bind(this));
          }
          forceUpdate() {
            this.findChild();
            if (this.shouldUpdate()) this.update();
          }
          findChild() {
            this.match = { index: -1, path: "" };
            for (const [i, child] of this.props.children.entries()) {
              const { path, exact, regex } = child.props;
              const match = matchPath(
                typeof isSSR !== "undefined"
                  ? _nano.location.pathname
                  : window.location.pathname,
                {
                  path,
                  exact,
                  regex,
                },
              );
              if (match) {
                this.match.index = i;
                this.match.path = path;
                return;
              }
            }
          }
          shouldUpdate() {
            return (
              this.path !== this.match.path || this.index !== this.match.index
            );
          }
          render() {
            this.findChild();
            const child = this.props.children[this.match.index];
            if (child) {
              const { path } = child.props;
              this.path = path;
              this.index = this.match.index;
              const el = core_1.renderElement(child);
              return core_1.renderElement(el);
            } else if (this.props.fallback) {
              return core_1.renderElement(this.props.fallback);
            } else {
              return core_1.h("div", { class: "route" }, "not found");
            }
          }
        }
        exports.Switch = Switch;
        function Route({ path, regex, children }) {
          for (const child of children) {
            if (child.props)
              child.props = Object.assign(Object.assign({}, child.props), {
                route: { path, regex },
              });
          }
          return children;
        }
        exports.Route = Route;
        const to = (to, replace = false) => {
          replace ? historyReplace(to) : historyPush(to);
        };
        exports.to = to;
        function Link({ to, replace, children }) {
          function onClick(event) {
            event.preventDefault();
            replace ? historyReplace(to) : historyPush(to);
          }
          return core_1.h("a", { href: to, onClick }, children);
        }
        exports.Link = Link;

        /***/
      },

    /***/ "./src/components/suspense.ts":
      /*!************************************!*\
  !*** ./src/components/suspense.ts ***!
  \************************************/
      /***/ function (__unused_webpack_module, exports, __webpack_require__) {
        var __awaiter =
          (this && this.__awaiter) ||
          function (thisArg, _arguments, P, generator) {
            function adopt(value) {
              return value instanceof P
                ? value
                : new P(function (resolve) {
                    resolve(value);
                  });
            }
            return new (P || (P = Promise))(function (resolve, reject) {
              function fulfilled(value) {
                try {
                  step(generator.next(value));
                } catch (e) {
                  reject(e);
                }
              }
              function rejected(value) {
                try {
                  step(generator["throw"](value));
                } catch (e) {
                  reject(e);
                }
              }
              function step(result) {
                result.done
                  ? resolve(result.value)
                  : adopt(result.value).then(fulfilled, rejected);
              }
              step(
                (generator = generator.apply(thisArg, _arguments || [])).next(),
              );
            });
          };
        var __rest =
          (this && this.__rest) ||
          function (s, e) {
            var t = {};
            for (var p in s)
              if (
                Object.prototype.hasOwnProperty.call(s, p) &&
                e.indexOf(p) < 0
              )
                t[p] = s[p];
            if (s != null && typeof Object.getOwnPropertySymbols === "function")
              for (
                var i = 0, p = Object.getOwnPropertySymbols(s);
                i < p.length;
                i++
              ) {
                if (
                  e.indexOf(p[i]) < 0 &&
                  Object.prototype.propertyIsEnumerable.call(s, p[i])
                )
                  t[p[i]] = s[p[i]];
              }
            return t;
          };
        Object.defineProperty(exports, "__esModule", { value: true });
        exports.Suspense = void 0;
        const core_1 = __webpack_require__(
          /*! ../core */ "./src/core/index.ts",
        );
        const utils_1 = __webpack_require__(/*! ../utils */ "./src/utils.ts");
        class Suspense extends core_1.Component {
          constructor(props) {
            super(props);
            this.isReady = false;
            const _a = this.props,
              { fallback, cache = false, children } = _a,
              rest = __rest(_a, ["fallback", "cache", "children"]);
            this.id = utils_1.strToHash(
              JSON.stringify(rest, function (_key, val) {
                return typeof val === "function" ? `${val}` : val;
              }),
            );
          }
          mount() {
            return __awaiter(this, void 0, void 0, function* () {
              const _a = this.props,
                { fallback, cache = false, children } = _a,
                rest = __rest(_a, ["fallback", "cache", "children"]);
              if (cache) this.initialState = {};
              if (this.loadFromCache(cache)) return;
              const promises = Object.values(rest).map((p) => p());
              const resolved = yield Promise.all(promises);
              const data = this.prepareData(rest, resolved, cache);
              this.addDataToChildren(data);
              this.isReady = true;
              this.update();
            });
          }
          loadFromCache(cache) {
            const cached =
              this.state && cache && Object.keys(this.state).length;
            if (cache) {
              this.addDataToChildren(this.state);
              this.isReady = true;
            }
            return cached;
          }
          ssr() {
            const _a = this.props,
              { fallback, cache = false, children } = _a,
              rest = __rest(_a, ["fallback", "cache", "children"]);
            const funcs = Object.values(rest).map((p) => p());
            const data = this.prepareData(rest, funcs, false);
            this.addDataToChildren(data);
          }
          addDataToChildren(data) {
            for (const child of this.props.children) {
              if (child.props) {
                child.props = Object.assign(
                  Object.assign({}, child.props),
                  data,
                );
              }
            }
          }
          prepareData(rest, func, cache) {
            const data = Object.keys(rest).reduce((acc, item, index) => {
              if (cache) {
                this.state = Object.assign(Object.assign({}, this.state), {
                  [item]: func[index],
                });
              }
              return Object.assign(Object.assign({}, acc), {
                [item]: func[index],
              });
            }, {});
            return data;
          }
          render() {
            if (typeof isSSR === "undefined") {
              const { cache = false } = this.props;
              this.loadFromCache(cache);
              return this.isReady ? this.props.children : this.props.fallback;
            } else {
              this.ssr();
              return this.props.children;
            }
          }
        }
        exports.Suspense = Suspense;

        /***/
      },

    /***/ "./src/components/visible.ts":
      /*!***********************************!*\
  !*** ./src/components/visible.ts ***!
  \***********************************/
      /***/ (__unused_webpack_module, exports, __webpack_require__) => {
        Object.defineProperty(exports, "__esModule", { value: true });
        exports.Visible = void 0;
        const core_1 = __webpack_require__(
          /*! ../core */ "./src/core/index.ts",
        );
        class Visible extends core_1.Component {
          constructor() {
            super(...arguments);
            this.isVisible = false;
          }
          mount() {
            const observer = new IntersectionObserver(
              (entries, observer) => {
                for (const entry of entries) {
                  if (entry.isIntersecting) {
                    observer.disconnect();
                    this.isVisible = true;
                    this.update();
                  }
                }
              },
              { threshold: [0, 1] },
            );
            observer.observe(this.elements[0]);
          }
          render() {
            if (this.isVisible) {
              if (this.props.onVisible) {
                this.props.onVisible();
              }
              return core_1.render(
                this.props.component || this.props.children[0],
              );
            } else {
              return core_1.h("div", {
                "data-visible": false,
                visibility: "hidden",
              });
            }
          }
        }
        exports.Visible = Visible;

        /***/
      },

    /***/ "./src/core/appendChildren.ts":
      /*!************************************!*\
  !*** ./src/core/appendChildren.ts ***!
  \************************************/
      /***/ (__unused_webpack_module, exports, __webpack_require__) => {
        Object.defineProperty(exports, "__esModule", { value: true });
        exports.appendChildren = void 0;
        const _1 = __webpack_require__(/*! . */ "./src/core/index.ts");
        function appendChildren(element, children) {
          if (!Array.isArray(children)) {
            appendChildren(element, [children]);
            return;
          }
          if (typeof children === "object") {
            children = Array.from(children);
          }
          for (const child of children) {
            if (Array.isArray(child)) {
              appendChildren(element, child);
            } else {
              let comp = _1.renderElement(child);
              if (comp) {
                if (Array.isArray(comp)) {
                  appendChildren(element, comp);
                } else {
                  element.appendChild(
                    !(comp === null || comp === void 0 ? void 0 : comp.nodeType)
                      ? document.createTextNode("" + comp)
                      : comp,
                  );
                }
              }
            }
          }
        }
        exports.appendChildren = appendChildren;

        /***/
      },

    /***/ "./src/core/component.ts":
      /*!*******************************!*\
  !*** ./src/core/component.ts ***!
  \*******************************/
      /***/ (__unused_webpack_module, exports, __webpack_require__) => {
        Object.defineProperty(exports, "__esModule", { value: true });
        exports.Component = void 0;
        const utils_1 = __webpack_require__(/*! ../utils */ "./src/utils.ts");
        const _1 = __webpack_require__(/*! . */ "./src/core/index.ts");
        class Component {
          constructor(props) {
            this.props = props;
            this._elements = [];
            this.id = this._getHash();
          }
          render(_update) {}
          mount() {}
          beforeMount() {}
          destroy() {}
          _getHash() {}
          setState(state, shouldUpdate = false) {
            if (state && typeof state === "object") {
              this.state = Object.assign(Object.assign({}, this.state), state);
            } else this.state = state;
            if (shouldUpdate) this.update();
          }
          get state() {
            return _1._state.get(this.id);
          }
          set state(value) {
            _1._state.set(this.id, value);
          }
          set initialState(state) {
            if (!this.state) this.state = state;
          }
          get elements() {
            return this._elements;
          }
          set elements(elements) {
            if (!Array.isArray(elements)) {
              elements = [elements];
            }
            for (const el of elements) {
              this._elements.push(el);
            }
          }
          addNodeRemoveListener() {
            if (/^[^{]+{\s+}$/gm.test(this.destroy.toString())) return;
            utils_1.onNodeRemove(this.elements[0], () => {
              if (!this._skipUnmout) {
                this.destroy();
              }
            });
          }
          //@ts-ignore
          _mount() {
            this.addNodeRemoveListener();
            this.mount();
          }
          _destory() {
            if (this._hasUnmounted) return;
            this.destroy();
            this._hasUnmounted = true;
          }
          update(update) {
            this._skipUnmout = true;
            const oldElements = [...this.elements];
            this._elements = [];
            let el = this.render(update);
            el = _1.renderElement(el);
            this.elements = el;
            const parent = oldElements[0].parentElement;
            if (!parent)
              console.warn("Component needs a parent element to get updated!");
            for (const child of this.elements) {
              parent.insertBefore(child, oldElements[0]);
            }
            for (let child of oldElements) {
              child.remove();
              //@ts-ignore
              child = null;
            }
            this.addNodeRemoveListener();
            utils_1.nextTick(() => {
              this._skipUnmout = false;
              if (!this.elements[0].isConnected) {
                this._destory();
              }
            });
          }
        }
        exports.Component = Component;

        /***/
      },

    /***/ "./src/core/context.ts":
      /*!*****************************!*\
  !*** ./src/core/context.ts ***!
  \*****************************/
      /***/ (__unused_webpack_module, exports) => {
        Object.defineProperty(exports, "__esModule", { value: true });
        exports.createContext = void 0;
        function createContext(ctx) {
          let _ctx = ctx;
          return {
            Provider(props) {
              if (props.value) {
                _ctx = props.value;
                return props.children;
              }
            },
            Consumer(props) {
              return {
                component: props.children[0](_ctx),
                props: Object.assign(Object.assign({}, props), {
                  context: _ctx,
                }),
              };
            },
            get() {
              return _ctx;
            },
            set(ctx) {
              _ctx = ctx;
            },
          };
        }
        exports.createContext = createContext;

        /***/
      },

    /***/ "./src/core/fragment.ts":
      /*!******************************!*\
  !*** ./src/core/fragment.ts ***!
  \******************************/
      /***/ (__unused_webpack_module, exports) => {
        Object.defineProperty(exports, "__esModule", { value: true });
        exports.Fragment = void 0;
        const Fragment = (props) => {
          return props.children;
        };
        exports.Fragment = Fragment;

        /***/
      },

    /***/ "./src/core/h.ts":
      /*!***********************!*\
  !*** ./src/core/h.ts ***!
  \***********************/
      /***/ (__unused_webpack_module, exports, __webpack_require__) => {
        Object.defineProperty(exports, "__esModule", { value: true });
        exports.h = void 0;
        const utils_1 = __webpack_require__(/*! ../utils */ "./src/utils.ts");
        const _1 = __webpack_require__(/*! . */ "./src/core/index.ts");
        function h(comp, props, ...children) {
          if (typeof comp !== "string") {
            return {
              component: comp,
              props: Object.assign(Object.assign({}, props), {
                children: children,
              }),
            };
          }
          let ref;
          const element =
            comp === "svg" ? _1.hNS("svg") : document.createElement(comp);
          for (const p in props) {
            if (p === "style" && typeof props[p] === "object") {
              const styles = Object.keys(props[p])
                .map((k) => `${k}:${props[p][k]}`)
                .join(";")
                .replace(/[A-Z]/g, (match) => `-${match.toLowerCase()}`);
              props[p] = styles + ";";
            }
            if (p === "ref") {
              ref = props[p];
            }
            if (utils_1.isEvent(element, p.toLowerCase())) {
              element.addEventListener(p.toLowerCase().substring(2), (e) =>
                props[p](e),
              );
            } else {
              element.setAttribute(p, props[p]);
            }
          }
          _1.appendChildren(element, children);
          if (ref) {
            ref(element);
          }
          // @ts-ignore
          if (element.ssr) return element.ssr;
          return element;
        }
        exports.h = h;

        /***/
      },

    /***/ "./src/core/hydrate.ts":
      /*!*****************************!*\
  !*** ./src/core/hydrate.ts ***!
  \*****************************/
      /***/ (__unused_webpack_module, exports, __webpack_require__) => {
        Object.defineProperty(exports, "__esModule", { value: true });
        exports.hydrate = void 0;
        const _1 = __webpack_require__(/*! . */ "./src/core/index.ts");
        function hydrate(component, parent = null, removeChildNodes = true) {
          return _1.render(component, parent, removeChildNodes);
        }
        exports.hydrate = hydrate;

        /***/
      },

    /***/ "./src/core/index.ts":
      /*!***************************!*\
  !*** ./src/core/index.ts ***!
  \***************************/
      /***/ (__unused_webpack_module, exports, __webpack_require__) => {
        Object.defineProperty(exports, "__esModule", { value: true });
        exports.withStyles =
          exports.lazyHydration =
          exports._clearState =
          exports._state =
          exports.createContext =
          exports.Fragment =
          exports.Component =
          exports.hydrate =
          exports.hNS =
          exports.renderElement =
          exports.render =
          exports.h =
          exports.appendChildren =
            void 0;
        var appendChildren_1 = __webpack_require__(
          /*! ./appendChildren */ "./src/core/appendChildren.ts",
        );
        Object.defineProperty(exports, "appendChildren", {
          enumerable: true,
          get: function () {
            return appendChildren_1.appendChildren;
          },
        });
        var h_1 = __webpack_require__(/*! ./h */ "./src/core/h.ts");
        Object.defineProperty(exports, "h", {
          enumerable: true,
          get: function () {
            return h_1.h;
          },
        });
        var render_1 = __webpack_require__(
          /*! ./render */ "./src/core/render.ts",
        );
        Object.defineProperty(exports, "render", {
          enumerable: true,
          get: function () {
            return render_1.render;
          },
        });
        var renderElement_1 = __webpack_require__(
          /*! ./renderElement */ "./src/core/renderElement.ts",
        );
        Object.defineProperty(exports, "renderElement", {
          enumerable: true,
          get: function () {
            return renderElement_1.renderElement;
          },
        });
        Object.defineProperty(exports, "hNS", {
          enumerable: true,
          get: function () {
            return renderElement_1.hNS;
          },
        });
        var hydrate_1 = __webpack_require__(
          /*! ./hydrate */ "./src/core/hydrate.ts",
        );
        Object.defineProperty(exports, "hydrate", {
          enumerable: true,
          get: function () {
            return hydrate_1.hydrate;
          },
        });
        var component_1 = __webpack_require__(
          /*! ./component */ "./src/core/component.ts",
        );
        Object.defineProperty(exports, "Component", {
          enumerable: true,
          get: function () {
            return component_1.Component;
          },
        });
        var fragment_1 = __webpack_require__(
          /*! ./fragment */ "./src/core/fragment.ts",
        );
        Object.defineProperty(exports, "Fragment", {
          enumerable: true,
          get: function () {
            return fragment_1.Fragment;
          },
        });
        var context_1 = __webpack_require__(
          /*! ./context */ "./src/core/context.ts",
        );
        Object.defineProperty(exports, "createContext", {
          enumerable: true,
          get: function () {
            return context_1.createContext;
          },
        });
        var state_1 = __webpack_require__(/*! ./state */ "./src/core/state.ts");
        Object.defineProperty(exports, "_state", {
          enumerable: true,
          get: function () {
            return state_1._state;
          },
        });
        Object.defineProperty(exports, "_clearState", {
          enumerable: true,
          get: function () {
            return state_1._clearState;
          },
        });
        var lazyHydration_1 = __webpack_require__(
          /*! ./lazyHydration */ "./src/core/lazyHydration.ts",
        );
        Object.defineProperty(exports, "lazyHydration", {
          enumerable: true,
          get: function () {
            return lazyHydration_1.lazyHydration;
          },
        });
        var withStyles_1 = __webpack_require__(
          /*! ./withStyles */ "./src/core/withStyles.ts",
        );
        Object.defineProperty(exports, "withStyles", {
          enumerable: true,
          get: function () {
            return withStyles_1.withStyles;
          },
        });

        /***/
      },

    /***/ "./src/core/lazyHydration.ts":
      /*!***********************************!*\
  !*** ./src/core/lazyHydration.ts ***!
  \***********************************/
      /***/ (__unused_webpack_module, exports, __webpack_require__) => {
        Object.defineProperty(exports, "__esModule", { value: true });
        exports.lazyHydration = void 0;
        const components_1 = __webpack_require__(
          /*! ../components */ "./src/components/index.ts",
        );
        const _1 = __webpack_require__(/*! . */ "./src/core/index.ts");
        function lazyHydration(component, parent, removeChildNodes = true) {
          const cmp = _1.h(components_1.Visible, null, component);
          return _1.hydrate(cmp, parent, removeChildNodes);
        }
        exports.lazyHydration = lazyHydration;

        /***/
      },

    /***/ "./src/core/render.ts":
      /*!****************************!*\
  !*** ./src/core/render.ts ***!
  \****************************/
      /***/ (__unused_webpack_module, exports, __webpack_require__) => {
        Object.defineProperty(exports, "__esModule", { value: true });
        exports.removeAllChildNodes = exports.render = void 0;
        const _1 = __webpack_require__(/*! . */ "./src/core/index.ts");
        function render(cmp, parent = null, removeChildNodes = true) {
          let el = _1.renderElement(cmp);
          if (Array.isArray(el)) {
            el = el.map((c) => _1.renderElement(c));
            if (el.length === 1) {
              el = el[0];
            }
          }
          if (parent) {
            if (removeChildNodes) {
              removeAllChildNodes(parent);
            }
            if (
              el &&
              parent.id &&
              parent.id === el.id &&
              parent.parentElement
            ) {
              parent.parentElement.replaceChild(el, parent);
            } else {
              if (Array.isArray(el)) {
                el.map((c) => _1.appendChildren(parent, _1.renderElement(c)));
              } else {
                _1.appendChildren(parent, _1.renderElement(el));
              }
              if (parent.ssr) return parent.ssr;
              return parent;
            }
          } else {
            if (typeof isSSR === "boolean" && isSSR && !Array.isArray(el))
              return [el];
            return el;
          }
        }
        exports.render = render;
        function removeAllChildNodes(el) {
          while (el.firstChild) {
            el.removeChild(el.firstChild);
          }
        }
        exports.removeAllChildNodes = removeAllChildNodes;

        /***/
      },

    /***/ "./src/core/renderElement.ts":
      /*!***********************************!*\
  !*** ./src/core/renderElement.ts ***!
  \***********************************/
      /***/ (__unused_webpack_module, exports, __webpack_require__) => {
        Object.defineProperty(exports, "__esModule", { value: true });
        exports.hNS = exports.renderElement = void 0;
        const utils_1 = __webpack_require__(/*! ../utils */ "./src/utils.ts");
        function renderElement(cmp) {
          var _a;
          if (["undefined" || 0].includes(typeof cmp)) {
            return [];
          }
          if (cmp == null) {
            return [];
          }
          if (typeof cmp === "string") {
            return cmp;
          }
          if (typeof cmp === "number") {
            return "" + cmp;
          }
          if (
            (cmp === null || cmp === void 0 ? void 0 : cmp.tagName) &&
            cmp.tagName.toLowerCase() === "svg"
          ) {
            return SVG({ children: [cmp] });
          }
          if (cmp === null || cmp === void 0 ? void 0 : cmp.tagName) {
            return cmp;
          }
          if (
            cmp &&
            cmp.component &&
            cmp.component.prototype &&
            cmp.component.prototype.constructor &&
            /^class\s/.test(Function.prototype.toString.call(cmp.component))
          ) {
            return renderClassComponent(cmp);
          }
          if (cmp.component && typeof cmp.component === "function") {
            return renderFunctionalComponent(cmp);
          }
          if (Array.isArray(cmp)) {
            return cmp.map((c) => renderElement(c)).flat();
          }
          if (typeof cmp === "function") return renderElement(cmp());
          if (
            ((_a = cmp === null || cmp === void 0 ? void 0 : cmp.component) ===
              null || _a === void 0
              ? void 0
              : _a.tagName) &&
            typeof cmp.component.tagName === "string"
          )
            return renderElement(cmp.component);
          if (Array.isArray(cmp.component)) return renderElement(cmp.component);
          if (cmp.component) return renderElement(cmp.component);
        }
        exports.renderElement = renderElement;
        function renderFunctionalComponent(cmp) {
          const { component, props } = cmp;
          const el = component(props);
          return renderElement(el);
        }
        function renderClassComponent(cmp) {
          const { component, props } = cmp;
          const hash = utils_1.strToHash(component.toString());
          component.prototype._getHash = () => hash;
          const Component = new component(props);
          Component.beforeMount();
          let el = Component.render();
          el = renderElement(el);
          Component.elements = el;
          if (props === null || props === void 0 ? void 0 : props.ref)
            props.ref(Component);
          if (typeof isSSR === "undefined") {
            utils_1.nextTick(() => {
              Component._mount();
            });
          }
          return el;
        }
        function hNS(tag) {
          return document.createElementNS("http://www.w3.org/2000/svg", tag);
        }
        exports.hNS = hNS;
        function SVG(props) {
          const child = props.children[0];
          const attrs = child.attributes;
          const svg = hNS("svg");
          for (const attr of attrs) {
            svg.setAttribute(attr.name, attr.value);
          }
          svg.innerHTML = child.innerHTML;
          return svg;
        }

        /***/
      },

    /***/ "./src/core/state.ts":
      /*!***************************!*\
  !*** ./src/core/state.ts ***!
  \***************************/
      /***/ (__unused_webpack_module, exports) => {
        Object.defineProperty(exports, "__esModule", { value: true });
        exports._clearState = exports._state = void 0;
        exports._state = new Map();
        function _clearState() {
          exports._state.clear();
        }
        exports._clearState = _clearState;

        /***/
      },

    /***/ "./src/core/withStyles.ts":
      /*!********************************!*\
  !*** ./src/core/withStyles.ts ***!
  \********************************/
      /***/ function (__unused_webpack_module, exports, __webpack_require__) {
        var __rest =
          (this && this.__rest) ||
          function (s, e) {
            var t = {};
            for (var p in s)
              if (
                Object.prototype.hasOwnProperty.call(s, p) &&
                e.indexOf(p) < 0
              )
                t[p] = s[p];
            if (s != null && typeof Object.getOwnPropertySymbols === "function")
              for (
                var i = 0, p = Object.getOwnPropertySymbols(s);
                i < p.length;
                i++
              ) {
                if (
                  e.indexOf(p[i]) < 0 &&
                  Object.prototype.propertyIsEnumerable.call(s, p[i])
                )
                  t[p[i]] = s[p[i]];
              }
            return t;
          };
        Object.defineProperty(exports, "__esModule", { value: true });
        exports.withStyles = void 0;
        const components_1 = __webpack_require__(
          /*! ../components */ "./src/components/index.ts",
        );
        const _1 = __webpack_require__(/*! . */ "./src/core/index.ts");
        function withStyles(styles) {
          return function (WrappedComponent) {
            return class extends _1.Component {
              render() {
                const _a = this.props,
                  { children } = _a,
                  rest = __rest(_a, ["children"]);
                const helmet = _1.h(
                  components_1.Helmet,
                  null,
                  _1.h("style", null, styles.toString()),
                );
                const component = children.length
                  ? _1.h(WrappedComponent, Object.assign({}, rest), children)
                  : _1.h(WrappedComponent, Object.assign({}, this.props));
                return _1.h(_1.Fragment, null, helmet, component);
              }
            };
          };
        }
        exports.withStyles = withStyles;

        /***/
      },

    /***/ "./src/index.ts":
      /*!**********************!*\
  !*** ./src/index.ts ***!
  \**********************/
      /***/ (__unused_webpack_module, exports, __webpack_require__) => {
        Object.defineProperty(exports, "__esModule", { value: true });
        exports.Visible =
          exports.Helmet =
          exports.Img =
          exports.VidaLink =
          exports.Route =
          exports.Switch =
          exports.Link =
          exports.Suspense =
          exports.lazyHydration =
          exports.createContext =
          exports.withStyles =
          exports.Component =
          exports.Fragment =
          exports.hydrate =
          exports.render =
          exports.h =
          exports.renderToString =
          exports.nextTick =
            void 0;
        var utils_1 = __webpack_require__(/*! ./utils */ "./src/utils.ts");
        Object.defineProperty(exports, "nextTick", {
          enumerable: true,
          get: function () {
            return utils_1.nextTick;
          },
        });
        var ssr_1 = __webpack_require__(/*! ./ssr */ "./src/ssr/index.ts");
        Object.defineProperty(exports, "renderToString", {
          enumerable: true,
          get: function () {
            return ssr_1.renderToString;
          },
        });
        var core_1 = __webpack_require__(/*! ./core */ "./src/core/index.ts");
        Object.defineProperty(exports, "h", {
          enumerable: true,
          get: function () {
            return core_1.h;
          },
        });
        Object.defineProperty(exports, "render", {
          enumerable: true,
          get: function () {
            return core_1.render;
          },
        });
        Object.defineProperty(exports, "hydrate", {
          enumerable: true,
          get: function () {
            return core_1.hydrate;
          },
        });
        Object.defineProperty(exports, "Fragment", {
          enumerable: true,
          get: function () {
            return core_1.Fragment;
          },
        });
        Object.defineProperty(exports, "Component", {
          enumerable: true,
          get: function () {
            return core_1.Component;
          },
        });
        Object.defineProperty(exports, "withStyles", {
          enumerable: true,
          get: function () {
            return core_1.withStyles;
          },
        });
        Object.defineProperty(exports, "createContext", {
          enumerable: true,
          get: function () {
            return core_1.createContext;
          },
        });
        Object.defineProperty(exports, "lazyHydration", {
          enumerable: true,
          get: function () {
            return core_1.lazyHydration;
          },
        });
        var components_1 = __webpack_require__(
          /*! ./components */ "./src/components/index.ts",
        );
        Object.defineProperty(exports, "Suspense", {
          enumerable: true,
          get: function () {
            return components_1.Suspense;
          },
        });
        Object.defineProperty(exports, "Link", {
          enumerable: true,
          get: function () {
            return components_1.Link;
          },
        });
        Object.defineProperty(exports, "Switch", {
          enumerable: true,
          get: function () {
            return components_1.Switch;
          },
        });
        Object.defineProperty(exports, "Route", {
          enumerable: true,
          get: function () {
            return components_1.Route;
          },
        });
        Object.defineProperty(exports, "VidaLink", {
          enumerable: true,
          get: function () {
            return components_1.VidaLink;
          },
        });
        Object.defineProperty(exports, "Img", {
          enumerable: true,
          get: function () {
            return components_1.Img;
          },
        });
        Object.defineProperty(exports, "Helmet", {
          enumerable: true,
          get: function () {
            return components_1.Helmet;
          },
        });
        Object.defineProperty(exports, "Visible", {
          enumerable: true,
          get: function () {
            return components_1.Visible;
          },
        });
        const core_2 = __webpack_require__(/*! ./core */ "./src/core/index.ts");
        const ssr_2 = __webpack_require__(/*! ./ssr */ "./src/ssr/index.ts");
        exports.default = {
          render: core_2.render,
          hydrate: core_2.hydrate,
          h: core_2.h,
          lazyHydration: core_2.lazyHydration,
          renderToString: ssr_2.renderToString,
          Fragment: core_2.Fragment,
        };

        /***/
      },

    /***/ "./src/ssr/document.ts":
      /*!*****************************!*\
  !*** ./src/ssr/document.ts ***!
  \*****************************/
      /***/ (__unused_webpack_module, exports, __webpack_require__) => {
        Object.defineProperty(exports, "__esModule", { value: true });
        exports.DocumentSSR = void 0;
        const _1 = __webpack_require__(/*! . */ "./src/ssr/index.ts");
        class DocumentSSR {
          constructor() {
            this.body = this.createElement("body");
            this.head = this.createElement("head");
          }
          createElement(tag) {
            return new _1.HTMLElementSSR(tag);
          }
          createElementNS(_URI, tag) {
            return new _1.HTMLElementSSR(tag);
          }
          createTextNode(text) {
            return text;
          }
          querySelector(_query) {
            return undefined;
          }
        }
        exports.DocumentSSR = DocumentSSR;

        /***/
      },

    /***/ "./src/ssr/elements.ts":
      /*!*****************************!*\
  !*** ./src/ssr/elements.ts ***!
  \*****************************/
      /***/ (__unused_webpack_module, exports) => {
        Object.defineProperty(exports, "__esModule", { value: true });
        exports.HTMLElementSSR = void 0;
        class HTMLElementSSR {
          constructor(tag) {
            this.tagName = tag;
            const selfClosing = [
              "area",
              "base",
              "br",
              "col",
              "embed",
              "hr",
              "img",
              "input",
              "link",
              "meta",
              "param",
              "source",
              "track",
              "wbr",
            ];
            if (selfClosing.indexOf(tag) >= 0) {
              this.ssr = `<${tag} />`;
              this.selfClosing = true;
            } else {
              this.ssr = `<${tag}></${tag}>`;
            }
          }
          get outerHTML() {
            return this.innerText;
          }
          get innerHTML() {
            var _a, _b;
            const reg = /(^<[a-z]+>)([\s\S]*)(<\/[a-z]+>$)/gm;
            return (_b =
              (_a = reg.exec(this.ssr)) === null || _a === void 0
                ? void 0
                : _a[2]) !== null && _b !== void 0
              ? _b
              : "";
          }
          get innerText() {
            var _a, _b;
            const reg = /(^<[^>]+>)(.+)?(<\/[a-z]+>$|\/>$)/gm;
            return (_b =
              (_a = reg.exec(this.ssr)) === null || _a === void 0
                ? void 0
                : _a[2]) !== null && _b !== void 0
              ? _b
              : "";
          }
          set innerText(text) {
            const reg = /(^<[^>]+>)(.+)?(<\/[a-z]+>$|\/>$)/gm;
            this.ssr = this.ssr.replace(reg, `$1${text}$3`);
          }
          get attributes() {
            return { length: 1 };
          }
          get children() {
            const reg = /<([a-z]+)((?!<\/\1).)*<\/\1>/gms;
            const array = [];
            let match;
            while ((match = reg.exec(this.innerHTML)) !== null) {
              array.push(match[0].replace(/[\s]+/gm, " "));
            }
            return array;
          }
          setAttributeNS(name, value) {
            this.setAttribute(name, value);
          }
          setAttribute(name, value) {
            if (this.selfClosing)
              this.ssr = this.ssr.replace(
                /(^<[a-z]+ )(.+)/gm,
                `$1${name}="${value}" $2`,
              );
            else
              this.ssr = this.ssr.replace(
                /(^<[^>]+)(.+)/gm,
                `$1 ${name}="${value}"$2`,
              );
          }
          appendChild(child) {
            const append = child.ssr ? child.ssr : child;
            const index = this.ssr.lastIndexOf("</");
            this.ssr =
              this.ssr.substring(0, index) + append + this.ssr.substring(index);
          }
          replaceChild(newChild, _oldChild) {
            this.innerText = newChild.ssr;
          }
          addEventListener(_type, _listener, _options) {}
        }
        exports.HTMLElementSSR = HTMLElementSSR;

        /***/
      },

    /***/ "./src/ssr/index.ts":
      /*!**************************!*\
  !*** ./src/ssr/index.ts ***!
  \**************************/
      /***/ (__unused_webpack_module, exports, __webpack_require__) => {
        Object.defineProperty(exports, "__esModule", { value: true });
        exports.HTMLElementSSR =
          exports.DocumentSSR =
          exports.renderToString =
            void 0;
        var renderToString_1 = __webpack_require__(
          /*! ./renderToString */ "./src/ssr/renderToString.ts",
        );
        Object.defineProperty(exports, "renderToString", {
          enumerable: true,
          get: function () {
            return renderToString_1.renderToString;
          },
        });
        var document_1 = __webpack_require__(
          /*! ./document */ "./src/ssr/document.ts",
        );
        Object.defineProperty(exports, "DocumentSSR", {
          enumerable: true,
          get: function () {
            return document_1.DocumentSSR;
          },
        });
        var elements_1 = __webpack_require__(
          /*! ./elements */ "./src/ssr/elements.ts",
        );
        Object.defineProperty(exports, "HTMLElementSSR", {
          enumerable: true,
          get: function () {
            return elements_1.HTMLElementSSR;
          },
        });

        /***/
      },

    /***/ "./src/ssr/renderToString.ts":
      /*!***********************************!*\
  !*** ./src/ssr/renderToString.ts ***!
  \***********************************/
      /***/ (__unused_webpack_module, exports, __webpack_require__) => {
        Object.defineProperty(exports, "__esModule", { value: true });
        exports.renderToString = exports.initSSR = void 0;
        const _1 = __webpack_require__(/*! . */ "./src/ssr/index.ts");
        const core_1 = __webpack_require__(
          /*! ../core */ "./src/core/index.ts",
        );
        const utils_1 = __webpack_require__(/*! ../utils */ "./src/utils.ts");
        globalThis.isSSR = utils_1.detectSSR() === true ? true : undefined;
        globalThis._nano = { isSSR, location: { pathname: "/" } };
        function initSSR(pathname = "/") {
          _nano.location = { pathname };
          // @ts-ignore
          globalThis.document = isSSR ? new _1.DocumentSSR() : window.document;
        }
        exports.initSSR = initSSR;
        function renderToString(component, options = {}) {
          const { pathname, clearState = true } = options;
          initSSR(pathname);
          if (clearState) core_1._state.clear();
          return core_1.render(component, null, true).join("");
        }
        exports.renderToString = renderToString;

        /***/
      },

    /***/ "./src/utils.ts":
      /*!**********************!*\
  !*** ./src/utils.ts ***!
  \**********************/
      /***/ (__unused_webpack_module, exports) => {
        Object.defineProperty(exports, "__esModule", { value: true });
        exports.nodeToString =
          exports.task =
          exports.onNodeRemove =
          exports.isDescendant =
          exports.strToHash =
          exports.detectSSR =
          exports.isEvent =
          exports.nextTick =
            void 0;
        exports.nextTick =
          typeof Promise === "function"
            ? Promise.prototype.then.bind(Promise.resolve())
            : setTimeout;
        function isEvent(el, prop) {
          if (!~prop.indexOf("on")) {
            return false;
          }
          if (el.ssr) return true;
          return ["function", "object"].includes(typeof el[prop]);
        }
        exports.isEvent = isEvent;
        function detectSSR() {
          //@ts-ignore
          return typeof Deno !== "undefined" || typeof window === "undefined";
        }
        exports.detectSSR = detectSSR;
        function strToHash(str) {
          let hash = 0;
          if (!str.length) return hash;
          for (let i = 0; i < str.length; i++) {
            const char = str.charCodeAt(i);
            hash = (hash << 5) - hash + char;
            hash |= 0;
          }
          return Math.abs(hash).toString(32);
        }
        exports.strToHash = strToHash;
        function isDescendant(descendant, root) {
          return (
            descendant &&
            (descendant === root || isDescendant(descendant.parentNode, root))
          );
        }
        exports.isDescendant = isDescendant;
        function onNodeRemove(el, callback) {
          let observer = new MutationObserver((mutList) => {
            for (const mut of mutList) {
              mut.removedNodes.forEach((removedNode) => {
                if (isDescendant(el, removedNode)) {
                  callback();
                  if (observer) {
                    observer.disconnect();
                    // @ts-ignore
                    observer = undefined;
                  }
                }
              });
            }
          });
          observer.observe(document, {
            childList: true,
            subtree: true,
          });
          return observer;
        }
        exports.onNodeRemove = onNodeRemove;
        function task(func) {
          return setTimeout(func, 0);
        }
        exports.task = task;
        function nodeToString(node) {
          const temp = document.createDocumentFragment();
          temp.appendChild(node.cloneNode(true));
          return temp.toString();
        }
        exports.nodeToString = nodeToString;

        /***/
      },

    /******/
  }; // The module cache
  /************************************************************************/
  /******/ /******/ var __webpack_module_cache__ = {}; // The require function
  /******/
  /******/ /******/ function __webpack_require__(moduleId) {
    /******/ // Check if module is in cache
    /******/ var cachedModule = __webpack_module_cache__[moduleId];
    /******/ if (cachedModule !== undefined) {
      /******/ return cachedModule.exports;
      /******/
    } // Create a new module (and put it into the cache)
    /******/ /******/ var module = (__webpack_module_cache__[moduleId] = {
      /******/ // no module.id needed
      /******/ // no module.loaded needed
      /******/ exports: {},
      /******/
    }); // Execute the module function
    /******/
    /******/ /******/ __webpack_modules__[moduleId].call(
      module.exports,
      module,
      module.exports,
      __webpack_require__,
    ); // Return the exports of the module
    /******/
    /******/ /******/ return module.exports;
    /******/
  }
  /******/
  /************************************************************************/
  var __webpack_exports__ = {};
  // This entry need to be wrapped in an IIFE because it need to be isolated against other modules in the chunk.
  (() => {
    var exports = __webpack_exports__;
    /*!*****************************!*\
  !*** ./src/bundles/full.ts ***!
  \*****************************/

    Object.defineProperty(exports, "__esModule", { value: true });
    const __1 = __webpack_require__(/*! ../ */ "./src/index.ts");
    exports.default = {
      Suspense: __1.Suspense,
      Link: __1.Link,
      Switch: __1.Switch,
      Route: __1.Route,
      VidaLink: __1.VidaLink,
      Img: __1.Img,
      Helmet: __1.Helmet,
      Visible: __1.Visible,
      h: __1.h,
      nextTick: __1.nextTick,
      render: __1.render,
      hydrate: __1.hydrate,
      renderToString: __1.renderToString,
      Fragment: __1.Fragment,
      Component: __1.Component,
      withStyles: __1.withStyles,
      createContext: __1.createContext,
      lazyHydration: __1.lazyHydration,
    };
  })();

  vida = __webpack_exports__.default;
  /******/
})();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly92aWRhLy4vc3JjL2NvbXBvbmVudHMvaGVsbWV0LnRzIiwid2VicGFjazovL3ZpZGEvLi9zcmMvY29tcG9uZW50cy9pbWcudHMiLCJ3ZWJwYWNrOi8vdmlkYS8uL3NyYy9jb21wb25lbnRzL2luZGV4LnRzIiwid2VicGFjazovL3ZpZGEvLi9zcmMvY29tcG9uZW50cy9saW5rLnRzIiwid2VicGFjazovL3ZpZGEvLi9zcmMvY29tcG9uZW50cy9yb3V0ZXIudHMiLCJ3ZWJwYWNrOi8vdmlkYS8uL3NyYy9jb21wb25lbnRzL3N1c3BlbnNlLnRzIiwid2VicGFjazovL3ZpZGEvLi9zcmMvY29tcG9uZW50cy92aXNpYmxlLnRzIiwid2VicGFjazovL3ZpZGEvLi9zcmMvY29yZS9hcHBlbmRDaGlsZHJlbi50cyIsIndlYnBhY2s6Ly92aWRhLy4vc3JjL2NvcmUvY29tcG9uZW50LnRzIiwid2VicGFjazovL3ZpZGEvLi9zcmMvY29yZS9jb250ZXh0LnRzIiwid2VicGFjazovL3ZpZGEvLi9zcmMvY29yZS9mcmFnbWVudC50cyIsIndlYnBhY2s6Ly92aWRhLy4vc3JjL2NvcmUvaC50cyIsIndlYnBhY2s6Ly92aWRhLy4vc3JjL2NvcmUvaHlkcmF0ZS50cyIsIndlYnBhY2s6Ly92aWRhLy4vc3JjL2NvcmUvaW5kZXgudHMiLCJ3ZWJwYWNrOi8vdmlkYS8uL3NyYy9jb3JlL2xhenlIeWRyYXRpb24udHMiLCJ3ZWJwYWNrOi8vdmlkYS8uL3NyYy9jb3JlL3JlbmRlci50cyIsIndlYnBhY2s6Ly92aWRhLy4vc3JjL2NvcmUvcmVuZGVyRWxlbWVudC50cyIsIndlYnBhY2s6Ly92aWRhLy4vc3JjL2NvcmUvc3RhdGUudHMiLCJ3ZWJwYWNrOi8vdmlkYS8uL3NyYy9jb3JlL3dpdGhTdHlsZXMudHMiLCJ3ZWJwYWNrOi8vdmlkYS8uL3NyYy9pbmRleC50cyIsIndlYnBhY2s6Ly92aWRhLy4vc3JjL3Nzci9kb2N1bWVudC50cyIsIndlYnBhY2s6Ly92aWRhLy4vc3JjL3Nzci9lbGVtZW50cy50cyIsIndlYnBhY2s6Ly92aWRhLy4vc3JjL3Nzci9pbmRleC50cyIsIndlYnBhY2s6Ly92aWRhLy4vc3JjL3Nzci9yZW5kZXJUb1N0cmluZy50cyIsIndlYnBhY2s6Ly92aWRhLy4vc3JjL3V0aWxzLnRzIiwid2VicGFjazovL3ZpZGEvd2VicGFjay9ib290c3RyYXAiLCJ3ZWJwYWNrOi8vdmlkYS8uL3NyYy9idW5kbGVzL2Z1bGwudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7QUFBQSx5RUFBdUQ7QUFFdkQsTUFBYSxNQUFPLFNBQVEsZ0JBQVM7SUFDbkMsTUFBTSxDQUFDLEdBQUcsQ0FBQyxJQUFZO1FBQ3JCLE1BQU0sR0FBRyxHQUFHLDJDQUEyQyxDQUFDO1FBRXhELE1BQU0sSUFBSSxHQUFhLEVBQUUsQ0FBQztRQUMxQixNQUFNLE1BQU0sR0FBYSxFQUFFLENBQUM7UUFFNUIsSUFBSSxRQUFRLGFBQVIsUUFBUSx1QkFBUixRQUFRLENBQUUsSUFBSSxFQUFFO1lBQ2xCLElBQUksUUFBUSxHQUFJLFFBQVEsQ0FBQyxJQUFJLENBQUMsUUFBZ0MsQ0FBQztZQUUvRCxLQUFLLElBQUksQ0FBQyxHQUFHLENBQUMsRUFBRSxDQUFDLEdBQUcsUUFBUSxDQUFDLE1BQU0sRUFBRSxDQUFDLEVBQUUsRUFBRTtnQkFDeEMsSUFBSSxJQUFJLENBQUMsT0FBTyxDQUFDLFFBQVEsQ0FBQyxDQUFDLENBQUMsQ0FBQyxLQUFLLENBQUMsQ0FBQyxFQUFFO29CQUNwQyxJQUFJLENBQUMsSUFBSSxDQUFDLFFBQVEsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDO2lCQUN4QjthQUNGO1NBQ0Y7UUFFRCxJQUFJLE1BQU0sQ0FBQztRQUVYLE9BQU8sQ0FBQyxNQUFNLEdBQUcsR0FBRyxDQUFDLElBQUksQ0FBQyxJQUFJLENBQUMsQ0FBQyxJQUFJLElBQUksRUFBRTtZQUN4QyxNQUFNLEtBQUssR0FBRyxNQUFNLENBQUMsQ0FBQyxDQUFDLENBQUM7WUFDeEIsTUFBTSxNQUFNLEdBQUcsTUFBTSxDQUFDLENBQUMsQ0FBQyxDQUFDO1lBRXpCLE1BQU0sTUFBTSxHQUFHLEtBQUssQ0FBQyxRQUFRLENBQUMsdUJBQXVCLENBQUMsQ0FBQztZQUV2RCxJQUFJLE1BQU0sSUFBSSxDQUFDLElBQUksQ0FBQyxRQUFRLENBQUMsTUFBTSxDQUFDO2dCQUFFLElBQUksQ0FBQyxJQUFJLENBQUMsTUFBTSxDQUFDLENBQUM7aUJBQ25ELElBQUksQ0FBQyxNQUFNLENBQUMsUUFBUSxDQUFDLE1BQU0sQ0FBQztnQkFBRSxNQUFNLENBQUMsSUFBSSxDQUFDLE1BQU0sQ0FBQyxDQUFDO1NBQ3hEO1FBRUQsTUFBTSxTQUFTLEdBQUcsSUFBSSxDQUFDLE9BQU8sQ0FBQyxHQUFHLEVBQUUsRUFBRSxDQUFDLENBQUM7UUFDeEMsT0FBTztZQUNMLElBQUksRUFBRSxTQUFTO1lBQ2YsSUFBSTtZQUNKLE1BQU07U0FDUCxDQUFDO0lBQ0osQ0FBQztJQUVELEtBQUs7O1FBQ0gsS0FBSyxNQUFNLE9BQU8sSUFBSSxJQUFJLENBQUMsS0FBSyxDQUFDLFFBQVEsRUFBRTtZQUN6QyxNQUFNLE1BQU0sR0FBRyxJQUFJLENBQUMsS0FBSyxDQUFDLE1BQU0sQ0FBQyxDQUFDLENBQUMsUUFBUSxDQUFDLElBQUksQ0FBQyxDQUFDLENBQUMsUUFBUSxDQUFDLElBQUksQ0FBQztZQUNqRSxNQUFNLEdBQUcsR0FBSSxPQUF1QixDQUFDLE9BQU8sQ0FBQztZQUM3QyxJQUFJLEtBQUssR0FBYSxFQUFFLENBQUM7WUFFekIsS0FBSyxDQUFDLElBQUksQ0FBQyxPQUFPLENBQUMsU0FBUyxDQUFDLENBQUM7WUFFOUIsS0FBSyxJQUFJLENBQUMsR0FBRyxDQUFDLEVBQUUsQ0FBQyxHQUFHLE9BQU8sQ0FBQyxVQUFVLENBQUMsTUFBTSxFQUFFLENBQUMsRUFBRSxFQUFFO2dCQUNsRCxLQUFLLENBQUMsSUFBSSxDQUFDLGFBQU8sQ0FBQyxVQUFVLENBQUMsSUFBSSxDQUFDLENBQUMsQ0FBQywwQ0FBRSxJQUFJLENBQUMsV0FBVyxFQUFFLENBQUMsQ0FBQztnQkFDM0QsS0FBSyxDQUFDLElBQUksQ0FBQyxhQUFPLENBQUMsVUFBVSxDQUFDLElBQUksQ0FBQyxDQUFDLENBQUMsMENBQUUsS0FBSyxDQUFDLFdBQVcsRUFBRSxDQUFDLENBQUM7YUFDN0Q7WUFFRCxJQUFJLEdBQUcsS0FBSyxNQUFNLElBQUksR0FBRyxLQUFLLE1BQU0sRUFBRTtnQkFDcEMsTUFBTSxPQUFPLEdBQUcsUUFBUSxDQUFDLG9CQUFvQixDQUFDLEdBQUcsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDO2dCQUN0RCxLQUFLLElBQUksQ0FBQyxHQUFHLENBQUMsRUFBRSxDQUFDLEdBQUcsT0FBTyxDQUFDLFVBQVUsQ0FBQyxNQUFNLEVBQUUsQ0FBQyxJQUFJLENBQUMsRUFBRTtvQkFDckQsT0FBTyxDQUFDLFlBQVksQ0FBQyxLQUFLLENBQUMsQ0FBQyxDQUFDLEVBQUUsS0FBSyxDQUFDLENBQUMsR0FBRyxDQUFDLENBQUMsQ0FBQyxDQUFDO2lCQUM5QztnQkFDRCxPQUFPO2FBQ1I7aUJBQU0sSUFBSSxHQUFHLEtBQUssT0FBTyxFQUFFO2dCQUMxQixNQUFNLFFBQVEsR0FBRyxRQUFRLENBQUMsb0JBQW9CLENBQzVDLEdBQUcsQ0FDa0MsQ0FBQztnQkFFeEMsSUFBSSxRQUFRLENBQUMsTUFBTSxFQUFFO29CQUNuQixRQUFRLENBQUMsQ0FBQyxDQUFDLENBQUMsSUFBSSxHQUFHLE9BQU8sQ0FBQyxJQUFJLENBQUM7aUJBQ2pDO3FCQUFNO29CQUNMLE1BQU0sUUFBUSxHQUFHLFFBQUMsQ0FDaEIsT0FBTyxFQUNQLElBQUksRUFDSixPQUFPLENBQUMsU0FBUyxDQUNFLENBQUM7b0JBQ3RCLE1BQU0sQ0FBQyxXQUFXLENBQUMsUUFBUSxDQUFDLENBQUM7aUJBQzlCO2dCQUNELE9BQU87YUFDUjtZQUVELElBQUksTUFBTSxHQUFHLEtBQUssQ0FBQztZQUNuQixLQUFLLEdBQUcsS0FBSyxDQUFDLElBQUksRUFBRSxDQUFDO1lBRXJCLE1BQU0sRUFBRSxHQUFHLFFBQVEsQ0FBQyxvQkFBb0IsQ0FDdEMsR0FBRyxDQUM2QixDQUFDO1lBRW5DLEtBQUssSUFBSSxDQUFDLEdBQUcsQ0FBQyxFQUFFLENBQUMsR0FBRyxFQUFFLENBQUMsTUFBTSxFQUFFLENBQUMsRUFBRSxFQUFFO2dCQUNsQyxJQUFJLE1BQU0sR0FBYSxFQUFFLENBQUM7Z0JBRTFCLE1BQU0sQ0FBQyxJQUFJLENBQUMsRUFBRSxDQUFDLENBQUMsQ0FBQyxDQUFDLFNBQVMsQ0FBQyxDQUFDO2dCQUU3QixLQUFLLElBQUksQ0FBQyxHQUFHLENBQUMsRUFBRSxDQUFDLEdBQUcsRUFBRSxDQUFDLENBQUMsQ0FBQyxDQUFDLFVBQVUsQ0FBQyxNQUFNLEVBQUUsQ0FBQyxFQUFFLEVBQUU7b0JBQ2hELE1BQU0sQ0FBQyxJQUFJLENBQUMsUUFBRSxDQUFDLENBQUMsQ0FBQyxDQUFDLFVBQVUsQ0FBQyxJQUFJLENBQUMsQ0FBQyxDQUFDLDBDQUFFLElBQUksQ0FBQyxXQUFXLEVBQVksQ0FBQyxDQUFDO29CQUNwRSxNQUFNLENBQUMsSUFBSSxDQUFDLFFBQUUsQ0FBQyxDQUFDLENBQUMsQ0FBQyxVQUFVLENBQUMsSUFBSSxDQUFDLENBQUMsQ0FBQywwQ0FBRSxLQUFLLENBQUMsV0FBVyxFQUFZLENBQUMsQ0FBQztpQkFDdEU7Z0JBQ0QsTUFBTSxHQUFHLE1BQU0sQ0FBQyxJQUFJLEVBQUUsQ0FBQztnQkFFdkIsSUFDRSxLQUFLLENBQUMsTUFBTSxHQUFHLENBQUM7b0JBQ2hCLE1BQU0sQ0FBQyxNQUFNLEdBQUcsQ0FBQztvQkFDakIsSUFBSSxDQUFDLFNBQVMsQ0FBQyxLQUFLLENBQUMsS0FBSyxJQUFJLENBQUMsU0FBUyxDQUFDLE1BQU0sQ0FBQztvQkFFaEQsTUFBTSxHQUFHLElBQUksQ0FBQzthQUNqQjtZQUVELElBQUksQ0FBQyxNQUFNLEVBQUU7Z0JBQ1gscUJBQWMsQ0FBQyxNQUFNLEVBQUUsT0FBTyxDQUFDLENBQUM7YUFDakM7U0FDRjtJQUNILENBQUM7SUFFRCxNQUFNO1FBQ0osSUFBSSxLQUFLLEVBQUU7WUFDVCxPQUFPLFFBQUMsQ0FDTixRQUFRLEVBQ1I7Z0JBQ0UsVUFBVSxFQUFFLElBQUk7Z0JBQ2hCLGdCQUFnQixFQUFFLElBQUksQ0FBQyxLQUFLLENBQUMsTUFBTSxDQUFDLENBQUMsQ0FBQyxRQUFRLENBQUMsQ0FBQyxDQUFDLE1BQU07YUFDeEQsRUFDRCxJQUFJLENBQUMsS0FBSyxDQUFDLFFBQVEsQ0FDcEIsQ0FBQztTQUNIO2FBQU07WUFDTCxPQUFPLEVBQUUsQ0FBQztTQUNYO0lBQ0gsQ0FBQztDQUNGO0FBeEhELHdCQXdIQzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQzFIRCx5RUFBdUM7QUFDdkMsc0VBQXFDO0FBRXJDLE1BQWEsR0FBSSxTQUFRLGdCQUFTO0lBQ2hDLFlBQVksS0FBVTtRQUNwQixLQUFLLENBQUMsS0FBSyxDQUFDLENBQUM7UUFFYixNQUFNLEVBQUUsR0FBRyxFQUFFLEdBQUcsRUFBRSxHQUFHLElBQUksQ0FBQyxLQUFLLENBQUM7UUFDaEMsSUFBSSxDQUFDLEVBQUUsR0FBRyxpQkFBUyxDQUFDLEdBQUcsQ0FBQyxHQUFHLEdBQUcsR0FBRyxpQkFBUyxDQUFDLElBQUksQ0FBQyxTQUFTLENBQUMsSUFBSSxDQUFDLEtBQUssQ0FBQyxDQUFDLENBQUM7UUFDdkUsSUFBSSxHQUFHLEVBQUU7WUFDUCxJQUFJLENBQUMsRUFBRSxJQUFJLFFBQVEsR0FBRyxFQUFFLENBQUM7U0FDMUI7UUFFRCxJQUFJLENBQUMsSUFBSSxDQUFDLEtBQUssRUFBRTtZQUNmLElBQUksQ0FBQyxRQUFRLENBQUMsRUFBRSxLQUFLLEVBQUUsRUFBRSxFQUFFLFFBQVEsRUFBRSxLQUFLLEVBQUUsQ0FBQyxDQUFDO1NBQy9DO0lBQ0gsQ0FBQztJQUVELEtBQUs7UUFDSCxNQUFNLEtBT0YsSUFBSSxDQUFDLEtBQUssRUFQUixFQUNKLElBQUksR0FBRyxJQUFJLEVBQ1gsV0FBVyxFQUNYLEdBQUcsRUFDSCxHQUFHLEVBQ0gsUUFBUSxPQUVJLEVBRFQsSUFBSSxjQU5ILGlEQU9MLENBQWEsQ0FBQztRQUVmLElBQUksQ0FBQyxJQUFJO1lBQUUsT0FBTztRQUVsQixNQUFNLFFBQVEsR0FBRyxJQUFJLG9CQUFvQixDQUN2QyxDQUFDLE9BQU8sRUFBRSxRQUFRLEVBQUUsRUFBRTtZQUNwQixLQUFLLE1BQU0sS0FBSyxJQUFJLE9BQU8sRUFBRTtnQkFDM0IsSUFBSSxLQUFLLENBQUMsY0FBYyxFQUFFO29CQUN4QixRQUFRLENBQUMsVUFBVSxFQUFFLENBQUM7b0JBQ3RCLElBQUksQ0FBQyxLQUFLLENBQUMsS0FBSyxHQUFHLFFBQUMsQ0FBQyxLQUFLLG9CQUFPLElBQUksRUFBRyxDQUFDO29CQUN6QyxJQUFJLElBQUksQ0FBQyxLQUFLLENBQUMsS0FBSyxDQUFDLFFBQVEsRUFBRTt3QkFDN0IsSUFBSSxDQUFDLEtBQUssQ0FBQyxRQUFRLEdBQUcsSUFBSSxDQUFDO3dCQUMzQixJQUFJLENBQUMsTUFBTSxFQUFFLENBQUM7cUJBQ2Y7eUJBQU07d0JBQ0wsSUFBSSxDQUFDLEtBQUssQ0FBQyxLQUFLLENBQUMsTUFBTSxHQUFHLEdBQUcsRUFBRTs0QkFDN0IsSUFBSSxDQUFDLEtBQUssQ0FBQyxRQUFRLEdBQUcsSUFBSSxDQUFDOzRCQUMzQixJQUFJLENBQUMsTUFBTSxFQUFFLENBQUM7d0JBQ2hCLENBQUMsQ0FBQztxQkFDSDtpQkFDRjthQUNGO1FBQ0gsQ0FBQyxFQUNELEVBQUUsU0FBUyxFQUFFLENBQUMsQ0FBQyxFQUFFLENBQUMsQ0FBQyxFQUFFLENBQ3RCLENBQUM7UUFFRixRQUFRLENBQUMsT0FBTyxDQUFDLElBQUksQ0FBQyxRQUFRLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQztJQUNyQyxDQUFDO0lBRUQsTUFBTTtRQUNKLE1BQU0sS0FRRixJQUFJLENBQUMsS0FBSyxFQVJSLEVBQ0osSUFBSSxHQUFHLElBQUksRUFDWCxHQUFHLEVBQ0gsV0FBVyxFQUNYLEdBQUcsRUFDSCxHQUFHLEVBQ0gsUUFBUSxPQUVJLEVBRFQsSUFBSSxjQVBILHdEQVFMLENBQWEsQ0FBQztRQUVmLElBQUksQ0FBQyxJQUFJLEVBQUU7WUFDVCxJQUFJLENBQUMsS0FBSyxDQUFDLEtBQUssR0FBRyxRQUFDLENBQUMsS0FBSyxrQkFBSSxHQUFHLElBQUssSUFBSSxFQUFHLENBQUM7WUFDOUMsT0FBTyxJQUFJLENBQUMsS0FBSyxDQUFDLEtBQUssQ0FBQztTQUN6QjtRQUVELElBQUksSUFBSSxDQUFDLEtBQUssQ0FBQyxRQUFRLEVBQUU7WUFDdkIsT0FBTyxJQUFJLENBQUMsS0FBSyxDQUFDLEtBQUssQ0FBQztTQUN6QjthQUFNLElBQUksT0FBTyxXQUFXLEtBQUssUUFBUSxFQUFFO1lBQzFDLE9BQU8sUUFBQyxDQUFDLEtBQUssa0JBQUksR0FBRyxFQUFFLFdBQVcsSUFBSyxJQUFJLEVBQUcsQ0FBQztTQUNoRDthQUFNLElBQUksT0FBTyxXQUFXLEtBQUssVUFBVSxFQUFFO1lBQzVDLE9BQU8sV0FBVyxFQUFFLENBQUM7U0FDdEI7YUFBTTtZQUNMLE1BQU0sS0FBSyxHQUFHO2dCQUNaLGVBQWUsRUFBRSxXQUFXO2dCQUM1QixLQUFLLEVBQUUsT0FBTztnQkFDZCxNQUFNLEVBQUUsT0FBTzthQUNoQixDQUFDO1lBRUYsTUFBTSxFQUFFLEtBQUssRUFBRSxNQUFNLEtBQWdCLElBQUksRUFBZixNQUFNLFVBQUssSUFBSSxFQUFuQyxtQkFBNEIsQ0FBTyxDQUFDO1lBQzFDLElBQUksS0FBSyxFQUFFO2dCQUNULEtBQUssQ0FBQyxLQUFLLEdBQUcsS0FBSyxDQUFDO2FBQ3JCO1lBQ0QsSUFBSSxNQUFNLEVBQUU7Z0JBQ1YsS0FBSyxDQUFDLE1BQU0sR0FBRyxNQUFNLENBQUM7YUFDdkI7WUFDRCxPQUFPLFFBQUMsQ0FBQyxLQUFLLGtCQUFJLEtBQUssSUFBSyxNQUFNLEVBQUcsQ0FBQztTQUN2QztJQUNILENBQUM7Q0FDRjtBQTFGRCxrQkEwRkM7Ozs7Ozs7Ozs7Ozs7O0FDN0ZELGlGQUFrQztBQUF6Qix1R0FBTTtBQUNmLHdFQUE0QjtBQUFuQiw4RkFBRztBQUNaLDJFQUE4QjtBQUFyQixpR0FBSTtBQUNiLHVGQUFzQztBQUE3Qiw2R0FBUTtBQUNqQixvRkFBb0M7QUFBM0IsMEdBQU87QUFDaEIsaUZBQTJEO0FBQWxELHFHQUFLO0FBQUUsdUdBQU07QUFBRSx1R0FBSSxRQUFZOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FDTHhDLHlFQUFpRDtBQUNqRCxtRkFBa0M7QUFFbEMsTUFBYSxJQUFLLFNBQVEsZ0JBQVM7SUFDakMsS0FBSztRQUNILE1BQU0sRUFBRSxRQUFRLEVBQUUsSUFBSSxFQUFFLEtBQUssRUFBRSxJQUFJLEdBQUcsS0FBSyxFQUFFLEdBQUcsSUFBSSxDQUFDLEtBQUssQ0FBQztRQUUzRCxJQUFJLElBQUksRUFBRTtZQUNSLElBQUksQ0FBQyxRQUFRLENBQUMsQ0FBQyxDQUFDLENBQUMsZ0JBQWdCLENBQy9CLE9BQU8sRUFDUCxTQUFTLE9BQU8sQ0FBYSxDQUFRO2dCQUNuQyxDQUFDLENBQUMsY0FBYyxFQUFFLENBQUM7Z0JBQ25CLE1BQU0sTUFBTSxHQUFHLENBQUMsQ0FBQyxNQUF5QixDQUFDO2dCQUMzQyxJQUFJLE1BQU0sQ0FBQyxJQUFJLEtBQUssUUFBUSxDQUFDLFFBQVEsRUFBRTtvQkFDckMsTUFBTSxDQUFDLE9BQU8sQ0FBQyxJQUFJLEVBQUUsQ0FBQztpQkFDdkI7cUJBQU07b0JBQ0wsTUFBTSxDQUFDLFFBQVEsQ0FBQyxJQUFJLEdBQUcsSUFBSSxDQUFDO2lCQUM3QjtZQUNILENBQUMsQ0FBQyxJQUFJLENBQUMsSUFBSSxDQUFDLENBQ2IsQ0FBQztTQUNIO1FBRUQsSUFBSSxLQUFLLEVBQUU7WUFDVCxJQUFJLENBQUMsUUFBUSxDQUFDLENBQUMsQ0FBQyxDQUFDLGdCQUFnQixDQUMvQixPQUFPLEVBQ1AsU0FBUyxPQUFPLENBQWEsQ0FBUTtnQkFDbkMsQ0FBQyxDQUFDLGNBQWMsRUFBRSxDQUFDO2dCQUNuQixVQUFVLENBQUMsR0FBRyxFQUFFO29CQUNkLE1BQU0sQ0FBQyxRQUFRLENBQUMsSUFBSSxHQUFHLElBQUksQ0FBQztnQkFDOUIsQ0FBQyxFQUFFLEtBQUssQ0FBQyxDQUFDO1lBQ1osQ0FBQyxDQUFDLElBQUksQ0FBQyxJQUFJLENBQUMsQ0FDYixDQUFDO1NBQ0g7UUFFRCxJQUFJLFFBQVEsRUFBRTtZQUNaLElBQUksUUFBUSxLQUFLLE9BQU8sRUFBRTtnQkFDeEIsSUFBSSxDQUFDLGVBQWUsRUFBRSxDQUFDO2FBQ3hCO2lCQUFNLElBQUksUUFBUSxLQUFLLFNBQVMsRUFBRTtnQkFDakMsSUFBSSxDQUFDLGlCQUFpQixFQUFFLENBQUM7YUFDMUI7aUJBQU07Z0JBQ0wsSUFBSSxDQUFDLFdBQVcsRUFBRSxDQUFDO2FBQ3BCO1NBQ0Y7SUFDSCxDQUFDO0lBRUQsZUFBZTtRQUNiLElBQUksQ0FBQyxRQUFRLENBQUMsQ0FBQyxDQUFDLENBQUMsZ0JBQWdCLENBQy9CLFdBQVcsRUFDWCxTQUFTLE9BQU87WUFDZCxJQUFJLENBQUMsV0FBVyxFQUFFLENBQUM7UUFDckIsQ0FBQyxDQUFDLElBQUksQ0FBQyxJQUFJLENBQUMsRUFDWixFQUFFLElBQUksRUFBRSxJQUFJLEVBQUUsQ0FDZixDQUFDO0lBQ0osQ0FBQztJQUVELGlCQUFpQjtRQUNmLE1BQU0sUUFBUSxHQUFHLElBQUksb0JBQW9CLENBQ3ZDLENBQUMsT0FBTyxFQUFFLFFBQVEsRUFBRSxFQUFFO1lBQ3BCLEtBQUssTUFBTSxLQUFLLElBQUksT0FBTyxFQUFFO2dCQUMzQixJQUFJLEtBQUssQ0FBQyxjQUFjLEVBQUU7b0JBQ3hCLFFBQVEsQ0FBQyxVQUFVLEVBQUUsQ0FBQztvQkFDdEIsSUFBSSxDQUFDLFdBQVcsRUFBRSxDQUFDO2lCQUNwQjthQUNGO1FBQ0gsQ0FBQyxFQUNELEVBQUUsU0FBUyxFQUFFLENBQUMsQ0FBQyxFQUFFLENBQUMsQ0FBQyxFQUFFLENBQ3RCLENBQUM7UUFDRixRQUFRLENBQUMsT0FBTyxDQUFDLElBQUksQ0FBQyxRQUFRLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQztJQUNyQyxDQUFDO0lBRUQsV0FBVztRQUNULElBQUksTUFBTSxHQUFHLEtBQUssQ0FBQztRQUVuQixNQUFNLEtBQUssR0FBRyxRQUFRLENBQUMsb0JBQW9CLENBQUMsTUFBTSxDQUFDLENBQUM7UUFFcEQsS0FBSyxNQUFNLElBQUksSUFBSSxLQUFLLEVBQUU7WUFDeEIsSUFDRSxJQUFJLENBQUMsWUFBWSxDQUFDLEtBQUssQ0FBQyxLQUFLLFVBQVU7Z0JBQ3ZDLElBQUksQ0FBQyxZQUFZLENBQUMsTUFBTSxDQUFDLEtBQUssSUFBSSxDQUFDLEtBQUssQ0FBQyxJQUFJLEVBQzdDO2dCQUNBLE1BQU0sR0FBRyxJQUFJLENBQUM7YUFDZjtTQUNGO1FBRUQsSUFBSSxDQUFDLE1BQU0sRUFBRTtZQUNYLE1BQU0sUUFBUSxHQUFHLFFBQUMsQ0FBQyxNQUFNLEVBQUU7Z0JBQ3pCLEdBQUcsRUFBRSxVQUFVO2dCQUNmLElBQUksRUFBRSxJQUFJLENBQUMsS0FBSyxDQUFDLElBQUk7Z0JBQ3JCLEVBQUUsRUFBRSxVQUFVO2FBQ2YsQ0FBQyxDQUFDO1lBQ0gsUUFBUSxDQUFDLElBQUksQ0FBQyxXQUFXLENBQUMsUUFBUSxDQUFDLENBQUM7U0FDckM7SUFDSCxDQUFDO0lBRUQsTUFBTTtRQUNKLE1BQU0sS0FPRixJQUFJLENBQUMsS0FBSyxFQVBSLEVBQ0osUUFBUSxFQUNSLFFBQVEsRUFDUixLQUFLLEVBQ0wsSUFBSSxHQUFHLEtBQUssRUFDWixHQUFHLE9BRVMsRUFEVCxJQUFJLGNBTkgsZ0RBT0wsQ0FBYSxDQUFDO1FBRWYsTUFBTSxDQUFDLEdBQUcsUUFBQyxDQUFDLEdBQUcsb0JBQU8sSUFBSSxHQUFJLEdBQUcsUUFBUSxDQUFDLENBQUM7UUFFM0MsSUFBSSxRQUFRLElBQUksS0FBSyxFQUFFO1lBQ3JCLE1BQU0sSUFBSSxHQUFHLFFBQUMsQ0FBQyxNQUFNLEVBQUU7Z0JBQ3JCLEdBQUcsRUFBRSxVQUFVO2dCQUNmLElBQUksRUFBRSxJQUFJLENBQUMsS0FBSyxDQUFDLElBQUk7Z0JBQ3JCLEVBQUUsRUFBRSxVQUFVO2FBQ2YsQ0FBQyxDQUFDO1lBQ0gsTUFBTSxNQUFNLEdBQUcsUUFBQyxDQUFDLGVBQU0sRUFBRSxJQUFJLEVBQUUsSUFBSSxDQUFDLENBQUM7WUFDckMsT0FBTyxRQUFDLENBQUMsZUFBUSxFQUFFLElBQUksRUFBRSxDQUFDLE1BQU0sRUFBRSxDQUFDLENBQUMsQ0FBQyxDQUFDO1NBQ3ZDO2FBQU07WUFDTCxPQUFPLENBQUMsQ0FBQztTQUNWO0lBQ0gsQ0FBQztDQUNGO0FBbkhELG9CQW1IQzs7Ozs7Ozs7Ozs7Ozs7QUN0SEQseUVBQXNEO0FBRXRELE1BQU0sU0FBUyxHQUFVLEVBQUUsQ0FBQztBQUU1QixTQUFTLFFBQVEsQ0FBQyxJQUFTO0lBQ3pCLFNBQVMsQ0FBQyxJQUFJLENBQUMsSUFBSSxDQUFDLENBQUM7QUFDdkIsQ0FBQztBQUVELFNBQVMsVUFBVSxDQUFDLElBQVM7SUFDM0IsU0FBUyxDQUFDLE1BQU0sQ0FBQyxTQUFTLENBQUMsT0FBTyxDQUFDLElBQUksQ0FBQyxFQUFFLENBQUMsQ0FBQyxDQUFDO0FBQy9DLENBQUM7QUFFRCxTQUFTLFdBQVcsQ0FBQyxJQUFZO0lBQy9CLE1BQU0sQ0FBQyxPQUFPLENBQUMsU0FBUyxDQUFDLEVBQUUsRUFBRSxFQUFFLEVBQUUsSUFBSSxDQUFDLENBQUM7SUFDdkMsS0FBSyxNQUFNLFFBQVEsSUFBSSxTQUFTLEVBQUU7UUFDaEMsUUFBUSxDQUFDLFdBQVcsRUFBRSxDQUFDO0tBQ3hCO0FBQ0gsQ0FBQztBQUVELFNBQVMsY0FBYyxDQUFDLElBQVk7SUFDbEMsTUFBTSxDQUFDLE9BQU8sQ0FBQyxZQUFZLENBQUMsRUFBRSxFQUFFLEVBQUUsRUFBRSxJQUFJLENBQUMsQ0FBQztJQUMxQyxLQUFLLE1BQU0sUUFBUSxJQUFJLFNBQVMsRUFBRTtRQUNoQyxRQUFRLENBQUMsV0FBVyxFQUFFLENBQUM7S0FDeEI7QUFDSCxDQUFDO0FBRUQsU0FBUyxTQUFTLENBQ2hCLFFBQWdCLEVBQ2hCLE9BSUM7SUFFRCxNQUFNLEVBQUUsS0FBSyxHQUFHLEtBQUssRUFBRSxLQUFLLEVBQUUsR0FBRyxPQUFPLENBQUM7SUFDekMsSUFBSSxFQUFFLElBQUksRUFBRSxHQUFHLE9BQU8sQ0FBQztJQUV2QixJQUFJLENBQUMsSUFBSSxFQUFFO1FBQ1QsT0FBTztZQUNMLElBQUksRUFBRSxJQUFJO1lBQ1YsR0FBRyxFQUFFLFFBQVE7WUFDYixPQUFPLEVBQUUsSUFBSTtTQUNkLENBQUM7S0FDSDtJQUVELElBQUksS0FBSyxDQUFDO0lBQ1YsSUFBSSxNQUFNLEdBQUcsRUFBRSxDQUFDO0lBRWhCLG1CQUFtQjtJQUNuQixJQUFJLElBQUksQ0FBQyxRQUFRLENBQUMsSUFBSSxDQUFDLEVBQUU7UUFDdkIsTUFBTSxPQUFPLEdBQUcsSUFBSSxDQUFDLEtBQUssQ0FBQyxHQUFHLENBQUMsQ0FBQztRQUNoQyxNQUFNLFdBQVcsR0FBRyxRQUFRLENBQUMsS0FBSyxDQUFDLEdBQUcsQ0FBQyxDQUFDO1FBQ3hDLE9BQU8sQ0FBQyxPQUFPLENBQUMsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxFQUFFLEVBQUU7WUFDdkIsSUFBSSxJQUFJLENBQUMsSUFBSSxDQUFDLENBQUMsQ0FBQyxFQUFFO2dCQUNoQixNQUFNLEdBQUcsR0FBRyxDQUFDLENBQUMsS0FBSyxDQUFDLENBQUMsQ0FBQyxDQUFDO2dCQUN2QixNQUFNLEtBQUssR0FBRyxXQUFXLENBQUMsQ0FBQyxDQUFDLENBQUM7Z0JBRTdCLDhDQUE4QztnQkFDOUMsSUFBSSxLQUFLLElBQUksS0FBSyxDQUFDLEdBQUcsQ0FBQyxFQUFFO29CQUN2QixNQUFNLFVBQVUsR0FBRyxLQUFLLENBQUMsR0FBRyxDQUFDLENBQUMsSUFBSSxDQUFDLEtBQUssQ0FBQyxDQUFDO29CQUMxQyxJQUFJLENBQUMsVUFBVTt3QkFBRSxPQUFPLElBQUksQ0FBQztpQkFDOUI7Z0JBRUQsTUFBTSxtQ0FBUSxNQUFNLEtBQUUsQ0FBQyxHQUFHLENBQUMsRUFBRSxLQUFLLEdBQUUsQ0FBQztnQkFFckMsT0FBTyxDQUFDLENBQUMsQ0FBQyxHQUFHLFdBQVcsQ0FBQyxDQUFDLENBQUMsQ0FBQzthQUM3QjtRQUNILENBQUMsQ0FBQyxDQUFDO1FBQ0gsSUFBSSxHQUFHLE9BQU8sQ0FBQyxJQUFJLENBQUMsR0FBRyxDQUFDLENBQUM7S0FDMUI7SUFFRCxZQUFZO0lBQ1osSUFBSSxJQUFJLEtBQUssR0FBRztRQUFFLEtBQUssR0FBRyxDQUFDLFFBQVEsQ0FBQyxDQUFDO0lBRXJDLGVBQWU7SUFDZixJQUFJLENBQUMsS0FBSztRQUFFLEtBQUssR0FBRyxJQUFJLE1BQU0sQ0FBQyxJQUFJLElBQUksRUFBRSxDQUFDLENBQUMsSUFBSSxDQUFDLFFBQVEsQ0FBQyxDQUFDO0lBRTFELElBQUksQ0FBQyxLQUFLO1FBQUUsT0FBTyxJQUFJLENBQUM7SUFFeEIsTUFBTSxHQUFHLEdBQUcsS0FBSyxDQUFDLENBQUMsQ0FBQyxDQUFDO0lBQ3JCLE1BQU0sT0FBTyxHQUFHLFFBQVEsS0FBSyxHQUFHLENBQUM7SUFFakMsSUFBSSxLQUFLLElBQUksQ0FBQyxPQUFPO1FBQUUsT0FBTyxJQUFJLENBQUM7SUFFbkMsT0FBTztRQUNMLElBQUk7UUFDSixHQUFHO1FBQ0gsT0FBTztRQUNQLE1BQU07S0FDUCxDQUFDO0FBQ0osQ0FBQztBQUVELE1BQWEsTUFBTyxTQUFRLGdCQUE2QztJQUF6RTs7UUFDRSxVQUFLLEdBQVcsQ0FBQyxDQUFDO1FBQ2xCLFNBQUksR0FBVyxFQUFFLENBQUM7UUFDbEIsVUFBSyxHQUFHLEVBQUUsS0FBSyxFQUFFLENBQUMsQ0FBQyxFQUFFLElBQUksRUFBRSxFQUFFLEVBQUUsQ0FBQztJQTZEbEMsQ0FBQztJQTNEQyxLQUFLO1FBQ0gsTUFBTSxDQUFDLGdCQUFnQixDQUFDLFVBQVUsRUFBRSxJQUFJLENBQUMsV0FBVyxDQUFDLElBQUksQ0FBQyxJQUFJLENBQUMsQ0FBQyxDQUFDO1FBQ2pFLFFBQVEsQ0FBQyxJQUFJLENBQUMsQ0FBQztJQUNqQixDQUFDO0lBRUQsT0FBTztRQUNMLFVBQVUsQ0FBQyxJQUFJLENBQUMsQ0FBQztRQUNqQixNQUFNLENBQUMsbUJBQW1CLENBQUMsVUFBVSxFQUFFLElBQUksQ0FBQyxXQUFXLENBQUMsSUFBSSxDQUFDLElBQUksQ0FBQyxDQUFDLENBQUM7SUFDdEUsQ0FBQztJQUVELFdBQVc7UUFDVCxJQUFJLENBQUMsU0FBUyxFQUFFLENBQUM7UUFDakIsSUFBSSxJQUFJLENBQUMsWUFBWSxFQUFFO1lBQUUsSUFBSSxDQUFDLE1BQU0sRUFBRSxDQUFDO0lBQ3pDLENBQUM7SUFFRCxTQUFTO1FBQ1AsSUFBSSxDQUFDLEtBQUssR0FBRyxFQUFFLEtBQUssRUFBRSxDQUFDLENBQUMsRUFBRSxJQUFJLEVBQUUsRUFBRSxFQUFFLENBQUM7UUFFckMsS0FBSyxNQUFNLENBQUMsQ0FBQyxFQUFFLEtBQUssQ0FBQyxJQUFJLElBQUksQ0FBQyxLQUFLLENBQUMsUUFBUSxDQUFDLE9BQU8sRUFBRSxFQUFFO1lBQ3RELE1BQU0sRUFBRSxJQUFJLEVBQUUsS0FBSyxFQUFFLEtBQUssRUFBRSxHQUFHLEtBQUssQ0FBQyxLQUFLLENBQUM7WUFDM0MsTUFBTSxLQUFLLEdBQUcsU0FBUyxDQUNyQixPQUFPLEtBQUssS0FBSyxXQUFXO2dCQUMxQixDQUFDLENBQUMsS0FBSyxDQUFDLFFBQVEsQ0FBQyxRQUFRO2dCQUN6QixDQUFDLENBQUMsTUFBTSxDQUFDLFFBQVEsQ0FBQyxRQUFRLEVBQzVCO2dCQUNFLElBQUk7Z0JBQ0osS0FBSztnQkFDTCxLQUFLO2FBQ04sQ0FDRixDQUFDO1lBQ0YsSUFBSSxLQUFLLEVBQUU7Z0JBQ1QsSUFBSSxDQUFDLEtBQUssQ0FBQyxLQUFLLEdBQUcsQ0FBQyxDQUFDO2dCQUNyQixJQUFJLENBQUMsS0FBSyxDQUFDLElBQUksR0FBRyxJQUFJLENBQUM7Z0JBQ3ZCLE9BQU87YUFDUjtTQUNGO0lBQ0gsQ0FBQztJQUVELFlBQVk7UUFDVixPQUFPLElBQUksQ0FBQyxJQUFJLEtBQUssSUFBSSxDQUFDLEtBQUssQ0FBQyxJQUFJLElBQUksSUFBSSxDQUFDLEtBQUssS0FBSyxJQUFJLENBQUMsS0FBSyxDQUFDLEtBQUssQ0FBQztJQUMxRSxDQUFDO0lBRUQsTUFBTTtRQUNKLElBQUksQ0FBQyxTQUFTLEVBQUUsQ0FBQztRQUVqQixNQUFNLEtBQUssR0FBRyxJQUFJLENBQUMsS0FBSyxDQUFDLFFBQVEsQ0FBQyxJQUFJLENBQUMsS0FBSyxDQUFDLEtBQUssQ0FBQyxDQUFDO1FBRXBELElBQUksS0FBSyxFQUFFO1lBQ1QsTUFBTSxFQUFFLElBQUksRUFBRSxHQUFHLEtBQUssQ0FBQyxLQUFLLENBQUM7WUFDN0IsSUFBSSxDQUFDLElBQUksR0FBRyxJQUFJLENBQUM7WUFDakIsSUFBSSxDQUFDLEtBQUssR0FBRyxJQUFJLENBQUMsS0FBSyxDQUFDLEtBQUssQ0FBQztZQUM5QixNQUFNLEVBQUUsR0FBRyxvQkFBYSxDQUFDLEtBQUssQ0FBQyxDQUFDO1lBQ2hDLE9BQU8sb0JBQWEsQ0FBQyxFQUFFLENBQUMsQ0FBQztTQUMxQjthQUFNLElBQUksSUFBSSxDQUFDLEtBQUssQ0FBQyxRQUFRLEVBQUU7WUFDOUIsT0FBTyxvQkFBYSxDQUFDLElBQUksQ0FBQyxLQUFLLENBQUMsUUFBUSxDQUFDLENBQUM7U0FDM0M7YUFBTTtZQUNMLE9BQU8sUUFBQyxDQUFDLEtBQUssRUFBRSxFQUFFLEtBQUssRUFBRSxPQUFPLEVBQUUsRUFBRSxXQUFXLENBQUMsQ0FBQztTQUNsRDtJQUNILENBQUM7Q0FDRjtBQWhFRCx3QkFnRUM7QUFFRCxTQUFnQixLQUFLLENBQUMsRUFDcEIsSUFBSSxFQUNKLEtBQUssRUFDTCxRQUFRLEdBTVQ7SUFDQyxLQUFLLE1BQU0sS0FBSyxJQUFJLFFBQVEsRUFBRTtRQUM1QixJQUFJLEtBQUssQ0FBQyxLQUFLO1lBQUUsS0FBSyxDQUFDLEtBQUssbUNBQVEsS0FBSyxDQUFDLEtBQUssS0FBRSxLQUFLLEVBQUUsRUFBRSxJQUFJLEVBQUUsS0FBSyxFQUFFLEdBQUUsQ0FBQztLQUMzRTtJQUVELE9BQU8sUUFBUSxDQUFDO0FBQ2xCLENBQUM7QUFmRCxzQkFlQztBQUVNLE1BQU0sRUFBRSxHQUFHLENBQUMsRUFBVSxFQUFFLFVBQW1CLEtBQUssRUFBRSxFQUFFO0lBQ3pELE9BQU8sQ0FBQyxDQUFDLENBQUMsY0FBYyxDQUFDLEVBQUUsQ0FBQyxDQUFDLENBQUMsQ0FBQyxXQUFXLENBQUMsRUFBRSxDQUFDLENBQUM7QUFDakQsQ0FBQyxDQUFDO0FBRlcsVUFBRSxNQUViO0FBRUYsU0FBZ0IsSUFBSSxDQUFDLEVBQ25CLEVBQUUsRUFDRixPQUFPLEVBQ1AsUUFBUSxHQUtUO0lBQ0MsU0FBUyxPQUFPLENBQUMsS0FBWTtRQUMzQixLQUFLLENBQUMsY0FBYyxFQUFFLENBQUM7UUFDdkIsT0FBTyxDQUFDLENBQUMsQ0FBQyxjQUFjLENBQUMsRUFBRSxDQUFDLENBQUMsQ0FBQyxDQUFDLFdBQVcsQ0FBQyxFQUFFLENBQUMsQ0FBQztJQUNqRCxDQUFDO0lBRUQsT0FBTyxRQUFDLENBQUMsR0FBRyxFQUFFLEVBQUUsSUFBSSxFQUFFLEVBQUUsRUFBRSxPQUFPLEVBQUUsRUFBRSxRQUFRLENBQUMsQ0FBQztBQUNqRCxDQUFDO0FBZkQsb0JBZUM7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUNsTUQseUVBQW9DO0FBQ3BDLHNFQUFxQztBQUVyQyxNQUFhLFFBQVMsU0FBUSxnQkFBUztJQUdyQyxZQUFZLEtBQVU7UUFDcEIsS0FBSyxDQUFDLEtBQUssQ0FBQyxDQUFDO1FBSFAsWUFBTyxHQUFHLEtBQUssQ0FBQztRQUt0QixNQUFNLEtBQWlELElBQUksQ0FBQyxLQUFLLEVBQTNELEVBQUUsUUFBUSxFQUFFLEtBQUssR0FBRyxLQUFLLEVBQUUsUUFBUSxPQUF3QixFQUFuQixJQUFJLGNBQTVDLGlDQUE4QyxDQUFhLENBQUM7UUFFbEUsSUFBSSxDQUFDLEVBQUUsR0FBRyxpQkFBUyxDQUNqQixJQUFJLENBQUMsU0FBUyxDQUFDLElBQUksRUFBRSxVQUFVLElBQUksRUFBRSxHQUFHO1lBQ3RDLE9BQU8sT0FBTyxHQUFHLEtBQUssVUFBVSxDQUFDLENBQUMsQ0FBQyxHQUFHLEdBQUcsRUFBRSxDQUFDLENBQUMsQ0FBQyxHQUFHLENBQUM7UUFDcEQsQ0FBQyxDQUFDLENBQ0gsQ0FBQztJQUNKLENBQUM7SUFFSyxLQUFLOztZQUNULE1BQU0sS0FBaUQsSUFBSSxDQUFDLEtBQUssRUFBM0QsRUFBRSxRQUFRLEVBQUUsS0FBSyxHQUFHLEtBQUssRUFBRSxRQUFRLE9BQXdCLEVBQW5CLElBQUksY0FBNUMsaUNBQThDLENBQWEsQ0FBQztZQUVsRSxJQUFJLEtBQUs7Z0JBQUUsSUFBSSxDQUFDLFlBQVksR0FBRyxFQUFFLENBQUM7WUFFbEMsSUFBSSxJQUFJLENBQUMsYUFBYSxDQUFDLEtBQUssQ0FBQztnQkFBRSxPQUFPO1lBRXRDLE1BQU0sUUFBUSxHQUFHLE1BQU0sQ0FBQyxNQUFNLENBQUMsSUFBSSxDQUFDLENBQUMsR0FBRyxDQUFDLENBQUMsQ0FBTSxFQUFFLEVBQUUsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxDQUFDO1lBQzFELE1BQU0sUUFBUSxHQUFHLE1BQU0sT0FBTyxDQUFDLEdBQUcsQ0FBQyxRQUFRLENBQUMsQ0FBQztZQUM3QyxNQUFNLElBQUksR0FBRyxJQUFJLENBQUMsV0FBVyxDQUFDLElBQUksRUFBRSxRQUFRLEVBQUUsS0FBSyxDQUFDLENBQUM7WUFFckQsSUFBSSxDQUFDLGlCQUFpQixDQUFDLElBQUksQ0FBQyxDQUFDO1lBRTdCLElBQUksQ0FBQyxPQUFPLEdBQUcsSUFBSSxDQUFDO1lBQ3BCLElBQUksQ0FBQyxNQUFNLEVBQUUsQ0FBQztRQUNoQixDQUFDO0tBQUE7SUFFTyxhQUFhLENBQUMsS0FBYztRQUNsQyxNQUFNLE1BQU0sR0FBRyxJQUFJLENBQUMsS0FBSyxJQUFJLEtBQUssSUFBSSxNQUFNLENBQUMsSUFBSSxDQUFDLElBQUksQ0FBQyxLQUFLLENBQUMsQ0FBQyxNQUFNLENBQUM7UUFFckUsSUFBSSxLQUFLLEVBQUU7WUFDVCxJQUFJLENBQUMsaUJBQWlCLENBQUMsSUFBSSxDQUFDLEtBQUssQ0FBQyxDQUFDO1lBQ25DLElBQUksQ0FBQyxPQUFPLEdBQUcsSUFBSSxDQUFDO1NBQ3JCO1FBRUQsT0FBTyxNQUFNLENBQUM7SUFDaEIsQ0FBQztJQUVPLEdBQUc7UUFDVCxNQUFNLEtBQWlELElBQUksQ0FBQyxLQUFLLEVBQTNELEVBQUUsUUFBUSxFQUFFLEtBQUssR0FBRyxLQUFLLEVBQUUsUUFBUSxPQUF3QixFQUFuQixJQUFJLGNBQTVDLGlDQUE4QyxDQUFhLENBQUM7UUFFbEUsTUFBTSxLQUFLLEdBQUcsTUFBTSxDQUFDLE1BQU0sQ0FBQyxJQUFJLENBQUMsQ0FBQyxHQUFHLENBQUMsQ0FBQyxDQUFNLEVBQUUsRUFBRSxDQUFDLENBQUMsRUFBRSxDQUFDLENBQUM7UUFFdkQsTUFBTSxJQUFJLEdBQUcsSUFBSSxDQUFDLFdBQVcsQ0FBQyxJQUFJLEVBQUUsS0FBSyxFQUFFLEtBQUssQ0FBQyxDQUFDO1FBRWxELElBQUksQ0FBQyxpQkFBaUIsQ0FBQyxJQUFJLENBQUMsQ0FBQztJQUMvQixDQUFDO0lBRU8saUJBQWlCLENBQUMsSUFBUztRQUNqQyxLQUFLLE1BQU0sS0FBSyxJQUFJLElBQUksQ0FBQyxLQUFLLENBQUMsUUFBUSxFQUFFO1lBQ3ZDLElBQUksS0FBSyxDQUFDLEtBQUssRUFBRTtnQkFDZixLQUFLLENBQUMsS0FBSyxtQ0FBUSxLQUFLLENBQUMsS0FBSyxHQUFLLElBQUksQ0FBRSxDQUFDO2FBQzNDO1NBQ0Y7SUFDSCxDQUFDO0lBRU8sV0FBVyxDQUFDLElBQVMsRUFBRSxJQUFTLEVBQUUsS0FBYztRQUN0RCxNQUFNLElBQUksR0FBRyxNQUFNLENBQUMsSUFBSSxDQUFDLElBQUksQ0FBQyxDQUFDLE1BQU0sQ0FBQyxDQUFDLEdBQUcsRUFBRSxJQUFJLEVBQUUsS0FBSyxFQUFFLEVBQUU7WUFDekQsSUFBSSxLQUFLLEVBQUU7Z0JBQ1QsSUFBSSxDQUFDLEtBQUssbUNBQVEsSUFBSSxDQUFDLEtBQUssS0FBRSxDQUFDLElBQUksQ0FBQyxFQUFFLElBQUksQ0FBQyxLQUFLLENBQUMsR0FBRSxDQUFDO2FBQ3JEO1lBQ0QsdUNBQ0ssR0FBRyxLQUNOLENBQUMsSUFBSSxDQUFDLEVBQUUsSUFBSSxDQUFDLEtBQUssQ0FBQyxJQUNuQjtRQUNKLENBQUMsRUFBRSxFQUFFLENBQUMsQ0FBQztRQUNQLE9BQU8sSUFBSSxDQUFDO0lBQ2QsQ0FBQztJQUVELE1BQU07UUFDSixJQUFJLE9BQU8sS0FBSyxLQUFLLFdBQVcsRUFBRTtZQUNoQyxNQUFNLEVBQUUsS0FBSyxHQUFHLEtBQUssRUFBRSxHQUFHLElBQUksQ0FBQyxLQUFLLENBQUM7WUFDckMsSUFBSSxDQUFDLGFBQWEsQ0FBQyxLQUFLLENBQUMsQ0FBQztZQUMxQixPQUFPLElBQUksQ0FBQyxPQUFPLENBQUMsQ0FBQyxDQUFDLElBQUksQ0FBQyxLQUFLLENBQUMsUUFBUSxDQUFDLENBQUMsQ0FBQyxJQUFJLENBQUMsS0FBSyxDQUFDLFFBQVEsQ0FBQztTQUNqRTthQUFNO1lBQ0wsSUFBSSxDQUFDLEdBQUcsRUFBRSxDQUFDO1lBQ1gsT0FBTyxJQUFJLENBQUMsS0FBSyxDQUFDLFFBQVEsQ0FBQztTQUM1QjtJQUNILENBQUM7Q0FDRjtBQXBGRCw0QkFvRkM7Ozs7Ozs7Ozs7Ozs7O0FDdkZELHlFQUErQztBQUUvQyxNQUFhLE9BQVEsU0FBUSxnQkFBUztJQUF0Qzs7UUFDVSxjQUFTLEdBQUcsS0FBSyxDQUFDO0lBNEI1QixDQUFDO0lBMUJDLEtBQUs7UUFDSCxNQUFNLFFBQVEsR0FBRyxJQUFJLG9CQUFvQixDQUN2QyxDQUFDLE9BQU8sRUFBRSxRQUFRLEVBQUUsRUFBRTtZQUNwQixLQUFLLE1BQU0sS0FBSyxJQUFJLE9BQU8sRUFBRTtnQkFDM0IsSUFBSSxLQUFLLENBQUMsY0FBYyxFQUFFO29CQUN4QixRQUFRLENBQUMsVUFBVSxFQUFFLENBQUM7b0JBQ3RCLElBQUksQ0FBQyxTQUFTLEdBQUcsSUFBSSxDQUFDO29CQUN0QixJQUFJLENBQUMsTUFBTSxFQUFFLENBQUM7aUJBQ2Y7YUFDRjtRQUNILENBQUMsRUFDRCxFQUFFLFNBQVMsRUFBRSxDQUFDLENBQUMsRUFBRSxDQUFDLENBQUMsRUFBRSxDQUN0QixDQUFDO1FBRUYsUUFBUSxDQUFDLE9BQU8sQ0FBQyxJQUFJLENBQUMsUUFBUSxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUM7SUFDckMsQ0FBQztJQUNELE1BQU07UUFDSixJQUFJLElBQUksQ0FBQyxTQUFTLEVBQUU7WUFDbEIsSUFBSSxJQUFJLENBQUMsS0FBSyxDQUFDLFNBQVMsRUFBRTtnQkFDeEIsSUFBSSxDQUFDLEtBQUssQ0FBQyxTQUFTLEVBQUUsQ0FBQzthQUN4QjtZQUNELE9BQU8sYUFBTSxDQUFDLElBQUksQ0FBQyxLQUFLLENBQUMsU0FBUyxJQUFJLElBQUksQ0FBQyxLQUFLLENBQUMsUUFBUSxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUM7U0FDL0Q7YUFBTTtZQUNMLE9BQU8sUUFBQyxDQUFDLEtBQUssRUFBRSxFQUFFLGNBQWMsRUFBRSxLQUFLLEVBQUUsVUFBVSxFQUFFLFFBQVEsRUFBRSxDQUFDLENBQUM7U0FDbEU7SUFDSCxDQUFDO0NBQ0Y7QUE3QkQsMEJBNkJDOzs7Ozs7Ozs7Ozs7OztBQy9CRCwrREFBa0M7QUFFbEMsU0FBZ0IsY0FBYyxDQUFDLE9BQW9CLEVBQUUsUUFBYTtJQUNoRSxJQUFJLENBQUMsS0FBSyxDQUFDLE9BQU8sQ0FBQyxRQUFRLENBQUMsRUFBRTtRQUM1QixjQUFjLENBQUMsT0FBTyxFQUFFLENBQUMsUUFBUSxDQUFDLENBQUMsQ0FBQztRQUNwQyxPQUFPO0tBQ1I7SUFDRCxJQUFJLE9BQU8sUUFBUSxLQUFLLFFBQVEsRUFBRTtRQUNoQyxRQUFRLEdBQUcsS0FBSyxDQUFDLElBQUksQ0FBQyxRQUFRLENBQUMsQ0FBQztLQUNqQztJQUVELEtBQUssTUFBTSxLQUFLLElBQUksUUFBUSxFQUFFO1FBQzVCLElBQUksS0FBSyxDQUFDLE9BQU8sQ0FBQyxLQUFLLENBQUMsRUFBRTtZQUN4QixjQUFjLENBQUMsT0FBTyxFQUFFLEtBQUssQ0FBQyxDQUFDO1NBQ2hDO2FBQU07WUFDTCxJQUFJLElBQUksR0FBRyxnQkFBYSxDQUFDLEtBQUssQ0FBZ0IsQ0FBQztZQUUvQyxJQUFJLElBQUksRUFBRTtnQkFDUixJQUFJLEtBQUssQ0FBQyxPQUFPLENBQUMsSUFBSSxDQUFDLEVBQUU7b0JBQ3ZCLGNBQWMsQ0FBQyxPQUFPLEVBQUUsSUFBSSxDQUFDLENBQUM7aUJBQy9CO3FCQUFNO29CQUNMLE9BQU8sQ0FBQyxXQUFXLENBQ2pCLENBQUMsS0FBSSxhQUFKLElBQUksdUJBQUosSUFBSSxDQUFFLFFBQVEsRUFBQyxDQUFDLENBQUMsUUFBUSxDQUFDLGNBQWMsQ0FBQyxFQUFFLEdBQUcsSUFBSSxDQUFDLENBQUMsQ0FBQyxDQUFDLElBQUksQ0FDNUQsQ0FBQztpQkFDSDthQUNGO1NBQ0Y7S0FDRjtBQUNILENBQUM7QUExQkQsd0NBMEJDOzs7Ozs7Ozs7Ozs7OztBQzVCRCxzRUFBa0Q7QUFDbEQsK0RBQTBDO0FBRTFDLE1BQWEsU0FBUztJQU1wQixZQUFtQixLQUFRO1FBQVIsVUFBSyxHQUFMLEtBQUssQ0FBRztRQUZuQixjQUFTLEdBQWtCLEVBQUUsQ0FBQztRQUdwQyxJQUFJLENBQUMsRUFBRSxHQUFHLElBQUksQ0FBQyxRQUFRLEVBQUUsQ0FBQztJQUM1QixDQUFDO0lBRU0sTUFBTSxDQUFDLE9BQWEsSUFBRyxDQUFDO0lBQ3hCLEtBQUssS0FBSSxDQUFDO0lBQ1YsV0FBVyxLQUFJLENBQUM7SUFDaEIsT0FBTyxLQUFJLENBQUM7SUFDWCxRQUFRLEtBQVMsQ0FBQztJQUUxQixRQUFRLENBQUMsS0FBUSxFQUFFLGVBQXdCLEtBQUs7UUFDOUMsSUFBSSxLQUFLLElBQUksT0FBTyxLQUFLLEtBQUssUUFBUSxFQUFFO1lBQ3RDLElBQUksQ0FBQyxLQUFLLG1DQUFRLElBQUksQ0FBQyxLQUFLLEdBQUssS0FBSyxDQUFFLENBQUM7U0FDMUM7O1lBQU0sSUFBSSxDQUFDLEtBQUssR0FBRyxLQUFLLENBQUM7UUFFMUIsSUFBSSxZQUFZO1lBQUUsSUFBSSxDQUFDLE1BQU0sRUFBRSxDQUFDO0lBQ2xDLENBQUM7SUFFRCxJQUFJLEtBQUs7UUFDUCxPQUFPLFNBQU0sQ0FBQyxHQUFHLENBQUMsSUFBSSxDQUFDLEVBQUUsQ0FBQyxDQUFDO0lBQzdCLENBQUM7SUFFRCxJQUFJLEtBQUssQ0FBQyxLQUFRO1FBQ2hCLFNBQU0sQ0FBQyxHQUFHLENBQUMsSUFBSSxDQUFDLEVBQUUsRUFBRSxLQUFLLENBQUMsQ0FBQztJQUM3QixDQUFDO0lBRUQsSUFBSSxZQUFZLENBQUMsS0FBUTtRQUN2QixJQUFJLENBQUMsSUFBSSxDQUFDLEtBQUs7WUFBRSxJQUFJLENBQUMsS0FBSyxHQUFHLEtBQUssQ0FBQztJQUN0QyxDQUFDO0lBRUQsSUFBVyxRQUFRO1FBQ2pCLE9BQU8sSUFBSSxDQUFDLFNBQVMsQ0FBQztJQUN4QixDQUFDO0lBRUQsSUFBVyxRQUFRLENBQUMsUUFBdUI7UUFDekMsSUFBSSxDQUFDLEtBQUssQ0FBQyxPQUFPLENBQUMsUUFBUSxDQUFDLEVBQUU7WUFDNUIsUUFBUSxHQUFHLENBQUMsUUFBUSxDQUFDLENBQUM7U0FDdkI7UUFFRCxLQUFLLE1BQU0sRUFBRSxJQUFJLFFBQVEsRUFBRTtZQUN6QixJQUFJLENBQUMsU0FBUyxDQUFDLElBQUksQ0FBQyxFQUFFLENBQUMsQ0FBQztTQUN6QjtJQUNILENBQUM7SUFFTyxxQkFBcUI7UUFDM0IsSUFBSSxnQkFBZ0IsQ0FBQyxJQUFJLENBQUMsSUFBSSxDQUFDLE9BQU8sQ0FBQyxRQUFRLEVBQUUsQ0FBQztZQUFFLE9BQU87UUFFM0Qsb0JBQVksQ0FBQyxJQUFJLENBQUMsUUFBUSxDQUFDLENBQUMsQ0FBQyxFQUFFLEdBQUcsRUFBRTtZQUNsQyxJQUFJLENBQUMsSUFBSSxDQUFDLFdBQVcsRUFBRTtnQkFDckIsSUFBSSxDQUFDLE9BQU8sRUFBRSxDQUFDO2FBQ2hCO1FBQ0gsQ0FBQyxDQUFDLENBQUM7SUFDTCxDQUFDO0lBRUQsWUFBWTtJQUNKLE1BQU07UUFDWixJQUFJLENBQUMscUJBQXFCLEVBQUUsQ0FBQztRQUM3QixJQUFJLENBQUMsS0FBSyxFQUFFLENBQUM7SUFDZixDQUFDO0lBRU8sUUFBUTtRQUNkLElBQUksSUFBSSxDQUFDLGFBQWE7WUFBRSxPQUFPO1FBQy9CLElBQUksQ0FBQyxPQUFPLEVBQUUsQ0FBQztRQUNmLElBQUksQ0FBQyxhQUFhLEdBQUcsSUFBSSxDQUFDO0lBQzVCLENBQUM7SUFFTSxNQUFNLENBQUMsTUFBWTtRQUN4QixJQUFJLENBQUMsV0FBVyxHQUFHLElBQUksQ0FBQztRQUV4QixNQUFNLFdBQVcsR0FBRyxDQUFDLEdBQUcsSUFBSSxDQUFDLFFBQVEsQ0FBQyxDQUFDO1FBRXZDLElBQUksQ0FBQyxTQUFTLEdBQUcsRUFBRSxDQUFDO1FBRXBCLElBQUksRUFBRSxHQUFHLElBQUksQ0FBQyxNQUFNLENBQUMsTUFBTSxDQUFDLENBQUM7UUFDN0IsRUFBRSxHQUFHLGdCQUFhLENBQUMsRUFBRSxDQUFDLENBQUM7UUFDdkIsSUFBSSxDQUFDLFFBQVEsR0FBSSxFQUErQixDQUFDO1FBRWpELE1BQU0sTUFBTSxHQUFHLFdBQVcsQ0FBQyxDQUFDLENBQUMsQ0FBQyxhQUE0QixDQUFDO1FBRTNELElBQUksQ0FBQyxNQUFNO1lBQ1QsT0FBTyxDQUFDLElBQUksQ0FBQyxrREFBa0QsQ0FBQyxDQUFDO1FBRW5FLEtBQUssTUFBTSxLQUFLLElBQUksSUFBSSxDQUFDLFFBQVEsRUFBRTtZQUNqQyxNQUFNLENBQUMsWUFBWSxDQUFDLEtBQUssRUFBRSxXQUFXLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQztTQUM1QztRQUVELEtBQUssSUFBSSxLQUFLLElBQUksV0FBVyxFQUFFO1lBQzdCLEtBQUssQ0FBQyxNQUFNLEVBQUUsQ0FBQztZQUNmLFlBQVk7WUFDWixLQUFLLEdBQUcsSUFBSSxDQUFDO1NBQ2Q7UUFFRCxJQUFJLENBQUMscUJBQXFCLEVBQUUsQ0FBQztRQUU3QixnQkFBUSxDQUFDLEdBQUcsRUFBRTtZQUNaLElBQUksQ0FBQyxXQUFXLEdBQUcsS0FBSyxDQUFDO1lBQ3pCLElBQUksQ0FBQyxJQUFJLENBQUMsUUFBUSxDQUFDLENBQUMsQ0FBQyxDQUFDLFdBQVcsRUFBRTtnQkFDakMsSUFBSSxDQUFDLFFBQVEsRUFBRSxDQUFDO2FBQ2pCO1FBQ0gsQ0FBQyxDQUFDLENBQUM7SUFDTCxDQUFDO0NBQ0Y7QUEzR0QsOEJBMkdDOzs7Ozs7Ozs7Ozs7OztBQzlHRCxTQUFnQixhQUFhLENBQUMsR0FBUTtJQUNwQyxJQUFJLElBQUksR0FBRyxHQUFHLENBQUM7SUFDZixPQUFPO1FBQ0wsUUFBUSxDQUFDLEtBQVU7WUFDakIsSUFBSSxLQUFLLENBQUMsS0FBSyxFQUFFO2dCQUNmLElBQUksR0FBRyxLQUFLLENBQUMsS0FBSyxDQUFDO2dCQUNuQixPQUFPLEtBQUssQ0FBQyxRQUFRLENBQUM7YUFDdkI7UUFDSCxDQUFDO1FBQ0QsUUFBUSxDQUFDLEtBQVU7WUFDakIsT0FBTztnQkFDTCxTQUFTLEVBQUUsS0FBSyxDQUFDLFFBQVEsQ0FBQyxDQUFDLENBQUMsQ0FBQyxJQUFJLENBQUM7Z0JBQ2xDLEtBQUssa0NBQ0EsS0FBSyxLQUNSLE9BQU8sRUFBRSxJQUFJLEdBQ2Q7YUFDRixDQUFDO1FBQ0osQ0FBQztRQUNELEdBQUc7WUFDRCxPQUFPLElBQUksQ0FBQztRQUNkLENBQUM7UUFDRCxHQUFHLENBQUMsR0FBUTtZQUNWLElBQUksR0FBRyxHQUFHLENBQUM7UUFDYixDQUFDO0tBQ0YsQ0FBQztBQUNKLENBQUM7QUF6QkQsc0NBeUJDOzs7Ozs7Ozs7Ozs7OztBQ3pCTSxNQUFNLFFBQVEsR0FBRyxDQUFDLEtBQVUsRUFBRSxFQUFFO0lBQ3JDLE9BQU8sS0FBSyxDQUFDLFFBQVEsQ0FBQztBQUN4QixDQUFDLENBQUM7QUFGVyxnQkFBUSxZQUVuQjs7Ozs7Ozs7Ozs7Ozs7QUNGRixzRUFBbUM7QUFDbkMsK0RBQXdDO0FBRXhDLFNBQWdCLENBQUMsQ0FBQyxJQUFTLEVBQUUsS0FBVSxFQUFFLEdBQUcsUUFBZTtJQUN6RCxJQUFJLE9BQU8sSUFBSSxLQUFLLFFBQVEsRUFBRTtRQUM1QixPQUFPLEVBQUUsU0FBUyxFQUFFLElBQUksRUFBRSxLQUFLLGtDQUFPLEtBQUssS0FBRSxRQUFRLEVBQUUsUUFBUSxHQUFFLEVBQUUsQ0FBQztLQUNyRTtJQUVELElBQUksR0FBRyxDQUFDO0lBRVIsTUFBTSxPQUFPLEdBQ1gsSUFBSSxLQUFLLEtBQUs7UUFDWixDQUFDLENBQUUsTUFBRyxDQUFDLEtBQUssQ0FBZ0I7UUFDNUIsQ0FBQyxDQUFFLFFBQVEsQ0FBQyxhQUFhLENBQUMsSUFBSSxDQUFpQixDQUFDO0lBRXBELEtBQUssTUFBTSxDQUFDLElBQUksS0FBSyxFQUFFO1FBQ3JCLElBQUksQ0FBQyxLQUFLLE9BQU8sSUFBSSxPQUFPLEtBQUssQ0FBQyxDQUFDLENBQUMsS0FBSyxRQUFRLEVBQUU7WUFDakQsTUFBTSxNQUFNLEdBQUcsTUFBTSxDQUFDLElBQUksQ0FBQyxLQUFLLENBQUMsQ0FBQyxDQUFDLENBQUM7aUJBQ2pDLEdBQUcsQ0FBQyxDQUFDLENBQUMsRUFBRSxFQUFFLENBQUMsR0FBRyxDQUFDLElBQUksS0FBSyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxFQUFFLENBQUM7aUJBQ2pDLElBQUksQ0FBQyxHQUFHLENBQUM7aUJBQ1QsT0FBTyxDQUFDLFFBQVEsRUFBRSxDQUFDLEtBQUssRUFBRSxFQUFFLENBQUMsSUFBSSxLQUFLLENBQUMsV0FBVyxFQUFFLEVBQUUsQ0FBQyxDQUFDO1lBQzNELEtBQUssQ0FBQyxDQUFDLENBQUMsR0FBRyxNQUFNLEdBQUcsR0FBRyxDQUFDO1NBQ3pCO1FBRUQsSUFBSSxDQUFDLEtBQUssS0FBSyxFQUFFO1lBQ2YsR0FBRyxHQUFHLEtBQUssQ0FBQyxDQUFDLENBQUMsQ0FBQztTQUNoQjtRQUVELElBQUksZUFBTyxDQUFDLE9BQU8sRUFBRSxDQUFDLENBQUMsV0FBVyxFQUFFLENBQUMsRUFBRTtZQUNyQyxPQUFPLENBQUMsZ0JBQWdCLENBQUMsQ0FBQyxDQUFDLFdBQVcsRUFBRSxDQUFDLFNBQVMsQ0FBQyxDQUFDLENBQUMsRUFBRSxDQUFDLENBQVEsRUFBRSxFQUFFLENBQ2xFLEtBQUssQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FDWixDQUFDO1NBQ0g7YUFBTTtZQUNMLE9BQU8sQ0FBQyxZQUFZLENBQUMsQ0FBQyxFQUFFLEtBQUssQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDO1NBQ25DO0tBQ0Y7SUFDRCxpQkFBYyxDQUFDLE9BQWMsRUFBRSxRQUFRLENBQUMsQ0FBQztJQUV6QyxJQUFJLEdBQUcsRUFBRTtRQUNQLEdBQUcsQ0FBQyxPQUFPLENBQUMsQ0FBQztLQUNkO0lBQ0QsYUFBYTtJQUNiLElBQUksT0FBTyxDQUFDLEdBQUc7UUFBRSxPQUFPLE9BQU8sQ0FBQyxHQUFHLENBQUM7SUFDcEMsT0FBTyxPQUFPLENBQUM7QUFDakIsQ0FBQztBQXpDRCxjQXlDQzs7Ozs7Ozs7Ozs7Ozs7QUM1Q0QsK0RBQTJCO0FBRTNCLFNBQWdCLE9BQU8sQ0FDckIsU0FBYyxFQUNkLFNBQTZCLElBQUksRUFDakMsZ0JBQWdCLEdBQUcsSUFBSTtJQUV2QixPQUFPLFNBQU0sQ0FBQyxTQUFTLEVBQUUsTUFBTSxFQUFFLGdCQUFnQixDQUFDLENBQUM7QUFDckQsQ0FBQztBQU5ELDBCQU1DOzs7Ozs7Ozs7Ozs7OztBQ1JELG1HQUFrRDtBQUF6QywrSEFBYztBQUN2Qiw0REFBd0I7QUFBZix3RkFBQztBQUNWLDJFQUFrQztBQUF6Qix1R0FBTTtBQUNmLGdHQUFxRDtBQUE1Qyw0SEFBYTtBQUFFLHdHQUFHO0FBQzNCLDhFQUFvQztBQUEzQiwwR0FBTztBQUNoQixvRkFBd0M7QUFBL0IsZ0hBQVM7QUFDbEIsaUZBQXNDO0FBQTdCLDZHQUFRO0FBQ2pCLDhFQUEwQztBQUFqQyxzSEFBYTtBQUN0Qix3RUFBOEM7QUFBckMsc0dBQU07QUFBRSxnSEFBVztBQUM1QixnR0FBZ0Q7QUFBdkMsNEhBQWE7QUFDdEIsdUZBQTBDO0FBQWpDLG1IQUFVOzs7Ozs7Ozs7Ozs7OztBQ1ZuQiwyRkFBd0M7QUFDeEMsK0RBQStCO0FBRS9CLFNBQWdCLGFBQWEsQ0FDM0IsU0FBYyxFQUNkLE1BQVcsRUFDWCxnQkFBZ0IsR0FBRyxJQUFJO0lBRXZCLE1BQU0sR0FBRyxHQUFHLElBQUMsQ0FBQyxvQkFBTyxFQUFFLElBQUksRUFBRSxTQUFTLENBQUMsQ0FBQztJQUN4QyxPQUFPLFVBQU8sQ0FBQyxHQUFHLEVBQUUsTUFBTSxFQUFFLGdCQUFnQixDQUFDLENBQUM7QUFDaEQsQ0FBQztBQVBELHNDQU9DOzs7Ozs7Ozs7Ozs7OztBQ1ZELCtEQUFrRDtBQUVsRCxTQUFnQixNQUFNLENBQ3BCLEdBQVEsRUFDUixTQUE0QixJQUFJLEVBQ2hDLGdCQUFnQixHQUFHLElBQUk7SUFFdkIsSUFBSSxFQUFFLEdBQUcsZ0JBQWEsQ0FBQyxHQUFHLENBQUMsQ0FBQztJQUU1QixJQUFJLEtBQUssQ0FBQyxPQUFPLENBQUMsRUFBRSxDQUFDLEVBQUU7UUFDckIsRUFBRSxHQUFHLEVBQUUsQ0FBQyxHQUFHLENBQUMsQ0FBQyxDQUFDLEVBQUUsRUFBRSxDQUFDLGdCQUFhLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQztRQUNyQyxJQUFJLEVBQUUsQ0FBQyxNQUFNLEtBQUssQ0FBQyxFQUFFO1lBQ25CLEVBQUUsR0FBRyxFQUFFLENBQUMsQ0FBQyxDQUFDLENBQUM7U0FDWjtLQUNGO0lBRUQsSUFBSSxNQUFNLEVBQUU7UUFDVixJQUFJLGdCQUFnQixFQUFFO1lBQ3BCLG1CQUFtQixDQUFDLE1BQU0sQ0FBQyxDQUFDO1NBQzdCO1FBRUQsSUFBSSxFQUFFLElBQUksTUFBTSxDQUFDLEVBQUUsSUFBSSxNQUFNLENBQUMsRUFBRSxLQUFLLEVBQUUsQ0FBQyxFQUFFLElBQUksTUFBTSxDQUFDLGFBQWEsRUFBRTtZQUNsRSxNQUFNLENBQUMsYUFBYSxDQUFDLFlBQVksQ0FBQyxFQUFFLEVBQUUsTUFBTSxDQUFDLENBQUM7U0FDL0M7YUFBTTtZQUNMLElBQUksS0FBSyxDQUFDLE9BQU8sQ0FBQyxFQUFFLENBQUMsRUFBRTtnQkFDckIsRUFBRSxDQUFDLEdBQUcsQ0FBQyxDQUFDLENBQUMsRUFBRSxFQUFFLENBQUMsaUJBQWMsQ0FBQyxNQUFNLEVBQUUsZ0JBQWEsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUM7YUFDekQ7aUJBQU07Z0JBQ0wsaUJBQWMsQ0FBQyxNQUFNLEVBQUUsZ0JBQWEsQ0FBQyxFQUFFLENBQUMsQ0FBQyxDQUFDO2FBQzNDO1lBQ0QsSUFBSSxNQUFNLENBQUMsR0FBRztnQkFBRSxPQUFPLE1BQU0sQ0FBQyxHQUFHLENBQUM7WUFDbEMsT0FBTyxNQUFNLENBQUM7U0FDZjtLQUNGO1NBQU07UUFDTCxJQUFJLE9BQU8sS0FBSyxLQUFLLFNBQVMsSUFBSSxLQUFLLElBQUksQ0FBQyxLQUFLLENBQUMsT0FBTyxDQUFDLEVBQUUsQ0FBQztZQUFFLE9BQU8sQ0FBQyxFQUFFLENBQUMsQ0FBQztRQUMzRSxPQUFPLEVBQUUsQ0FBQztLQUNYO0FBQ0gsQ0FBQztBQWxDRCx3QkFrQ0M7QUFFRCxTQUFnQixtQkFBbUIsQ0FBQyxFQUFlO0lBQ2pELE9BQU8sRUFBRSxDQUFDLFVBQVUsRUFBRTtRQUNwQixFQUFFLENBQUMsV0FBVyxDQUFDLEVBQUUsQ0FBQyxVQUFVLENBQUMsQ0FBQztLQUMvQjtBQUNILENBQUM7QUFKRCxrREFJQzs7Ozs7Ozs7Ozs7Ozs7QUMxQ0Qsc0VBQStDO0FBRS9DLFNBQWdCLGFBQWEsQ0FBQyxHQUFROztJQUNwQyxJQUFJLENBQUMsV0FBVyxJQUFJLENBQVEsQ0FBQyxDQUFDLFFBQVEsQ0FBQyxPQUFPLEdBQUcsQ0FBQyxFQUFFO1FBQ2xELE9BQU8sRUFBRSxDQUFDO0tBQ1g7SUFDRCxJQUFJLEdBQUcsSUFBSSxJQUFJLEVBQUU7UUFDZixPQUFPLEVBQUUsQ0FBQztLQUNYO0lBRUQsSUFBSSxPQUFPLEdBQUcsS0FBSyxRQUFRLEVBQUU7UUFDM0IsT0FBTyxHQUFHLENBQUM7S0FDWjtJQUVELElBQUksT0FBTyxHQUFHLEtBQUssUUFBUSxFQUFFO1FBQzNCLE9BQU8sRUFBRSxHQUFHLEdBQUcsQ0FBQztLQUNqQjtJQUVELElBQUksSUFBRyxhQUFILEdBQUcsdUJBQUgsR0FBRyxDQUFFLE9BQU8sS0FBSSxHQUFHLENBQUMsT0FBTyxDQUFDLFdBQVcsRUFBRSxLQUFLLEtBQUssRUFBRTtRQUN2RCxPQUFPLEdBQUcsQ0FBQyxFQUFFLFFBQVEsRUFBRSxDQUFDLEdBQUcsQ0FBQyxFQUFFLENBQUMsQ0FBQztLQUNqQztJQUVELElBQUksR0FBRyxhQUFILEdBQUcsdUJBQUgsR0FBRyxDQUFFLE9BQU8sRUFBRTtRQUNoQixPQUFPLEdBQUcsQ0FBQztLQUNaO0lBRUQsSUFDRSxHQUFHO1FBQ0gsR0FBRyxDQUFDLFNBQVM7UUFDYixHQUFHLENBQUMsU0FBUyxDQUFDLFNBQVM7UUFDdkIsR0FBRyxDQUFDLFNBQVMsQ0FBQyxTQUFTLENBQUMsV0FBVztRQUNuQyxVQUFVLENBQUMsSUFBSSxDQUFDLFFBQVEsQ0FBQyxTQUFTLENBQUMsUUFBUSxDQUFDLElBQUksQ0FBQyxHQUFHLENBQUMsU0FBUyxDQUFDLENBQUMsRUFDaEU7UUFDQSxPQUFPLG9CQUFvQixDQUFDLEdBQUcsQ0FBQyxDQUFDO0tBQ2xDO0lBRUQsSUFBSSxHQUFHLENBQUMsU0FBUyxJQUFJLE9BQU8sR0FBRyxDQUFDLFNBQVMsS0FBSyxVQUFVLEVBQUU7UUFDeEQsT0FBTyx5QkFBeUIsQ0FBQyxHQUFHLENBQUMsQ0FBQztLQUN2QztJQUVELElBQUksS0FBSyxDQUFDLE9BQU8sQ0FBQyxHQUFHLENBQUMsRUFBRTtRQUN0QixPQUFPLEdBQUcsQ0FBQyxHQUFHLENBQUMsQ0FBQyxDQUFDLEVBQUUsRUFBRSxDQUFDLGFBQWEsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLElBQUksRUFBRSxDQUFDO0tBQ2hEO0lBRUQsSUFBSSxPQUFPLEdBQUcsS0FBSyxVQUFVO1FBQUUsT0FBTyxhQUFhLENBQUMsR0FBRyxFQUFFLENBQUMsQ0FBQztJQUUzRCxJQUFJLFVBQUcsYUFBSCxHQUFHLHVCQUFILEdBQUcsQ0FBRSxTQUFTLDBDQUFFLE9BQU8sS0FBSSxPQUFPLEdBQUcsQ0FBQyxTQUFTLENBQUMsT0FBTyxLQUFLLFFBQVE7UUFDdEUsT0FBTyxhQUFhLENBQUMsR0FBRyxDQUFDLFNBQVMsQ0FBQyxDQUFDO0lBRXRDLElBQUksS0FBSyxDQUFDLE9BQU8sQ0FBQyxHQUFHLENBQUMsU0FBUyxDQUFDO1FBQUUsT0FBTyxhQUFhLENBQUMsR0FBRyxDQUFDLFNBQVMsQ0FBQyxDQUFDO0lBRXRFLElBQUksR0FBRyxDQUFDLFNBQVM7UUFBRSxPQUFPLGFBQWEsQ0FBQyxHQUFHLENBQUMsU0FBUyxDQUFDLENBQUM7QUFDekQsQ0FBQztBQWxERCxzQ0FrREM7QUFFRCxTQUFTLHlCQUF5QixDQUFDLEdBQVE7SUFDekMsTUFBTSxFQUFFLFNBQVMsRUFBRSxLQUFLLEVBQUUsR0FBRyxHQUFHLENBQUM7SUFDakMsTUFBTSxFQUFFLEdBQUcsU0FBUyxDQUFDLEtBQUssQ0FBQyxDQUFDO0lBQzVCLE9BQU8sYUFBYSxDQUFDLEVBQUUsQ0FBQyxDQUFDO0FBQzNCLENBQUM7QUFFRCxTQUFTLG9CQUFvQixDQUFDLEdBQVE7SUFDcEMsTUFBTSxFQUFFLFNBQVMsRUFBRSxLQUFLLEVBQUUsR0FBRyxHQUFHLENBQUM7SUFFakMsTUFBTSxJQUFJLEdBQUcsaUJBQVMsQ0FBQyxTQUFTLENBQUMsUUFBUSxFQUFFLENBQUMsQ0FBQztJQUU3QyxTQUFTLENBQUMsU0FBUyxDQUFDLFFBQVEsR0FBRyxHQUFHLEVBQUUsQ0FBQyxJQUFJLENBQUM7SUFFMUMsTUFBTSxTQUFTLEdBQUcsSUFBSSxTQUFTLENBQUMsS0FBSyxDQUFDLENBQUM7SUFFdkMsU0FBUyxDQUFDLFdBQVcsRUFBRSxDQUFDO0lBRXhCLElBQUksRUFBRSxHQUFHLFNBQVMsQ0FBQyxNQUFNLEVBQUUsQ0FBQztJQUM1QixFQUFFLEdBQUcsYUFBYSxDQUFDLEVBQUUsQ0FBQyxDQUFDO0lBRXZCLFNBQVMsQ0FBQyxRQUFRLEdBQUcsRUFBRSxDQUFDO0lBRXhCLElBQUksS0FBSyxhQUFMLEtBQUssdUJBQUwsS0FBSyxDQUFFLEdBQUc7UUFBRSxLQUFLLENBQUMsR0FBRyxDQUFDLFNBQVMsQ0FBQyxDQUFDO0lBQ3JDLElBQUksT0FBTyxLQUFLLEtBQUssV0FBVyxFQUFFO1FBQ2hDLGdCQUFRLENBQUMsR0FBRyxFQUFFO1lBQ1osU0FBUyxDQUFDLE1BQU0sRUFBRSxDQUFDO1FBQ3JCLENBQUMsQ0FBQyxDQUFDO0tBQ0o7SUFDRCxPQUFPLEVBQUUsQ0FBQztBQUNaLENBQUM7QUFFRCxTQUFnQixHQUFHLENBQUMsR0FBVztJQUM3QixPQUFPLFFBQVEsQ0FBQyxlQUFlLENBQzdCLDRCQUE0QixFQUM1QixHQUFHLENBQ1UsQ0FBQztBQUNsQixDQUFDO0FBTEQsa0JBS0M7QUFFRCxTQUFTLEdBQUcsQ0FBQyxLQUFVO0lBQ3JCLE1BQU0sS0FBSyxHQUFHLEtBQUssQ0FBQyxRQUFRLENBQUMsQ0FBQyxDQUFlLENBQUM7SUFDOUMsTUFBTSxLQUFLLEdBQUcsS0FBSyxDQUFDLFVBQVUsQ0FBQztJQUUvQixNQUFNLEdBQUcsR0FBRyxHQUFHLENBQUMsS0FBSyxDQUFlLENBQUM7SUFFckMsS0FBSyxNQUFNLElBQUksSUFBSSxLQUFLLEVBQUU7UUFDeEIsR0FBRyxDQUFDLFlBQVksQ0FBQyxJQUFJLENBQUMsSUFBSSxFQUFFLElBQUksQ0FBQyxLQUFLLENBQUMsQ0FBQztLQUN6QztJQUVELEdBQUcsQ0FBQyxTQUFTLEdBQUcsS0FBSyxDQUFDLFNBQVMsQ0FBQztJQUVoQyxPQUFPLEdBQUcsQ0FBQztBQUNiLENBQUM7Ozs7Ozs7Ozs7Ozs7O0FDekdZLGNBQU0sR0FBRyxJQUFJLEdBQUcsRUFBRSxDQUFDO0FBRWhDLFNBQWdCLFdBQVc7SUFDekIsY0FBTSxDQUFDLEtBQUssRUFBRSxDQUFDO0FBQ2pCLENBQUM7QUFGRCxrQ0FFQzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQ0pELDJGQUF1QztBQUN2QywrREFBMkM7QUFFM0MsU0FBZ0IsVUFBVSxDQUFDLE1BQVc7SUFDcEMsT0FBTyxVQUFVLGdCQUFxQjtRQUNwQyxPQUFPLEtBQU0sU0FBUSxZQUFTO1lBQzVCLE1BQU07Z0JBQ0osTUFBTSxLQUF3QixJQUFJLENBQUMsS0FBSyxFQUFsQyxFQUFFLFFBQVEsT0FBd0IsRUFBbkIsSUFBSSxjQUFuQixZQUFxQixDQUFhLENBQUM7Z0JBRXpDLE1BQU0sTUFBTSxHQUFHLElBQUMsQ0FBQyxtQkFBTSxFQUFFLElBQUksRUFBRSxJQUFDLENBQUMsT0FBTyxFQUFFLElBQUksRUFBRSxNQUFNLENBQUMsUUFBUSxFQUFFLENBQUMsQ0FBQyxDQUFDO2dCQUVwRSxNQUFNLFNBQVMsR0FBRyxRQUFRLENBQUMsTUFBTTtvQkFDL0IsQ0FBQyxDQUFDLElBQUMsQ0FBQyxnQkFBZ0Isb0JBQU8sSUFBSSxHQUFJLFFBQVEsQ0FBQztvQkFDNUMsQ0FBQyxDQUFDLElBQUMsQ0FBQyxnQkFBZ0Isb0JBQU8sSUFBSSxDQUFDLEtBQUssRUFBRyxDQUFDO2dCQUUzQyxPQUFPLElBQUMsQ0FBQyxXQUFRLEVBQUUsSUFBSSxFQUFFLE1BQU0sRUFBRSxTQUFTLENBQUMsQ0FBQztZQUM5QyxDQUFDO1NBQ0YsQ0FBQztJQUNKLENBQUMsQ0FBQztBQUNKLENBQUM7QUFoQkQsZ0NBZ0JDOzs7Ozs7Ozs7Ozs7OztBQ25CRCxtRUFBbUM7QUFBMUIsMEdBQVE7QUFDakIsbUVBQXVDO0FBQTlCLG9IQUFjO0FBQ3ZCLHNFQVNnQjtBQVJkLDJGQUFDO0FBQ0QscUdBQU07QUFDTix1R0FBTztBQUNQLHlHQUFRO0FBQ1IsMkdBQVM7QUFDVCw2R0FBVTtBQUNWLG1IQUFhO0FBQ2IsbUhBQWE7QUFFZix3RkFTc0I7QUFScEIsK0dBQVE7QUFDUix1R0FBSTtBQUNKLDJHQUFNO0FBQ04seUdBQUs7QUFDTCwrR0FBUTtBQUNSLHFHQUFHO0FBQ0gsMkdBQU07QUFDTiw2R0FBTztBQUdULHdFQUFxRTtBQUNyRSxxRUFBdUM7QUFDdkMsa0JBQWU7SUFDYixNQUFNLEVBQU4sYUFBTTtJQUNOLE9BQU8sRUFBUCxjQUFPO0lBQ1AsQ0FBQyxFQUFELFFBQUM7SUFDRCxhQUFhLEVBQWIsb0JBQWE7SUFDYixjQUFjLEVBQWQsb0JBQWM7SUFDZCxRQUFRLEVBQVIsZUFBUTtDQUNULENBQUM7Ozs7Ozs7Ozs7Ozs7O0FDaENGLDhEQUFtQztBQUVuQyxNQUFhLFdBQVc7SUFJdEI7UUFDRSxJQUFJLENBQUMsSUFBSSxHQUFHLElBQUksQ0FBQyxhQUFhLENBQUMsTUFBTSxDQUFDLENBQUM7UUFDdkMsSUFBSSxDQUFDLElBQUksR0FBRyxJQUFJLENBQUMsYUFBYSxDQUFDLE1BQU0sQ0FBQyxDQUFDO0lBQ3pDLENBQUM7SUFFRCxhQUFhLENBQUMsR0FBVztRQUN2QixPQUFPLElBQUksaUJBQWMsQ0FBQyxHQUFHLENBQUMsQ0FBQztJQUNqQyxDQUFDO0lBRUQsZUFBZSxDQUFDLElBQVksRUFBRSxHQUFXO1FBQ3ZDLE9BQU8sSUFBSSxpQkFBYyxDQUFDLEdBQUcsQ0FBQyxDQUFDO0lBQ2pDLENBQUM7SUFFRCxjQUFjLENBQUMsSUFBWTtRQUN6QixPQUFPLElBQUksQ0FBQztJQUNkLENBQUM7SUFFRCxhQUFhLENBQUMsTUFBVztRQUN2QixPQUFPLFNBQVMsQ0FBQztJQUNuQixDQUFDO0NBQ0Y7QUF4QkQsa0NBd0JDOzs7Ozs7Ozs7Ozs7OztBQzFCRCxNQUFhLGNBQWM7SUFLekIsWUFBWSxHQUFXO1FBQ3JCLElBQUksQ0FBQyxPQUFPLEdBQUcsR0FBRyxDQUFDO1FBQ25CLE1BQU0sV0FBVyxHQUFHO1lBQ2xCLE1BQU07WUFDTixNQUFNO1lBQ04sSUFBSTtZQUNKLEtBQUs7WUFDTCxPQUFPO1lBQ1AsSUFBSTtZQUNKLEtBQUs7WUFDTCxPQUFPO1lBQ1AsTUFBTTtZQUNOLE1BQU07WUFDTixPQUFPO1lBQ1AsUUFBUTtZQUNSLE9BQU87WUFDUCxLQUFLO1NBQ04sQ0FBQztRQUVGLElBQUksV0FBVyxDQUFDLE9BQU8sQ0FBQyxHQUFHLENBQUMsSUFBSSxDQUFDLEVBQUU7WUFDakMsSUFBSSxDQUFDLEdBQUcsR0FBRyxJQUFJLEdBQUcsS0FBSyxDQUFDO1lBQ3hCLElBQUksQ0FBQyxXQUFXLEdBQUcsSUFBSSxDQUFDO1NBQ3pCO2FBQU07WUFDTCxJQUFJLENBQUMsR0FBRyxHQUFHLElBQUksR0FBRyxNQUFNLEdBQUcsR0FBRyxDQUFDO1NBQ2hDO0lBQ0gsQ0FBQztJQUVELElBQUksU0FBUztRQUNYLE9BQU8sSUFBSSxDQUFDLFNBQVMsQ0FBQztJQUN4QixDQUFDO0lBRUQsSUFBSSxTQUFTOztRQUNYLE1BQU0sR0FBRyxHQUFHLHFDQUFxQyxDQUFDO1FBQ2xELE9BQU8sZUFBRyxDQUFDLElBQUksQ0FBQyxJQUFJLENBQUMsR0FBRyxDQUFDLDBDQUFHLENBQUMsQ0FBQyxtQ0FBSSxFQUFFLENBQUM7SUFDdkMsQ0FBQztJQUVELElBQUksU0FBUzs7UUFDWCxNQUFNLEdBQUcsR0FBRyxxQ0FBcUMsQ0FBQztRQUNsRCxPQUFPLGVBQUcsQ0FBQyxJQUFJLENBQUMsSUFBSSxDQUFDLEdBQUcsQ0FBQywwQ0FBRyxDQUFDLENBQUMsbUNBQUksRUFBRSxDQUFDO0lBQ3ZDLENBQUM7SUFFRCxJQUFJLFNBQVMsQ0FBQyxJQUFJO1FBQ2hCLE1BQU0sR0FBRyxHQUFHLHFDQUFxQyxDQUFDO1FBQ2xELElBQUksQ0FBQyxHQUFHLEdBQUcsSUFBSSxDQUFDLEdBQUcsQ0FBQyxPQUFPLENBQUMsR0FBRyxFQUFFLEtBQUssSUFBSSxJQUFJLENBQUMsQ0FBQztJQUNsRCxDQUFDO0lBRUQsSUFBSSxVQUFVO1FBQ1osT0FBTyxFQUFFLE1BQU0sRUFBRSxDQUFDLEVBQUUsQ0FBQztJQUN2QixDQUFDO0lBRUQsSUFBSSxRQUFRO1FBQ1YsTUFBTSxHQUFHLEdBQUcsaUNBQWlDLENBQUM7UUFFOUMsTUFBTSxLQUFLLEdBQUcsRUFBRSxDQUFDO1FBRWpCLElBQUksS0FBSyxDQUFDO1FBRVYsT0FBTyxDQUFDLEtBQUssR0FBRyxHQUFHLENBQUMsSUFBSSxDQUFDLElBQUksQ0FBQyxTQUFTLENBQUMsQ0FBQyxLQUFLLElBQUksRUFBRTtZQUNsRCxLQUFLLENBQUMsSUFBSSxDQUFDLEtBQUssQ0FBQyxDQUFDLENBQUMsQ0FBQyxPQUFPLENBQUMsU0FBUyxFQUFFLEdBQUcsQ0FBQyxDQUFDLENBQUM7U0FDOUM7UUFFRCxPQUFPLEtBQUssQ0FBQztJQUNmLENBQUM7SUFDRCxjQUFjLENBQUMsSUFBWSxFQUFFLEtBQVU7UUFDckMsSUFBSSxDQUFDLFlBQVksQ0FBQyxJQUFJLEVBQUUsS0FBSyxDQUFDLENBQUM7SUFDakMsQ0FBQztJQUVELFlBQVksQ0FBQyxJQUFZLEVBQUUsS0FBVTtRQUNuQyxJQUFJLElBQUksQ0FBQyxXQUFXO1lBQ2xCLElBQUksQ0FBQyxHQUFHLEdBQUcsSUFBSSxDQUFDLEdBQUcsQ0FBQyxPQUFPLENBQ3pCLG1CQUFtQixFQUNuQixLQUFLLElBQUksS0FBSyxLQUFLLE1BQU0sQ0FDMUIsQ0FBQzs7WUFFRixJQUFJLENBQUMsR0FBRyxHQUFHLElBQUksQ0FBQyxHQUFHLENBQUMsT0FBTyxDQUFDLGlCQUFpQixFQUFFLE1BQU0sSUFBSSxLQUFLLEtBQUssS0FBSyxDQUFDLENBQUM7SUFDOUUsQ0FBQztJQUVELFdBQVcsQ0FBQyxLQUFVO1FBQ3BCLE1BQU0sTUFBTSxHQUFHLEtBQUssQ0FBQyxHQUFHLENBQUMsQ0FBQyxDQUFDLEtBQUssQ0FBQyxHQUFHLENBQUMsQ0FBQyxDQUFDLEtBQUssQ0FBQztRQUU3QyxNQUFNLEtBQUssR0FBRyxJQUFJLENBQUMsR0FBRyxDQUFDLFdBQVcsQ0FBQyxJQUFJLENBQUMsQ0FBQztRQUV6QyxJQUFJLENBQUMsR0FBRztZQUNOLElBQUksQ0FBQyxHQUFHLENBQUMsU0FBUyxDQUFDLENBQUMsRUFBRSxLQUFLLENBQUMsR0FBRyxNQUFNLEdBQUcsSUFBSSxDQUFDLEdBQUcsQ0FBQyxTQUFTLENBQUMsS0FBSyxDQUFDLENBQUM7SUFDdEUsQ0FBQztJQUVELFlBQVksQ0FBQyxRQUFhLEVBQUUsU0FBZTtRQUN6QyxJQUFJLENBQUMsU0FBUyxHQUFHLFFBQVEsQ0FBQyxHQUFHLENBQUM7SUFDaEMsQ0FBQztJQUVELGdCQUFnQixDQUFDLEtBQVUsRUFBRSxTQUFjLEVBQUUsUUFBYyxJQUFHLENBQUM7Q0FDaEU7QUFoR0Qsd0NBZ0dDOzs7Ozs7Ozs7Ozs7OztBQ2hHRCxrR0FBa0Q7QUFBekMsK0hBQWM7QUFDdkIsZ0ZBQXlDO0FBQWhDLG1IQUFXO0FBQ3BCLGdGQUE0QztBQUFuQyx5SEFBYzs7Ozs7Ozs7Ozs7Ozs7QUNGdkIsOERBQWdDO0FBQ2hDLHlFQUF5QztBQUN6QyxzRUFBcUM7QUFFckMsVUFBVSxDQUFDLEtBQUssR0FBRyxpQkFBUyxFQUFFLEtBQUssSUFBSSxDQUFDLENBQUMsQ0FBQyxJQUFJLENBQUMsQ0FBQyxDQUFDLFNBQVMsQ0FBQztBQUMzRCxVQUFVLENBQUMsS0FBSyxHQUFHLEVBQUUsS0FBSyxFQUFFLFFBQVEsRUFBRSxFQUFFLFFBQVEsRUFBRSxHQUFHLEVBQUUsRUFBRSxDQUFDO0FBRTFELFNBQWdCLE9BQU8sQ0FBQyxXQUFtQixHQUFHO0lBQzVDLEtBQUssQ0FBQyxRQUFRLEdBQUcsRUFBRSxRQUFRLEVBQUUsQ0FBQztJQUM5QixhQUFhO0lBQ2IsVUFBVSxDQUFDLFFBQVEsR0FBRyxLQUFLLENBQUMsQ0FBQyxDQUFDLElBQUksY0FBVyxFQUFFLENBQUMsQ0FBQyxDQUFDLE1BQU0sQ0FBQyxRQUFRLENBQUM7QUFDcEUsQ0FBQztBQUpELDBCQUlDO0FBRUQsU0FBZ0IsY0FBYyxDQUM1QixTQUFjLEVBQ2QsVUFBdUQsRUFBRTtJQUV6RCxNQUFNLEVBQUUsUUFBUSxFQUFFLFVBQVUsR0FBRyxJQUFJLEVBQUUsR0FBRyxPQUFPLENBQUM7SUFFaEQsT0FBTyxDQUFDLFFBQVEsQ0FBQyxDQUFDO0lBQ2xCLElBQUksVUFBVTtRQUFFLGFBQU0sQ0FBQyxLQUFLLEVBQUUsQ0FBQztJQUUvQixPQUFPLGFBQU0sQ0FBQyxTQUFTLEVBQUUsSUFBSSxFQUFFLElBQUksQ0FBQyxDQUFDLElBQUksQ0FBQyxFQUFFLENBQVcsQ0FBQztBQUMxRCxDQUFDO0FBVkQsd0NBVUM7Ozs7Ozs7Ozs7Ozs7O0FDdkJZLGdCQUFRLEdBQ25CLE9BQU8sT0FBTyxLQUFLLFVBQVU7SUFDM0IsQ0FBQyxDQUFDLE9BQU8sQ0FBQyxTQUFTLENBQUMsSUFBSSxDQUFDLElBQUksQ0FBQyxPQUFPLENBQUMsT0FBTyxFQUFFLENBQUM7SUFDaEQsQ0FBQyxDQUFDLFVBQVUsQ0FBQztBQUVqQixTQUFnQixPQUFPLENBQUMsRUFBTyxFQUFFLElBQVk7SUFDM0MsSUFBSSxDQUFDLENBQUMsSUFBSSxDQUFDLE9BQU8sQ0FBQyxJQUFJLENBQUMsRUFBRTtRQUN4QixPQUFPLEtBQUssQ0FBQztLQUNkO0lBQ0QsSUFBSSxFQUFFLENBQUMsR0FBRztRQUFFLE9BQU8sSUFBSSxDQUFDO0lBQ3hCLE9BQU8sQ0FBQyxVQUFVLEVBQUUsUUFBUSxDQUFDLENBQUMsUUFBUSxDQUFDLE9BQU8sRUFBRSxDQUFDLElBQUksQ0FBQyxDQUFDLENBQUM7QUFDMUQsQ0FBQztBQU5ELDBCQU1DO0FBRUQsU0FBZ0IsU0FBUztJQUN2QixZQUFZO0lBQ1osT0FBTyxPQUFPLElBQUksS0FBSyxXQUFXLElBQUksT0FBTyxNQUFNLEtBQUssV0FBVyxDQUFDO0FBQ3RFLENBQUM7QUFIRCw4QkFHQztBQUVELFNBQWdCLFNBQVMsQ0FBQyxHQUFXO0lBQ25DLElBQUksSUFBSSxHQUFHLENBQUMsQ0FBQztJQUViLElBQUksQ0FBQyxHQUFHLENBQUMsTUFBTTtRQUFFLE9BQU8sSUFBSSxDQUFDO0lBQzdCLEtBQUssSUFBSSxDQUFDLEdBQUcsQ0FBQyxFQUFFLENBQUMsR0FBRyxHQUFHLENBQUMsTUFBTSxFQUFFLENBQUMsRUFBRSxFQUFFO1FBQ25DLE1BQU0sSUFBSSxHQUFHLEdBQUcsQ0FBQyxVQUFVLENBQUMsQ0FBQyxDQUFDLENBQUM7UUFDL0IsSUFBSSxHQUFHLENBQUMsSUFBSSxJQUFJLENBQUMsQ0FBQyxHQUFHLElBQUksR0FBRyxJQUFJLENBQUM7UUFDakMsSUFBSSxJQUFJLENBQUMsQ0FBQztLQUNYO0lBQ0QsT0FBTyxJQUFJLENBQUMsR0FBRyxDQUFDLElBQUksQ0FBQyxDQUFDLFFBQVEsQ0FBQyxFQUFFLENBQUMsQ0FBQztBQUNyQyxDQUFDO0FBVkQsOEJBVUM7QUFFRCxTQUFnQixZQUFZLENBQUMsVUFBZSxFQUFFLElBQVM7SUFDckQsT0FBTyxDQUNMLFVBQVU7UUFDVixDQUFDLFVBQVUsS0FBSyxJQUFJLElBQUksWUFBWSxDQUFDLFVBQVUsQ0FBQyxVQUFVLEVBQUUsSUFBSSxDQUFDLENBQUMsQ0FDbkUsQ0FBQztBQUNKLENBQUM7QUFMRCxvQ0FLQztBQUVELFNBQWdCLFlBQVksQ0FBQyxFQUFlLEVBQUUsUUFBbUI7SUFDL0QsSUFBSSxRQUFRLEdBQUcsSUFBSSxnQkFBZ0IsQ0FBQyxDQUFDLE9BQU8sRUFBRSxFQUFFO1FBQzlDLEtBQUssTUFBTSxHQUFHLElBQUksT0FBTyxFQUFFO1lBQ3pCLEdBQUcsQ0FBQyxZQUFZLENBQUMsT0FBTyxDQUFDLENBQUMsV0FBVyxFQUFFLEVBQUU7Z0JBQ3ZDLElBQUksWUFBWSxDQUFDLEVBQUUsRUFBRSxXQUFXLENBQUMsRUFBRTtvQkFDakMsUUFBUSxFQUFFLENBQUM7b0JBQ1gsSUFBSSxRQUFRLEVBQUU7d0JBQ1osUUFBUSxDQUFDLFVBQVUsRUFBRSxDQUFDO3dCQUN0QixhQUFhO3dCQUNiLFFBQVEsR0FBRyxTQUFTLENBQUM7cUJBQ3RCO2lCQUNGO1lBQ0gsQ0FBQyxDQUFDLENBQUM7U0FDSjtJQUNILENBQUMsQ0FBQyxDQUFDO0lBQ0gsUUFBUSxDQUFDLE9BQU8sQ0FBQyxRQUFRLEVBQUU7UUFDekIsU0FBUyxFQUFFLElBQUk7UUFDZixPQUFPLEVBQUUsSUFBSTtLQUNkLENBQUMsQ0FBQztJQUNILE9BQU8sUUFBUSxDQUFDO0FBQ2xCLENBQUM7QUFwQkQsb0NBb0JDO0FBRUQsU0FBZ0IsSUFBSSxDQUFDLElBQWdCO0lBQ25DLE9BQU8sVUFBVSxDQUFDLElBQUksRUFBRSxDQUFDLENBQUMsQ0FBQztBQUM3QixDQUFDO0FBRkQsb0JBRUM7QUFFRCxTQUFnQixZQUFZLENBQUMsSUFBUztJQUNwQyxNQUFNLElBQUksR0FBRyxRQUFRLENBQUMsc0JBQXNCLEVBQUUsQ0FBQztJQUMvQyxJQUFJLENBQUMsV0FBVyxDQUFDLElBQUksQ0FBQyxTQUFTLENBQUMsSUFBSSxDQUFDLENBQUMsQ0FBQztJQUN2QyxPQUFPLElBQUksQ0FBQyxRQUFRLEVBQUUsQ0FBQztBQUN6QixDQUFDO0FBSkQsb0NBSUM7Ozs7Ozs7VUNuRUQ7VUFDQTs7VUFFQTtVQUNBO1VBQ0E7VUFDQTtVQUNBO1VBQ0E7VUFDQTtVQUNBO1VBQ0E7VUFDQTtVQUNBO1VBQ0E7VUFDQTs7VUFFQTtVQUNBOztVQUVBO1VBQ0E7VUFDQTs7Ozs7Ozs7Ozs7O0FDdEJBLDZEQW1CYTtBQUViLGtCQUFlO0lBQ2IsUUFBUSxFQUFSLFlBQVE7SUFDUixJQUFJLEVBQUosUUFBSTtJQUNKLE1BQU0sRUFBTixVQUFNO0lBQ04sS0FBSyxFQUFMLFNBQUs7SUFDTCxRQUFRLEVBQVIsWUFBUTtJQUNSLEdBQUcsRUFBSCxPQUFHO0lBQ0gsTUFBTSxFQUFOLFVBQU07SUFDTixPQUFPLEVBQVAsV0FBTztJQUNQLENBQUMsRUFBRCxLQUFDO0lBQ0QsUUFBUSxFQUFSLFlBQVE7SUFDUixNQUFNLEVBQU4sVUFBTTtJQUNOLE9BQU8sRUFBUCxXQUFPO0lBQ1AsY0FBYyxFQUFkLGtCQUFjO0lBQ2QsUUFBUSxFQUFSLFlBQVE7SUFDUixTQUFTLEVBQVQsYUFBUztJQUNULFVBQVUsRUFBVixjQUFVO0lBQ1YsYUFBYSxFQUFiLGlCQUFhO0lBQ2IsYUFBYSxFQUFiLGlCQUFhO0NBQ2QsQ0FBQyIsImZpbGUiOiJ2aWRhLmRldi5taW4uanMiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBhcHBlbmRDaGlsZHJlbiwgQ29tcG9uZW50LCBoIH0gZnJvbSBcIi4uL2NvcmVcIjtcblxuZXhwb3J0IGNsYXNzIEhlbG1ldCBleHRlbmRzIENvbXBvbmVudCB7XG4gIHN0YXRpYyBTU1IoYm9keTogc3RyaW5nKSB7XG4gICAgY29uc3QgcmVnID0gLyg8aGVsbWV0XFxiW14+XSo+KSgoLnxcXG4pKj8pKDxcXC9oZWxtZXQ+KS9nbTtcblxuICAgIGNvbnN0IGhlYWQ6IHN0cmluZ1tdID0gW107XG4gICAgY29uc3QgZm9vdGVyOiBzdHJpbmdbXSA9IFtdO1xuXG4gICAgaWYgKGRvY3VtZW50Py5oZWFkKSB7XG4gICAgICBsZXQgY2hpbGRyZW4gPSAoZG9jdW1lbnQuaGVhZC5jaGlsZHJlbiBhcyB1bmtub3duKSBhcyBzdHJpbmdbXTtcblxuICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBjaGlsZHJlbi5sZW5ndGg7IGkrKykge1xuICAgICAgICBpZiAoaGVhZC5pbmRleE9mKGNoaWxkcmVuW2ldKSA9PT0gLTEpIHtcbiAgICAgICAgICBoZWFkLnB1c2goY2hpbGRyZW5baV0pO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuXG4gICAgbGV0IHJlc3VsdDtcblxuICAgIHdoaWxlICgocmVzdWx0ID0gcmVnLmV4ZWMoYm9keSkpICE9IG51bGwpIHtcbiAgICAgIGNvbnN0IGZpcnN0ID0gcmVzdWx0WzFdO1xuICAgICAgY29uc3Qgc2Vjb25kID0gcmVzdWx0WzJdO1xuXG4gICAgICBjb25zdCB0b0hlYWQgPSBmaXJzdC5pbmNsdWRlcygnZGF0YS1wbGFjZW1lbnQ9XCJoZWFkXCInKTtcblxuICAgICAgaWYgKHRvSGVhZCAmJiAhaGVhZC5pbmNsdWRlcyhzZWNvbmQpKSBoZWFkLnB1c2goc2Vjb25kKTtcbiAgICAgIGVsc2UgaWYgKCFmb290ZXIuaW5jbHVkZXMoc2Vjb25kKSkgZm9vdGVyLnB1c2goc2Vjb25kKTtcbiAgICB9XG5cbiAgICBjb25zdCBjbGVhbkJvZHkgPSBib2R5LnJlcGxhY2UocmVnLCBcIlwiKTtcbiAgICByZXR1cm4ge1xuICAgICAgYm9keTogY2xlYW5Cb2R5LFxuICAgICAgaGVhZCxcbiAgICAgIGZvb3RlcixcbiAgICB9O1xuICB9XG5cbiAgbW91bnQoKSB7XG4gICAgZm9yIChjb25zdCBlbGVtZW50IG9mIHRoaXMucHJvcHMuY2hpbGRyZW4pIHtcbiAgICAgIGNvbnN0IHBhcmVudCA9IHRoaXMucHJvcHMuZm9vdGVyID8gZG9jdW1lbnQuYm9keSA6IGRvY3VtZW50LmhlYWQ7XG4gICAgICBjb25zdCB0YWcgPSAoZWxlbWVudCBhcyBIVE1MRWxlbWVudCkudGFnTmFtZTtcbiAgICAgIGxldCBhdHRyczogc3RyaW5nW10gPSBbXTtcblxuICAgICAgYXR0cnMucHVzaChlbGVtZW50LmlubmVyVGV4dCk7XG5cbiAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgZWxlbWVudC5hdHRyaWJ1dGVzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgIGF0dHJzLnB1c2goZWxlbWVudC5hdHRyaWJ1dGVzLml0ZW0oaSk/Lm5hbWUudG9Mb3dlckNhc2UoKSk7XG4gICAgICAgIGF0dHJzLnB1c2goZWxlbWVudC5hdHRyaWJ1dGVzLml0ZW0oaSk/LnZhbHVlLnRvTG93ZXJDYXNlKCkpO1xuICAgICAgfVxuXG4gICAgICBpZiAodGFnID09PSBcIkhUTUxcIiB8fCB0YWcgPT09IFwiQk9EWVwiKSB7XG4gICAgICAgIGNvbnN0IGh0bWxUYWcgPSBkb2N1bWVudC5nZXRFbGVtZW50c0J5VGFnTmFtZSh0YWcpWzBdO1xuICAgICAgICBmb3IgKGxldCBpID0gMTsgaSA8IGVsZW1lbnQuYXR0cmlidXRlcy5sZW5ndGg7IGkgKz0gMikge1xuICAgICAgICAgIGh0bWxUYWcuc2V0QXR0cmlidXRlKGF0dHJzW2ldLCBhdHRyc1tpICsgMV0pO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybjtcbiAgICAgIH0gZWxzZSBpZiAodGFnID09PSBcIlRJVExFXCIpIHtcbiAgICAgICAgY29uc3QgdGl0bGVUYWcgPSBkb2N1bWVudC5nZXRFbGVtZW50c0J5VGFnTmFtZShcbiAgICAgICAgICB0YWcsXG4gICAgICAgICkgYXMgSFRNTENvbGxlY3Rpb25PZjxIVE1MVGl0bGVFbGVtZW50PjtcblxuICAgICAgICBpZiAodGl0bGVUYWcubGVuZ3RoKSB7XG4gICAgICAgICAgdGl0bGVUYWdbMF0udGV4dCA9IGVsZW1lbnQudGV4dDtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBjb25zdCB0aXRsZVRhZyA9IGgoXG4gICAgICAgICAgICBcInRpdGxlXCIsXG4gICAgICAgICAgICBudWxsLFxuICAgICAgICAgICAgZWxlbWVudC5pbm5lckhUTUwsXG4gICAgICAgICAgKSBhcyBIVE1MVGl0bGVFbGVtZW50O1xuICAgICAgICAgIHBhcmVudC5hcHBlbmRDaGlsZCh0aXRsZVRhZyk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuXG4gICAgICBsZXQgZXhpc3RzID0gZmFsc2U7XG4gICAgICBhdHRycyA9IGF0dHJzLnNvcnQoKTtcblxuICAgICAgY29uc3QgZWwgPSBkb2N1bWVudC5nZXRFbGVtZW50c0J5VGFnTmFtZShcbiAgICAgICAgdGFnLFxuICAgICAgKSBhcyBIVE1MQ29sbGVjdGlvbk9mPEhUTUxFbGVtZW50PjtcblxuICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBlbC5sZW5ndGg7IGkrKykge1xuICAgICAgICBsZXQgYXR0cnMyOiBzdHJpbmdbXSA9IFtdO1xuXG4gICAgICAgIGF0dHJzMi5wdXNoKGVsW2ldLmlubmVyVGV4dCk7XG5cbiAgICAgICAgZm9yIChsZXQgaiA9IDA7IGogPCBlbFtpXS5hdHRyaWJ1dGVzLmxlbmd0aDsgaisrKSB7XG4gICAgICAgICAgYXR0cnMyLnB1c2goZWxbaV0uYXR0cmlidXRlcy5pdGVtKGopPy5uYW1lLnRvTG93ZXJDYXNlKCkgYXMgc3RyaW5nKTtcbiAgICAgICAgICBhdHRyczIucHVzaChlbFtpXS5hdHRyaWJ1dGVzLml0ZW0oaik/LnZhbHVlLnRvTG93ZXJDYXNlKCkgYXMgc3RyaW5nKTtcbiAgICAgICAgfVxuICAgICAgICBhdHRyczIgPSBhdHRyczIuc29ydCgpO1xuXG4gICAgICAgIGlmIChcbiAgICAgICAgICBhdHRycy5sZW5ndGggPiAwICYmXG4gICAgICAgICAgYXR0cnMyLmxlbmd0aCA+IDAgJiZcbiAgICAgICAgICBKU09OLnN0cmluZ2lmeShhdHRycykgPT09IEpTT04uc3RyaW5naWZ5KGF0dHJzMilcbiAgICAgICAgKVxuICAgICAgICAgIGV4aXN0cyA9IHRydWU7XG4gICAgICB9XG5cbiAgICAgIGlmICghZXhpc3RzKSB7XG4gICAgICAgIGFwcGVuZENoaWxkcmVuKHBhcmVudCwgZWxlbWVudCk7XG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgcmVuZGVyKCkge1xuICAgIGlmIChpc1NTUikge1xuICAgICAgcmV0dXJuIGgoXG4gICAgICAgIFwiaGVsbWV0XCIsXG4gICAgICAgIHtcbiAgICAgICAgICBcImRhdGEtc3NyXCI6IHRydWUsXG4gICAgICAgICAgXCJkYXRhLXBsYWNlbWVudFwiOiB0aGlzLnByb3BzLmZvb3RlciA/IFwiZm9vdGVyXCIgOiBcImhlYWRcIixcbiAgICAgICAgfSxcbiAgICAgICAgdGhpcy5wcm9wcy5jaGlsZHJlbixcbiAgICAgICk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHJldHVybiBbXTtcbiAgICB9XG4gIH1cbn1cbiIsImltcG9ydCB7IENvbXBvbmVudCwgaCB9IGZyb20gXCIuLi9jb3JlXCI7XG5pbXBvcnQgeyBzdHJUb0hhc2ggfSBmcm9tIFwiLi4vdXRpbHNcIjtcblxuZXhwb3J0IGNsYXNzIEltZyBleHRlbmRzIENvbXBvbmVudCB7XG4gIGNvbnN0cnVjdG9yKHByb3BzOiBhbnkpIHtcbiAgICBzdXBlcihwcm9wcyk7XG5cbiAgICBjb25zdCB7IGtleSwgc3JjIH0gPSB0aGlzLnByb3BzO1xuICAgIHRoaXMuaWQgPSBzdHJUb0hhc2goc3JjKSArIFwiLVwiICsgc3RyVG9IYXNoKEpTT04uc3RyaW5naWZ5KHRoaXMucHJvcHMpKTtcbiAgICBpZiAoa2V5KSB7XG4gICAgICB0aGlzLmlkICs9IGAka2V5LSR7a2V5fWA7XG4gICAgfVxuXG4gICAgaWYgKCF0aGlzLnN0YXRlKSB7XG4gICAgICB0aGlzLnNldFN0YXRlKHsgaW1hZ2U6IFwiXCIsIGlzTG9hZGVkOiBmYWxzZSB9KTtcbiAgICB9XG4gIH1cblxuICBtb3VudCgpIHtcbiAgICBjb25zdCB7XG4gICAgICBsYXp5ID0gdHJ1ZSxcbiAgICAgIHBsYWNlaG9sZGVyLFxuICAgICAga2V5LFxuICAgICAgcmVmLFxuICAgICAgY2hpbGRyZW4sXG4gICAgICAuLi5yZXN0XG4gICAgfSA9IHRoaXMucHJvcHM7XG5cbiAgICBpZiAoIWxhenkpIHJldHVybjtcblxuICAgIGNvbnN0IG9ic2VydmVyID0gbmV3IEludGVyc2VjdGlvbk9ic2VydmVyKFxuICAgICAgKGVudHJpZXMsIG9ic2VydmVyKSA9PiB7XG4gICAgICAgIGZvciAoY29uc3QgZW50cnkgb2YgZW50cmllcykge1xuICAgICAgICAgIGlmIChlbnRyeS5pc0ludGVyc2VjdGluZykge1xuICAgICAgICAgICAgb2JzZXJ2ZXIuZGlzY29ubmVjdCgpO1xuICAgICAgICAgICAgdGhpcy5zdGF0ZS5pbWFnZSA9IGgoXCJpbWdcIiwgeyAuLi5yZXN0IH0pO1xuICAgICAgICAgICAgaWYgKHRoaXMuc3RhdGUuaW1hZ2UuY29tcGxldGUpIHtcbiAgICAgICAgICAgICAgdGhpcy5zdGF0ZS5pc0xvYWRlZCA9IHRydWU7XG4gICAgICAgICAgICAgIHRoaXMudXBkYXRlKCk7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICB0aGlzLnN0YXRlLmltYWdlLm9ubG9hZCA9ICgpID0+IHtcbiAgICAgICAgICAgICAgICB0aGlzLnN0YXRlLmlzTG9hZGVkID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICB0aGlzLnVwZGF0ZSgpO1xuICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfSxcbiAgICAgIHsgdGhyZXNob2xkOiBbMCwgMV0gfSxcbiAgICApO1xuXG4gICAgb2JzZXJ2ZXIub2JzZXJ2ZSh0aGlzLmVsZW1lbnRzWzBdKTtcbiAgfVxuXG4gIHJlbmRlcigpIHtcbiAgICBjb25zdCB7XG4gICAgICBsYXp5ID0gdHJ1ZSxcbiAgICAgIHNyYyxcbiAgICAgIHBsYWNlaG9sZGVyLFxuICAgICAga2V5LFxuICAgICAgcmVmLFxuICAgICAgY2hpbGRyZW4sXG4gICAgICAuLi5yZXN0XG4gICAgfSA9IHRoaXMucHJvcHM7XG5cbiAgICBpZiAoIWxhenkpIHtcbiAgICAgIHRoaXMuc3RhdGUuaW1hZ2UgPSBoKFwiaW1nXCIsIHsgc3JjLCAuLi5yZXN0IH0pO1xuICAgICAgcmV0dXJuIHRoaXMuc3RhdGUuaW1hZ2U7XG4gICAgfVxuXG4gICAgaWYgKHRoaXMuc3RhdGUuaXNMb2FkZWQpIHtcbiAgICAgIHJldHVybiB0aGlzLnN0YXRlLmltYWdlO1xuICAgIH0gZWxzZSBpZiAodHlwZW9mIHBsYWNlaG9sZGVyID09PSBcInN0cmluZ1wiKSB7XG4gICAgICByZXR1cm4gaChcImltZ1wiLCB7IHNyYzogcGxhY2Vob2xkZXIsIC4uLnJlc3QgfSk7XG4gICAgfSBlbHNlIGlmICh0eXBlb2YgcGxhY2Vob2xkZXIgPT09IFwiZnVuY3Rpb25cIikge1xuICAgICAgcmV0dXJuIHBsYWNlaG9sZGVyKCk7XG4gICAgfSBlbHNlIHtcbiAgICAgIGNvbnN0IHN0eWxlID0ge1xuICAgICAgICBiYWNrZ3JvdW5kQ29sb3I6IFwibGlnaHRncmF5XCIsXG4gICAgICAgIHdpZHRoOiBcIjEwMHB4XCIsXG4gICAgICAgIGhlaWdodDogXCIxMDBweFwiLFxuICAgICAgfTtcblxuICAgICAgY29uc3QgeyB3aWR0aCwgaGVpZ2h0LCAuLi5vdGhlcnMgfSA9IHJlc3Q7XG4gICAgICBpZiAod2lkdGgpIHtcbiAgICAgICAgc3R5bGUud2lkdGggPSB3aWR0aDtcbiAgICAgIH1cbiAgICAgIGlmIChoZWlnaHQpIHtcbiAgICAgICAgc3R5bGUuaGVpZ2h0ID0gaGVpZ2h0O1xuICAgICAgfVxuICAgICAgcmV0dXJuIGgoXCJkaXZcIiwgeyBzdHlsZSwgLi4ub3RoZXJzIH0pO1xuICAgIH1cbiAgfVxufVxuIiwiZXhwb3J0IHsgSGVsbWV0IH0gZnJvbSBcIi4vaGVsbWV0XCI7XG5leHBvcnQgeyBJbWcgfSBmcm9tIFwiLi9pbWdcIjtcbmV4cG9ydCB7IExpbmsgfSBmcm9tIFwiLi9saW5rXCI7XG5leHBvcnQgeyBTdXNwZW5zZSB9IGZyb20gXCIuL3N1c3BlbnNlXCI7XG5leHBvcnQgeyBWaXNpYmxlIH0gZnJvbSBcIi4vdmlzaWJsZVwiO1xuZXhwb3J0IHsgUm91dGUsIFN3aXRjaCwgTGluayBhcyBWaWRhTGluayB9IGZyb20gXCIuL3JvdXRlclwiO1xuIiwiaW1wb3J0IHsgQ29tcG9uZW50LCBGcmFnbWVudCwgaCB9IGZyb20gXCIuLi9jb3JlXCI7XG5pbXBvcnQgeyBIZWxtZXQgfSBmcm9tIFwiLi9oZWxtZXRcIjtcblxuZXhwb3J0IGNsYXNzIExpbmsgZXh0ZW5kcyBDb21wb25lbnQge1xuICBtb3VudCgpIHtcbiAgICBjb25zdCB7IHByZWZldGNoLCBocmVmLCBkZWxheSwgYmFjayA9IGZhbHNlIH0gPSB0aGlzLnByb3BzO1xuXG4gICAgaWYgKGJhY2spIHtcbiAgICAgIHRoaXMuZWxlbWVudHNbMF0uYWRkRXZlbnRMaXN0ZW5lcihcbiAgICAgICAgXCJjbGlja1wiLFxuICAgICAgICBmdW5jdGlvbiBvbkNsaWNrKHRoaXM6IExpbmssIGU6IEV2ZW50KSB7XG4gICAgICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgICAgIGNvbnN0IHRhcmdldCA9IGUudGFyZ2V0IGFzIEhUTUxMaW5rRWxlbWVudDtcbiAgICAgICAgICBpZiAodGFyZ2V0LmhyZWYgPT09IGRvY3VtZW50LnJlZmVycmVyKSB7XG4gICAgICAgICAgICB3aW5kb3cuaGlzdG9yeS5iYWNrKCk7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHdpbmRvdy5sb2NhdGlvbi5ocmVmID0gaHJlZjtcbiAgICAgICAgICB9XG4gICAgICAgIH0uYmluZCh0aGlzKSxcbiAgICAgICk7XG4gICAgfVxuXG4gICAgaWYgKGRlbGF5KSB7XG4gICAgICB0aGlzLmVsZW1lbnRzWzBdLmFkZEV2ZW50TGlzdGVuZXIoXG4gICAgICAgIFwiY2xpY2tcIixcbiAgICAgICAgZnVuY3Rpb24gb25DbGljayh0aGlzOiBMaW5rLCBlOiBFdmVudCkge1xuICAgICAgICAgIGUucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgICBzZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgICAgICAgIHdpbmRvdy5sb2NhdGlvbi5ocmVmID0gaHJlZjtcbiAgICAgICAgICB9LCBkZWxheSk7XG4gICAgICAgIH0uYmluZCh0aGlzKSxcbiAgICAgICk7XG4gICAgfVxuXG4gICAgaWYgKHByZWZldGNoKSB7XG4gICAgICBpZiAocHJlZmV0Y2ggPT09IFwiaG92ZXJcIikge1xuICAgICAgICB0aGlzLnByZWZldGNoT25Ib3ZlcigpO1xuICAgICAgfSBlbHNlIGlmIChwcmVmZXRjaCA9PT0gXCJ2aXNpYmxlXCIpIHtcbiAgICAgICAgdGhpcy5wcmVmZXRjaE9uVmlzaWJsZSgpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgdGhpcy5hZGRQcmVmZXRjaCgpO1xuICAgICAgfVxuICAgIH1cbiAgfVxuXG4gIHByZWZldGNoT25Ib3ZlcigpIHtcbiAgICB0aGlzLmVsZW1lbnRzWzBdLmFkZEV2ZW50TGlzdGVuZXIoXG4gICAgICBcIm1vdXNlb3ZlclwiLFxuICAgICAgZnVuY3Rpb24gb25Ib3Zlcih0aGlzOiBMaW5rKSB7XG4gICAgICAgIHRoaXMuYWRkUHJlZmV0Y2goKTtcbiAgICAgIH0uYmluZCh0aGlzKSxcbiAgICAgIHsgb25jZTogdHJ1ZSB9LFxuICAgICk7XG4gIH1cblxuICBwcmVmZXRjaE9uVmlzaWJsZSgpIHtcbiAgICBjb25zdCBvYnNlcnZlciA9IG5ldyBJbnRlcnNlY3Rpb25PYnNlcnZlcihcbiAgICAgIChlbnRyaWVzLCBvYnNlcnZlcikgPT4ge1xuICAgICAgICBmb3IgKGNvbnN0IGVudHJ5IG9mIGVudHJpZXMpIHtcbiAgICAgICAgICBpZiAoZW50cnkuaXNJbnRlcnNlY3RpbmcpIHtcbiAgICAgICAgICAgIG9ic2VydmVyLmRpc2Nvbm5lY3QoKTtcbiAgICAgICAgICAgIHRoaXMuYWRkUHJlZmV0Y2goKTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH0sXG4gICAgICB7IHRocmVzaG9sZDogWzAsIDFdIH0sXG4gICAgKTtcbiAgICBvYnNlcnZlci5vYnNlcnZlKHRoaXMuZWxlbWVudHNbMF0pO1xuICB9XG5cbiAgYWRkUHJlZmV0Y2goKSB7XG4gICAgbGV0IGV4aXN0cyA9IGZhbHNlO1xuXG4gICAgY29uc3QgbGlua3MgPSBkb2N1bWVudC5nZXRFbGVtZW50c0J5VGFnTmFtZShcImxpbmtcIik7XG5cbiAgICBmb3IgKGNvbnN0IGxpbmsgb2YgbGlua3MpIHtcbiAgICAgIGlmIChcbiAgICAgICAgbGluay5nZXRBdHRyaWJ1dGUoXCJyZWxcIikgPT09IFwicHJlZmV0Y2hcIiAmJlxuICAgICAgICBsaW5rLmdldEF0dHJpYnV0ZShcImhyZWZcIikgPT09IHRoaXMucHJvcHMuaHJlZlxuICAgICAgKSB7XG4gICAgICAgIGV4aXN0cyA9IHRydWU7XG4gICAgICB9XG4gICAgfVxuXG4gICAgaWYgKCFleGlzdHMpIHtcbiAgICAgIGNvbnN0IHByZWZldGNoID0gaChcImxpbmtcIiwge1xuICAgICAgICByZWw6IFwicHJlZmV0Y2hcIixcbiAgICAgICAgaHJlZjogdGhpcy5wcm9wcy5ocmVmLFxuICAgICAgICBhczogXCJkb2N1bWVudFwiLFxuICAgICAgfSk7XG4gICAgICBkb2N1bWVudC5oZWFkLmFwcGVuZENoaWxkKHByZWZldGNoKTtcbiAgICB9XG4gIH1cblxuICByZW5kZXIoKSB7XG4gICAgY29uc3Qge1xuICAgICAgY2hpbGRyZW4sXG4gICAgICBwcmVmZXRjaCxcbiAgICAgIGRlbGF5LFxuICAgICAgYmFjayA9IGZhbHNlLFxuICAgICAgcmVmLFxuICAgICAgLi4ucmVzdFxuICAgIH0gPSB0aGlzLnByb3BzO1xuXG4gICAgY29uc3QgYSA9IGgoXCJhXCIsIHsgLi4ucmVzdCB9LCAuLi5jaGlsZHJlbik7XG5cbiAgICBpZiAocHJlZmV0Y2ggJiYgaXNTU1IpIHtcbiAgICAgIGNvbnN0IGxpbmsgPSBoKFwibGlua1wiLCB7XG4gICAgICAgIHJlbDogXCJwcmVmZXRjaFwiLFxuICAgICAgICBocmVmOiB0aGlzLnByb3BzLmhyZWYsXG4gICAgICAgIGFzOiBcImRvY3VtZW50XCIsXG4gICAgICB9KTtcbiAgICAgIGNvbnN0IGhlbG1ldCA9IGgoSGVsbWV0LCBudWxsLCBsaW5rKTtcbiAgICAgIHJldHVybiBoKEZyYWdtZW50LCBudWxsLCBbaGVsbWV0LCBhXSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHJldHVybiBhO1xuICAgIH1cbiAgfVxufVxuIiwiaW1wb3J0IHsgaCwgcmVuZGVyRWxlbWVudCwgQ29tcG9uZW50IH0gZnJvbSBcIi4uL2NvcmVcIjtcblxuY29uc3QgaW5zdGFuY2VzOiBhbnlbXSA9IFtdO1xuXG5mdW5jdGlvbiByZWdpc3Rlcihjb21wOiBhbnkpIHtcbiAgaW5zdGFuY2VzLnB1c2goY29tcCk7XG59XG5cbmZ1bmN0aW9uIHVucmVnaXN0ZXIoY29tcDogYW55KSB7XG4gIGluc3RhbmNlcy5zcGxpY2UoaW5zdGFuY2VzLmluZGV4T2YoY29tcCksIDEpO1xufVxuXG5mdW5jdGlvbiBoaXN0b3J5UHVzaChwYXRoOiBzdHJpbmcpIHtcbiAgd2luZG93Lmhpc3RvcnkucHVzaFN0YXRlKHt9LCBcIlwiLCBwYXRoKTtcbiAgZm9yIChjb25zdCBpbnN0YW5jZSBvZiBpbnN0YW5jZXMpIHtcbiAgICBpbnN0YW5jZS5mb3JjZVVwZGF0ZSgpO1xuICB9XG59XG5cbmZ1bmN0aW9uIGhpc3RvcnlSZXBsYWNlKHBhdGg6IHN0cmluZykge1xuICB3aW5kb3cuaGlzdG9yeS5yZXBsYWNlU3RhdGUoe30sIFwiXCIsIHBhdGgpO1xuICBmb3IgKGNvbnN0IGluc3RhbmNlIG9mIGluc3RhbmNlcykge1xuICAgIGluc3RhbmNlLmZvcmNlVXBkYXRlKCk7XG4gIH1cbn1cblxuZnVuY3Rpb24gbWF0Y2hQYXRoKFxuICBwYXRobmFtZTogc3RyaW5nLFxuICBvcHRpb25zOiB7XG4gICAgZXhhY3Q/OiBib29sZWFuO1xuICAgIHBhdGg6IHN0cmluZztcbiAgICByZWdleD86IHsgW3BhcmFtOiBzdHJpbmddOiBSZWdFeHAgfTtcbiAgfSxcbikge1xuICBjb25zdCB7IGV4YWN0ID0gZmFsc2UsIHJlZ2V4IH0gPSBvcHRpb25zO1xuICBsZXQgeyBwYXRoIH0gPSBvcHRpb25zO1xuXG4gIGlmICghcGF0aCkge1xuICAgIHJldHVybiB7XG4gICAgICBwYXRoOiBudWxsLFxuICAgICAgdXJsOiBwYXRobmFtZSxcbiAgICAgIGlzRXhhY3Q6IHRydWUsXG4gICAgfTtcbiAgfVxuXG4gIGxldCBtYXRjaDtcbiAgbGV0IHBhcmFtcyA9IHt9O1xuXG4gIC8vIHBhdGggd2l0aCBwYXJhbXNcbiAgaWYgKHBhdGguaW5jbHVkZXMoXCIvOlwiKSkge1xuICAgIGNvbnN0IHBhdGhBcnIgPSBwYXRoLnNwbGl0KFwiL1wiKTtcbiAgICBjb25zdCBwYXRobmFtZUFyciA9IHBhdGhuYW1lLnNwbGl0KFwiL1wiKTtcbiAgICBwYXRoQXJyLmZvckVhY2goKHAsIGkpID0+IHtcbiAgICAgIGlmICgvXjovLnRlc3QocCkpIHtcbiAgICAgICAgY29uc3Qga2V5ID0gcC5zbGljZSgxKTtcbiAgICAgICAgY29uc3QgdmFsdWUgPSBwYXRobmFtZUFycltpXTtcblxuICAgICAgICAvLyBpZiBhIHJlZ2V4IGlzIHByb3ZpZGVkLCBjaGVjayBpdCBpdCBtYXRjaGVzXG4gICAgICAgIGlmIChyZWdleCAmJiByZWdleFtrZXldKSB7XG4gICAgICAgICAgY29uc3QgcmVnZXhNYXRjaCA9IHJlZ2V4W2tleV0udGVzdCh2YWx1ZSk7XG4gICAgICAgICAgaWYgKCFyZWdleE1hdGNoKSByZXR1cm4gbnVsbDtcbiAgICAgICAgfVxuXG4gICAgICAgIHBhcmFtcyA9IHsgLi4ucGFyYW1zLCBba2V5XTogdmFsdWUgfTtcblxuICAgICAgICBwYXRoQXJyW2ldID0gcGF0aG5hbWVBcnJbaV07XG4gICAgICB9XG4gICAgfSk7XG4gICAgcGF0aCA9IHBhdGhBcnIuam9pbihcIi9cIik7XG4gIH1cblxuICAvLyBjYXRjaCBhbGxcbiAgaWYgKHBhdGggPT09IFwiKlwiKSBtYXRjaCA9IFtwYXRobmFtZV07XG5cbiAgLy8gcmVndWxhciBwYXRoXG4gIGlmICghbWF0Y2gpIG1hdGNoID0gbmV3IFJlZ0V4cChgXiR7cGF0aH1gKS5leGVjKHBhdGhuYW1lKTtcblxuICBpZiAoIW1hdGNoKSByZXR1cm4gbnVsbDtcblxuICBjb25zdCB1cmwgPSBtYXRjaFswXTtcbiAgY29uc3QgaXNFeGFjdCA9IHBhdGhuYW1lID09PSB1cmw7XG5cbiAgaWYgKGV4YWN0ICYmICFpc0V4YWN0KSByZXR1cm4gbnVsbDtcblxuICByZXR1cm4ge1xuICAgIHBhdGgsXG4gICAgdXJsLFxuICAgIGlzRXhhY3QsXG4gICAgcGFyYW1zLFxuICB9O1xufVxuXG5leHBvcnQgY2xhc3MgU3dpdGNoIGV4dGVuZHMgQ29tcG9uZW50PHsgZmFsbGJhY2s/OiBhbnk7IGNoaWxkcmVuPzogYW55IH0+IHtcbiAgaW5kZXg6IG51bWJlciA9IDA7XG4gIHBhdGg6IHN0cmluZyA9IFwiXCI7XG4gIG1hdGNoID0geyBpbmRleDogLTEsIHBhdGg6IFwiXCIgfTtcblxuICBtb3VudCgpIHtcbiAgICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcihcInBvcHN0YXRlXCIsIHRoaXMuZm9yY2VVcGRhdGUuYmluZCh0aGlzKSk7XG4gICAgcmVnaXN0ZXIodGhpcyk7XG4gIH1cblxuICBkZXN0cm95KCkge1xuICAgIHVucmVnaXN0ZXIodGhpcyk7XG4gICAgd2luZG93LnJlbW92ZUV2ZW50TGlzdGVuZXIoXCJwb3BzdGF0ZVwiLCB0aGlzLmZvcmNlVXBkYXRlLmJpbmQodGhpcykpO1xuICB9XG5cbiAgZm9yY2VVcGRhdGUoKSB7XG4gICAgdGhpcy5maW5kQ2hpbGQoKTtcbiAgICBpZiAodGhpcy5zaG91bGRVcGRhdGUoKSkgdGhpcy51cGRhdGUoKTtcbiAgfVxuXG4gIGZpbmRDaGlsZCgpIHtcbiAgICB0aGlzLm1hdGNoID0geyBpbmRleDogLTEsIHBhdGg6IFwiXCIgfTtcblxuICAgIGZvciAoY29uc3QgW2ksIGNoaWxkXSBvZiB0aGlzLnByb3BzLmNoaWxkcmVuLmVudHJpZXMoKSkge1xuICAgICAgY29uc3QgeyBwYXRoLCBleGFjdCwgcmVnZXggfSA9IGNoaWxkLnByb3BzO1xuICAgICAgY29uc3QgbWF0Y2ggPSBtYXRjaFBhdGgoXG4gICAgICAgIHR5cGVvZiBpc1NTUiAhPT0gXCJ1bmRlZmluZWRcIlxuICAgICAgICAgID8gX25hbm8ubG9jYXRpb24ucGF0aG5hbWVcbiAgICAgICAgICA6IHdpbmRvdy5sb2NhdGlvbi5wYXRobmFtZSxcbiAgICAgICAge1xuICAgICAgICAgIHBhdGgsXG4gICAgICAgICAgZXhhY3QsXG4gICAgICAgICAgcmVnZXgsXG4gICAgICAgIH0sXG4gICAgICApO1xuICAgICAgaWYgKG1hdGNoKSB7XG4gICAgICAgIHRoaXMubWF0Y2guaW5kZXggPSBpO1xuICAgICAgICB0aGlzLm1hdGNoLnBhdGggPSBwYXRoO1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgc2hvdWxkVXBkYXRlKCkge1xuICAgIHJldHVybiB0aGlzLnBhdGggIT09IHRoaXMubWF0Y2gucGF0aCB8fCB0aGlzLmluZGV4ICE9PSB0aGlzLm1hdGNoLmluZGV4O1xuICB9XG5cbiAgcmVuZGVyKCkge1xuICAgIHRoaXMuZmluZENoaWxkKCk7XG5cbiAgICBjb25zdCBjaGlsZCA9IHRoaXMucHJvcHMuY2hpbGRyZW5bdGhpcy5tYXRjaC5pbmRleF07XG5cbiAgICBpZiAoY2hpbGQpIHtcbiAgICAgIGNvbnN0IHsgcGF0aCB9ID0gY2hpbGQucHJvcHM7XG4gICAgICB0aGlzLnBhdGggPSBwYXRoO1xuICAgICAgdGhpcy5pbmRleCA9IHRoaXMubWF0Y2guaW5kZXg7XG4gICAgICBjb25zdCBlbCA9IHJlbmRlckVsZW1lbnQoY2hpbGQpO1xuICAgICAgcmV0dXJuIHJlbmRlckVsZW1lbnQoZWwpO1xuICAgIH0gZWxzZSBpZiAodGhpcy5wcm9wcy5mYWxsYmFjaykge1xuICAgICAgcmV0dXJuIHJlbmRlckVsZW1lbnQodGhpcy5wcm9wcy5mYWxsYmFjayk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHJldHVybiBoKFwiZGl2XCIsIHsgY2xhc3M6IFwicm91dGVcIiB9LCBcIm5vdCBmb3VuZFwiKTtcbiAgICB9XG4gIH1cbn1cblxuZXhwb3J0IGZ1bmN0aW9uIFJvdXRlKHtcbiAgcGF0aCxcbiAgcmVnZXgsXG4gIGNoaWxkcmVuLFxufToge1xuICBleGFjdD86IGJvb2xlYW47XG4gIHBhdGg6IHN0cmluZztcbiAgcmVnZXg/OiB7IFtwYXJhbTogc3RyaW5nXTogUmVnRXhwIH07XG4gIGNoaWxkcmVuPzogYW55O1xufSkge1xuICBmb3IgKGNvbnN0IGNoaWxkIG9mIGNoaWxkcmVuKSB7XG4gICAgaWYgKGNoaWxkLnByb3BzKSBjaGlsZC5wcm9wcyA9IHsgLi4uY2hpbGQucHJvcHMsIHJvdXRlOiB7IHBhdGgsIHJlZ2V4IH0gfTtcbiAgfVxuXG4gIHJldHVybiBjaGlsZHJlbjtcbn1cblxuZXhwb3J0IGNvbnN0IHRvID0gKHRvOiBzdHJpbmcsIHJlcGxhY2U6IGJvb2xlYW4gPSBmYWxzZSkgPT4ge1xuICByZXBsYWNlID8gaGlzdG9yeVJlcGxhY2UodG8pIDogaGlzdG9yeVB1c2godG8pO1xufTtcblxuZXhwb3J0IGZ1bmN0aW9uIExpbmsoe1xuICB0byxcbiAgcmVwbGFjZSxcbiAgY2hpbGRyZW4sXG59OiB7XG4gIHRvOiBzdHJpbmc7XG4gIHJlcGxhY2U/OiBib29sZWFuO1xuICBjaGlsZHJlbj86IGFueTtcbn0pIHtcbiAgZnVuY3Rpb24gb25DbGljayhldmVudDogRXZlbnQpIHtcbiAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuICAgIHJlcGxhY2UgPyBoaXN0b3J5UmVwbGFjZSh0bykgOiBoaXN0b3J5UHVzaCh0byk7XG4gIH1cblxuICByZXR1cm4gaChcImFcIiwgeyBocmVmOiB0bywgb25DbGljayB9LCBjaGlsZHJlbik7XG59XG4iLCJpbXBvcnQgeyBDb21wb25lbnQgfSBmcm9tIFwiLi4vY29yZVwiO1xuaW1wb3J0IHsgc3RyVG9IYXNoIH0gZnJvbSBcIi4uL3V0aWxzXCI7XG5cbmV4cG9ydCBjbGFzcyBTdXNwZW5zZSBleHRlbmRzIENvbXBvbmVudCB7XG4gIHByaXZhdGUgaXNSZWFkeSA9IGZhbHNlO1xuXG4gIGNvbnN0cnVjdG9yKHByb3BzOiBhbnkpIHtcbiAgICBzdXBlcihwcm9wcyk7XG5cbiAgICBjb25zdCB7IGZhbGxiYWNrLCBjYWNoZSA9IGZhbHNlLCBjaGlsZHJlbiwgLi4ucmVzdCB9ID0gdGhpcy5wcm9wcztcblxuICAgIHRoaXMuaWQgPSBzdHJUb0hhc2goXG4gICAgICBKU09OLnN0cmluZ2lmeShyZXN0LCBmdW5jdGlvbiAoX2tleSwgdmFsKSB7XG4gICAgICAgIHJldHVybiB0eXBlb2YgdmFsID09PSBcImZ1bmN0aW9uXCIgPyBgJHt2YWx9YCA6IHZhbDtcbiAgICAgIH0pLFxuICAgICk7XG4gIH1cblxuICBhc3luYyBtb3VudCgpIHtcbiAgICBjb25zdCB7IGZhbGxiYWNrLCBjYWNoZSA9IGZhbHNlLCBjaGlsZHJlbiwgLi4ucmVzdCB9ID0gdGhpcy5wcm9wcztcblxuICAgIGlmIChjYWNoZSkgdGhpcy5pbml0aWFsU3RhdGUgPSB7fTtcblxuICAgIGlmICh0aGlzLmxvYWRGcm9tQ2FjaGUoY2FjaGUpKSByZXR1cm47XG5cbiAgICBjb25zdCBwcm9taXNlcyA9IE9iamVjdC52YWx1ZXMocmVzdCkubWFwKChwOiBhbnkpID0+IHAoKSk7XG4gICAgY29uc3QgcmVzb2x2ZWQgPSBhd2FpdCBQcm9taXNlLmFsbChwcm9taXNlcyk7XG4gICAgY29uc3QgZGF0YSA9IHRoaXMucHJlcGFyZURhdGEocmVzdCwgcmVzb2x2ZWQsIGNhY2hlKTtcblxuICAgIHRoaXMuYWRkRGF0YVRvQ2hpbGRyZW4oZGF0YSk7XG5cbiAgICB0aGlzLmlzUmVhZHkgPSB0cnVlO1xuICAgIHRoaXMudXBkYXRlKCk7XG4gIH1cblxuICBwcml2YXRlIGxvYWRGcm9tQ2FjaGUoY2FjaGU6IGJvb2xlYW4pIHtcbiAgICBjb25zdCBjYWNoZWQgPSB0aGlzLnN0YXRlICYmIGNhY2hlICYmIE9iamVjdC5rZXlzKHRoaXMuc3RhdGUpLmxlbmd0aDtcblxuICAgIGlmIChjYWNoZSkge1xuICAgICAgdGhpcy5hZGREYXRhVG9DaGlsZHJlbih0aGlzLnN0YXRlKTtcbiAgICAgIHRoaXMuaXNSZWFkeSA9IHRydWU7XG4gICAgfVxuXG4gICAgcmV0dXJuIGNhY2hlZDtcbiAgfVxuXG4gIHByaXZhdGUgc3NyKCkge1xuICAgIGNvbnN0IHsgZmFsbGJhY2ssIGNhY2hlID0gZmFsc2UsIGNoaWxkcmVuLCAuLi5yZXN0IH0gPSB0aGlzLnByb3BzO1xuXG4gICAgY29uc3QgZnVuY3MgPSBPYmplY3QudmFsdWVzKHJlc3QpLm1hcCgocDogYW55KSA9PiBwKCkpO1xuXG4gICAgY29uc3QgZGF0YSA9IHRoaXMucHJlcGFyZURhdGEocmVzdCwgZnVuY3MsIGZhbHNlKTtcblxuICAgIHRoaXMuYWRkRGF0YVRvQ2hpbGRyZW4oZGF0YSk7XG4gIH1cblxuICBwcml2YXRlIGFkZERhdGFUb0NoaWxkcmVuKGRhdGE6IGFueSkge1xuICAgIGZvciAoY29uc3QgY2hpbGQgb2YgdGhpcy5wcm9wcy5jaGlsZHJlbikge1xuICAgICAgaWYgKGNoaWxkLnByb3BzKSB7XG4gICAgICAgIGNoaWxkLnByb3BzID0geyAuLi5jaGlsZC5wcm9wcywgLi4uZGF0YSB9O1xuICAgICAgfVxuICAgIH1cbiAgfVxuXG4gIHByaXZhdGUgcHJlcGFyZURhdGEocmVzdDogYW55LCBmdW5jOiBhbnksIGNhY2hlOiBib29sZWFuKSB7XG4gICAgY29uc3QgZGF0YSA9IE9iamVjdC5rZXlzKHJlc3QpLnJlZHVjZSgoYWNjLCBpdGVtLCBpbmRleCkgPT4ge1xuICAgICAgaWYgKGNhY2hlKSB7XG4gICAgICAgIHRoaXMuc3RhdGUgPSB7IC4uLnRoaXMuc3RhdGUsIFtpdGVtXTogZnVuY1tpbmRleF0gfTtcbiAgICAgIH1cbiAgICAgIHJldHVybiB7XG4gICAgICAgIC4uLmFjYyxcbiAgICAgICAgW2l0ZW1dOiBmdW5jW2luZGV4XSxcbiAgICAgIH07XG4gICAgfSwge30pO1xuICAgIHJldHVybiBkYXRhO1xuICB9XG5cbiAgcmVuZGVyKCkge1xuICAgIGlmICh0eXBlb2YgaXNTU1IgPT09IFwidW5kZWZpbmVkXCIpIHtcbiAgICAgIGNvbnN0IHsgY2FjaGUgPSBmYWxzZSB9ID0gdGhpcy5wcm9wcztcbiAgICAgIHRoaXMubG9hZEZyb21DYWNoZShjYWNoZSk7XG4gICAgICByZXR1cm4gdGhpcy5pc1JlYWR5ID8gdGhpcy5wcm9wcy5jaGlsZHJlbiA6IHRoaXMucHJvcHMuZmFsbGJhY2s7XG4gICAgfSBlbHNlIHtcbiAgICAgIHRoaXMuc3NyKCk7XG4gICAgICByZXR1cm4gdGhpcy5wcm9wcy5jaGlsZHJlbjtcbiAgICB9XG4gIH1cbn1cbiIsImltcG9ydCB7IENvbXBvbmVudCwgaCwgcmVuZGVyIH0gZnJvbSBcIi4uL2NvcmVcIjtcblxuZXhwb3J0IGNsYXNzIFZpc2libGUgZXh0ZW5kcyBDb21wb25lbnQge1xuICBwcml2YXRlIGlzVmlzaWJsZSA9IGZhbHNlO1xuXG4gIG1vdW50KCkge1xuICAgIGNvbnN0IG9ic2VydmVyID0gbmV3IEludGVyc2VjdGlvbk9ic2VydmVyKFxuICAgICAgKGVudHJpZXMsIG9ic2VydmVyKSA9PiB7XG4gICAgICAgIGZvciAoY29uc3QgZW50cnkgb2YgZW50cmllcykge1xuICAgICAgICAgIGlmIChlbnRyeS5pc0ludGVyc2VjdGluZykge1xuICAgICAgICAgICAgb2JzZXJ2ZXIuZGlzY29ubmVjdCgpO1xuICAgICAgICAgICAgdGhpcy5pc1Zpc2libGUgPSB0cnVlO1xuICAgICAgICAgICAgdGhpcy51cGRhdGUoKTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH0sXG4gICAgICB7IHRocmVzaG9sZDogWzAsIDFdIH0sXG4gICAgKTtcblxuICAgIG9ic2VydmVyLm9ic2VydmUodGhpcy5lbGVtZW50c1swXSk7XG4gIH1cbiAgcmVuZGVyKCkge1xuICAgIGlmICh0aGlzLmlzVmlzaWJsZSkge1xuICAgICAgaWYgKHRoaXMucHJvcHMub25WaXNpYmxlKSB7XG4gICAgICAgIHRoaXMucHJvcHMub25WaXNpYmxlKCk7XG4gICAgICB9XG4gICAgICByZXR1cm4gcmVuZGVyKHRoaXMucHJvcHMuY29tcG9uZW50IHx8IHRoaXMucHJvcHMuY2hpbGRyZW5bMF0pO1xuICAgIH0gZWxzZSB7XG4gICAgICByZXR1cm4gaChcImRpdlwiLCB7IFwiZGF0YS12aXNpYmxlXCI6IGZhbHNlLCB2aXNpYmlsaXR5OiBcImhpZGRlblwiIH0pO1xuICAgIH1cbiAgfVxufVxuIiwiaW1wb3J0IHsgcmVuZGVyRWxlbWVudCB9IGZyb20gXCIuXCI7XG5cbmV4cG9ydCBmdW5jdGlvbiBhcHBlbmRDaGlsZHJlbihlbGVtZW50OiBIVE1MRWxlbWVudCwgY2hpbGRyZW46IGFueSkge1xuICBpZiAoIUFycmF5LmlzQXJyYXkoY2hpbGRyZW4pKSB7XG4gICAgYXBwZW5kQ2hpbGRyZW4oZWxlbWVudCwgW2NoaWxkcmVuXSk7XG4gICAgcmV0dXJuO1xuICB9XG4gIGlmICh0eXBlb2YgY2hpbGRyZW4gPT09IFwib2JqZWN0XCIpIHtcbiAgICBjaGlsZHJlbiA9IEFycmF5LmZyb20oY2hpbGRyZW4pO1xuICB9XG5cbiAgZm9yIChjb25zdCBjaGlsZCBvZiBjaGlsZHJlbikge1xuICAgIGlmIChBcnJheS5pc0FycmF5KGNoaWxkKSkge1xuICAgICAgYXBwZW5kQ2hpbGRyZW4oZWxlbWVudCwgY2hpbGQpO1xuICAgIH0gZWxzZSB7XG4gICAgICBsZXQgY29tcCA9IHJlbmRlckVsZW1lbnQoY2hpbGQpIGFzIEhUTUxFbGVtZW50O1xuXG4gICAgICBpZiAoY29tcCkge1xuICAgICAgICBpZiAoQXJyYXkuaXNBcnJheShjb21wKSkge1xuICAgICAgICAgIGFwcGVuZENoaWxkcmVuKGVsZW1lbnQsIGNvbXApO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIGVsZW1lbnQuYXBwZW5kQ2hpbGQoXG4gICAgICAgICAgICAhY29tcD8ubm9kZVR5cGUgPyBkb2N1bWVudC5jcmVhdGVUZXh0Tm9kZShcIlwiICsgY29tcCkgOiBjb21wLFxuICAgICAgICAgICk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG4gIH1cbn1cbiIsImltcG9ydCB7IG5leHRUaWNrLCBvbk5vZGVSZW1vdmUgfSBmcm9tIFwiLi4vdXRpbHNcIjtcbmltcG9ydCB7IHJlbmRlckVsZW1lbnQsIF9zdGF0ZSB9IGZyb20gXCIuXCI7XG5cbmV4cG9ydCBjbGFzcyBDb21wb25lbnQ8UCBleHRlbmRzIE9iamVjdCA9IGFueSwgUyA9IGFueT4ge1xuICBwdWJsaWMgaWQ6IHN0cmluZyB8IG51bWJlcjtcbiAgcHJpdmF0ZSBfc2tpcFVubW91dDogYm9vbGVhbjtcbiAgcHJpdmF0ZSBfaGFzVW5tb3VudGVkOiBib29sZWFuO1xuICBwcml2YXRlIF9lbGVtZW50czogSFRNTEVsZW1lbnRbXSA9IFtdO1xuXG4gIGNvbnN0cnVjdG9yKHB1YmxpYyBwcm9wczogUCkge1xuICAgIHRoaXMuaWQgPSB0aGlzLl9nZXRIYXNoKCk7XG4gIH1cblxuICBwdWJsaWMgcmVuZGVyKF91cGRhdGU/OiBhbnkpIHt9XG4gIHB1YmxpYyBtb3VudCgpIHt9XG4gIHB1YmxpYyBiZWZvcmVNb3VudCgpIHt9XG4gIHB1YmxpYyBkZXN0cm95KCkge31cbiAgcHJpdmF0ZSBfZ2V0SGFzaCgpOiBhbnkge31cblxuICBzZXRTdGF0ZShzdGF0ZTogUywgc2hvdWxkVXBkYXRlOiBib29sZWFuID0gZmFsc2UpIHtcbiAgICBpZiAoc3RhdGUgJiYgdHlwZW9mIHN0YXRlID09PSBcIm9iamVjdFwiKSB7XG4gICAgICB0aGlzLnN0YXRlID0geyAuLi50aGlzLnN0YXRlLCAuLi5zdGF0ZSB9O1xuICAgIH0gZWxzZSB0aGlzLnN0YXRlID0gc3RhdGU7XG5cbiAgICBpZiAoc2hvdWxkVXBkYXRlKSB0aGlzLnVwZGF0ZSgpO1xuICB9XG5cbiAgZ2V0IHN0YXRlKCkge1xuICAgIHJldHVybiBfc3RhdGUuZ2V0KHRoaXMuaWQpO1xuICB9XG5cbiAgc2V0IHN0YXRlKHZhbHVlOiBTKSB7XG4gICAgX3N0YXRlLnNldCh0aGlzLmlkLCB2YWx1ZSk7XG4gIH1cblxuICBzZXQgaW5pdGlhbFN0YXRlKHN0YXRlOiBTKSB7XG4gICAgaWYgKCF0aGlzLnN0YXRlKSB0aGlzLnN0YXRlID0gc3RhdGU7XG4gIH1cblxuICBwdWJsaWMgZ2V0IGVsZW1lbnRzKCkge1xuICAgIHJldHVybiB0aGlzLl9lbGVtZW50cztcbiAgfVxuXG4gIHB1YmxpYyBzZXQgZWxlbWVudHMoZWxlbWVudHM6IEhUTUxFbGVtZW50W10pIHtcbiAgICBpZiAoIUFycmF5LmlzQXJyYXkoZWxlbWVudHMpKSB7XG4gICAgICBlbGVtZW50cyA9IFtlbGVtZW50c107XG4gICAgfVxuXG4gICAgZm9yIChjb25zdCBlbCBvZiBlbGVtZW50cykge1xuICAgICAgdGhpcy5fZWxlbWVudHMucHVzaChlbCk7XG4gICAgfVxuICB9XG5cbiAgcHJpdmF0ZSBhZGROb2RlUmVtb3ZlTGlzdGVuZXIoKSB7XG4gICAgaWYgKC9eW157XSt7XFxzK30kL2dtLnRlc3QodGhpcy5kZXN0cm95LnRvU3RyaW5nKCkpKSByZXR1cm47XG5cbiAgICBvbk5vZGVSZW1vdmUodGhpcy5lbGVtZW50c1swXSwgKCkgPT4ge1xuICAgICAgaWYgKCF0aGlzLl9za2lwVW5tb3V0KSB7XG4gICAgICAgIHRoaXMuZGVzdHJveSgpO1xuICAgICAgfVxuICAgIH0pO1xuICB9XG5cbiAgLy9AdHMtaWdub3JlXG4gIHByaXZhdGUgX21vdW50KCkge1xuICAgIHRoaXMuYWRkTm9kZVJlbW92ZUxpc3RlbmVyKCk7XG4gICAgdGhpcy5tb3VudCgpO1xuICB9XG5cbiAgcHJpdmF0ZSBfZGVzdG9yeSgpIHtcbiAgICBpZiAodGhpcy5faGFzVW5tb3VudGVkKSByZXR1cm47XG4gICAgdGhpcy5kZXN0cm95KCk7XG4gICAgdGhpcy5faGFzVW5tb3VudGVkID0gdHJ1ZTtcbiAgfVxuXG4gIHB1YmxpYyB1cGRhdGUodXBkYXRlPzogYW55KSB7XG4gICAgdGhpcy5fc2tpcFVubW91dCA9IHRydWU7XG5cbiAgICBjb25zdCBvbGRFbGVtZW50cyA9IFsuLi50aGlzLmVsZW1lbnRzXTtcblxuICAgIHRoaXMuX2VsZW1lbnRzID0gW107XG5cbiAgICBsZXQgZWwgPSB0aGlzLnJlbmRlcih1cGRhdGUpO1xuICAgIGVsID0gcmVuZGVyRWxlbWVudChlbCk7XG4gICAgdGhpcy5lbGVtZW50cyA9IChlbCBhcyB1bmtub3duKSBhcyBIVE1MRWxlbWVudFtdO1xuXG4gICAgY29uc3QgcGFyZW50ID0gb2xkRWxlbWVudHNbMF0ucGFyZW50RWxlbWVudCBhcyBIVE1MRWxlbWVudDtcblxuICAgIGlmICghcGFyZW50KVxuICAgICAgY29uc29sZS53YXJuKFwiQ29tcG9uZW50IG5lZWRzIGEgcGFyZW50IGVsZW1lbnQgdG8gZ2V0IHVwZGF0ZWQhXCIpO1xuXG4gICAgZm9yIChjb25zdCBjaGlsZCBvZiB0aGlzLmVsZW1lbnRzKSB7XG4gICAgICBwYXJlbnQuaW5zZXJ0QmVmb3JlKGNoaWxkLCBvbGRFbGVtZW50c1swXSk7XG4gICAgfVxuXG4gICAgZm9yIChsZXQgY2hpbGQgb2Ygb2xkRWxlbWVudHMpIHtcbiAgICAgIGNoaWxkLnJlbW92ZSgpO1xuICAgICAgLy9AdHMtaWdub3JlXG4gICAgICBjaGlsZCA9IG51bGw7XG4gICAgfVxuXG4gICAgdGhpcy5hZGROb2RlUmVtb3ZlTGlzdGVuZXIoKTtcblxuICAgIG5leHRUaWNrKCgpID0+IHtcbiAgICAgIHRoaXMuX3NraXBVbm1vdXQgPSBmYWxzZTtcbiAgICAgIGlmICghdGhpcy5lbGVtZW50c1swXS5pc0Nvbm5lY3RlZCkge1xuICAgICAgICB0aGlzLl9kZXN0b3J5KCk7XG4gICAgICB9XG4gICAgfSk7XG4gIH1cbn1cbiIsImV4cG9ydCBmdW5jdGlvbiBjcmVhdGVDb250ZXh0KGN0eDogYW55KSB7XG4gIGxldCBfY3R4ID0gY3R4O1xuICByZXR1cm4ge1xuICAgIFByb3ZpZGVyKHByb3BzOiBhbnkpIHtcbiAgICAgIGlmIChwcm9wcy52YWx1ZSkge1xuICAgICAgICBfY3R4ID0gcHJvcHMudmFsdWU7XG4gICAgICAgIHJldHVybiBwcm9wcy5jaGlsZHJlbjtcbiAgICAgIH1cbiAgICB9LFxuICAgIENvbnN1bWVyKHByb3BzOiBhbnkpIHtcbiAgICAgIHJldHVybiB7XG4gICAgICAgIGNvbXBvbmVudDogcHJvcHMuY2hpbGRyZW5bMF0oX2N0eCksXG4gICAgICAgIHByb3BzOiB7XG4gICAgICAgICAgLi4ucHJvcHMsXG4gICAgICAgICAgY29udGV4dDogX2N0eCxcbiAgICAgICAgfSxcbiAgICAgIH07XG4gICAgfSxcbiAgICBnZXQoKSB7XG4gICAgICByZXR1cm4gX2N0eDtcbiAgICB9LFxuICAgIHNldChjdHg6IGFueSkge1xuICAgICAgX2N0eCA9IGN0eDtcbiAgICB9LFxuICB9O1xufVxuIiwiZXhwb3J0IGNvbnN0IEZyYWdtZW50ID0gKHByb3BzOiBhbnkpID0+IHtcbiAgcmV0dXJuIHByb3BzLmNoaWxkcmVuO1xufTtcbiIsImltcG9ydCB7IGlzRXZlbnQgfSBmcm9tIFwiLi4vdXRpbHNcIjtcbmltcG9ydCB7IGFwcGVuZENoaWxkcmVuLCBoTlMgfSBmcm9tIFwiLlwiO1xuXG5leHBvcnQgZnVuY3Rpb24gaChjb21wOiBhbnksIHByb3BzOiBhbnksIC4uLmNoaWxkcmVuOiBhbnlbXSk6IGFueSB7XG4gIGlmICh0eXBlb2YgY29tcCAhPT0gXCJzdHJpbmdcIikge1xuICAgIHJldHVybiB7IGNvbXBvbmVudDogY29tcCwgcHJvcHM6IHsgLi4ucHJvcHMsIGNoaWxkcmVuOiBjaGlsZHJlbiB9IH07XG4gIH1cblxuICBsZXQgcmVmO1xuXG4gIGNvbnN0IGVsZW1lbnQgPVxuICAgIGNvbXAgPT09IFwic3ZnXCJcbiAgICAgID8gKGhOUyhcInN2Z1wiKSBhcyBTVkdFbGVtZW50KVxuICAgICAgOiAoZG9jdW1lbnQuY3JlYXRlRWxlbWVudChjb21wKSBhcyBIVE1MRWxlbWVudCk7XG5cbiAgZm9yIChjb25zdCBwIGluIHByb3BzKSB7XG4gICAgaWYgKHAgPT09IFwic3R5bGVcIiAmJiB0eXBlb2YgcHJvcHNbcF0gPT09IFwib2JqZWN0XCIpIHtcbiAgICAgIGNvbnN0IHN0eWxlcyA9IE9iamVjdC5rZXlzKHByb3BzW3BdKVxuICAgICAgICAubWFwKChrKSA9PiBgJHtrfToke3Byb3BzW3BdW2tdfWApXG4gICAgICAgIC5qb2luKFwiO1wiKVxuICAgICAgICAucmVwbGFjZSgvW0EtWl0vZywgKG1hdGNoKSA9PiBgLSR7bWF0Y2gudG9Mb3dlckNhc2UoKX1gKTtcbiAgICAgIHByb3BzW3BdID0gc3R5bGVzICsgXCI7XCI7XG4gICAgfVxuXG4gICAgaWYgKHAgPT09IFwicmVmXCIpIHtcbiAgICAgIHJlZiA9IHByb3BzW3BdO1xuICAgIH1cblxuICAgIGlmIChpc0V2ZW50KGVsZW1lbnQsIHAudG9Mb3dlckNhc2UoKSkpIHtcbiAgICAgIGVsZW1lbnQuYWRkRXZlbnRMaXN0ZW5lcihwLnRvTG93ZXJDYXNlKCkuc3Vic3RyaW5nKDIpLCAoZTogRXZlbnQpID0+XG4gICAgICAgIHByb3BzW3BdKGUpLFxuICAgICAgKTtcbiAgICB9IGVsc2Uge1xuICAgICAgZWxlbWVudC5zZXRBdHRyaWJ1dGUocCwgcHJvcHNbcF0pO1xuICAgIH1cbiAgfVxuICBhcHBlbmRDaGlsZHJlbihlbGVtZW50IGFzIGFueSwgY2hpbGRyZW4pO1xuXG4gIGlmIChyZWYpIHtcbiAgICByZWYoZWxlbWVudCk7XG4gIH1cbiAgLy8gQHRzLWlnbm9yZVxuICBpZiAoZWxlbWVudC5zc3IpIHJldHVybiBlbGVtZW50LnNzcjtcbiAgcmV0dXJuIGVsZW1lbnQ7XG59XG4iLCJpbXBvcnQgeyByZW5kZXIgfSBmcm9tIFwiLlwiO1xuXG5leHBvcnQgZnVuY3Rpb24gaHlkcmF0ZShcbiAgY29tcG9uZW50OiBhbnksXG4gIHBhcmVudDogSFRNTEVsZW1lbnQgfCBudWxsID0gbnVsbCxcbiAgcmVtb3ZlQ2hpbGROb2RlcyA9IHRydWUsXG4pIHtcbiAgcmV0dXJuIHJlbmRlcihjb21wb25lbnQsIHBhcmVudCwgcmVtb3ZlQ2hpbGROb2Rlcyk7XG59XG4iLCJleHBvcnQgeyBhcHBlbmRDaGlsZHJlbiB9IGZyb20gXCIuL2FwcGVuZENoaWxkcmVuXCI7XG5leHBvcnQgeyBoIH0gZnJvbSBcIi4vaFwiO1xuZXhwb3J0IHsgcmVuZGVyIH0gZnJvbSBcIi4vcmVuZGVyXCI7XG5leHBvcnQgeyByZW5kZXJFbGVtZW50LCBoTlMgfSBmcm9tIFwiLi9yZW5kZXJFbGVtZW50XCI7XG5leHBvcnQgeyBoeWRyYXRlIH0gZnJvbSBcIi4vaHlkcmF0ZVwiO1xuZXhwb3J0IHsgQ29tcG9uZW50IH0gZnJvbSBcIi4vY29tcG9uZW50XCI7XG5leHBvcnQgeyBGcmFnbWVudCB9IGZyb20gXCIuL2ZyYWdtZW50XCI7XG5leHBvcnQgeyBjcmVhdGVDb250ZXh0IH0gZnJvbSBcIi4vY29udGV4dFwiO1xuZXhwb3J0IHsgX3N0YXRlLCBfY2xlYXJTdGF0ZSB9IGZyb20gXCIuL3N0YXRlXCI7XG5leHBvcnQgeyBsYXp5SHlkcmF0aW9uIH0gZnJvbSBcIi4vbGF6eUh5ZHJhdGlvblwiO1xuZXhwb3J0IHsgd2l0aFN0eWxlcyB9IGZyb20gXCIuL3dpdGhTdHlsZXNcIjtcbiIsImltcG9ydCB7IFZpc2libGUgfSBmcm9tIFwiLi4vY29tcG9uZW50c1wiO1xuaW1wb3J0IHsgaCwgaHlkcmF0ZSB9IGZyb20gXCIuXCI7XG5cbmV4cG9ydCBmdW5jdGlvbiBsYXp5SHlkcmF0aW9uKFxuICBjb21wb25lbnQ6IGFueSxcbiAgcGFyZW50OiBhbnksXG4gIHJlbW92ZUNoaWxkTm9kZXMgPSB0cnVlLFxuKSB7XG4gIGNvbnN0IGNtcCA9IGgoVmlzaWJsZSwgbnVsbCwgY29tcG9uZW50KTtcbiAgcmV0dXJuIGh5ZHJhdGUoY21wLCBwYXJlbnQsIHJlbW92ZUNoaWxkTm9kZXMpO1xufVxuIiwiaW1wb3J0IHsgYXBwZW5kQ2hpbGRyZW4sIHJlbmRlckVsZW1lbnQgfSBmcm9tIFwiLlwiO1xuXG5leHBvcnQgZnVuY3Rpb24gcmVuZGVyKFxuICBjbXA6IGFueSxcbiAgcGFyZW50OiBIVE1MRWxlbWVudCB8IGFueSA9IG51bGwsXG4gIHJlbW92ZUNoaWxkTm9kZXMgPSB0cnVlLFxuKSB7XG4gIGxldCBlbCA9IHJlbmRlckVsZW1lbnQoY21wKTtcblxuICBpZiAoQXJyYXkuaXNBcnJheShlbCkpIHtcbiAgICBlbCA9IGVsLm1hcCgoYykgPT4gcmVuZGVyRWxlbWVudChjKSk7XG4gICAgaWYgKGVsLmxlbmd0aCA9PT0gMSkge1xuICAgICAgZWwgPSBlbFswXTtcbiAgICB9XG4gIH1cblxuICBpZiAocGFyZW50KSB7XG4gICAgaWYgKHJlbW92ZUNoaWxkTm9kZXMpIHtcbiAgICAgIHJlbW92ZUFsbENoaWxkTm9kZXMocGFyZW50KTtcbiAgICB9XG5cbiAgICBpZiAoZWwgJiYgcGFyZW50LmlkICYmIHBhcmVudC5pZCA9PT0gZWwuaWQgJiYgcGFyZW50LnBhcmVudEVsZW1lbnQpIHtcbiAgICAgIHBhcmVudC5wYXJlbnRFbGVtZW50LnJlcGxhY2VDaGlsZChlbCwgcGFyZW50KTtcbiAgICB9IGVsc2Uge1xuICAgICAgaWYgKEFycmF5LmlzQXJyYXkoZWwpKSB7XG4gICAgICAgIGVsLm1hcCgoYykgPT4gYXBwZW5kQ2hpbGRyZW4ocGFyZW50LCByZW5kZXJFbGVtZW50KGMpKSk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBhcHBlbmRDaGlsZHJlbihwYXJlbnQsIHJlbmRlckVsZW1lbnQoZWwpKTtcbiAgICAgIH1cbiAgICAgIGlmIChwYXJlbnQuc3NyKSByZXR1cm4gcGFyZW50LnNzcjtcbiAgICAgIHJldHVybiBwYXJlbnQ7XG4gICAgfVxuICB9IGVsc2Uge1xuICAgIGlmICh0eXBlb2YgaXNTU1IgPT09IFwiYm9vbGVhblwiICYmIGlzU1NSICYmICFBcnJheS5pc0FycmF5KGVsKSkgcmV0dXJuIFtlbF07XG4gICAgcmV0dXJuIGVsO1xuICB9XG59XG5cbmV4cG9ydCBmdW5jdGlvbiByZW1vdmVBbGxDaGlsZE5vZGVzKGVsOiBIVE1MRWxlbWVudCkge1xuICB3aGlsZSAoZWwuZmlyc3RDaGlsZCkge1xuICAgIGVsLnJlbW92ZUNoaWxkKGVsLmZpcnN0Q2hpbGQpO1xuICB9XG59XG4iLCJpbXBvcnQgeyBuZXh0VGljaywgc3RyVG9IYXNoIH0gZnJvbSBcIi4uL3V0aWxzXCI7XG5cbmV4cG9ydCBmdW5jdGlvbiByZW5kZXJFbGVtZW50KGNtcDogYW55KTogYW55IHtcbiAgaWYgKFtcInVuZGVmaW5lZFwiIHx8IFwib2JqZWN0XCJdLmluY2x1ZGVzKHR5cGVvZiBjbXApKSB7XG4gICAgcmV0dXJuIFtdO1xuICB9XG4gIGlmIChjbXAgPT0gbnVsbCkge1xuICAgIHJldHVybiBbXTtcbiAgfVxuXG4gIGlmICh0eXBlb2YgY21wID09PSBcInN0cmluZ1wiKSB7XG4gICAgcmV0dXJuIGNtcDtcbiAgfVxuXG4gIGlmICh0eXBlb2YgY21wID09PSBcIm51bWJlclwiKSB7XG4gICAgcmV0dXJuIFwiXCIgKyBjbXA7XG4gIH1cblxuICBpZiAoY21wPy50YWdOYW1lICYmIGNtcC50YWdOYW1lLnRvTG93ZXJDYXNlKCkgPT09IFwic3ZnXCIpIHtcbiAgICByZXR1cm4gU1ZHKHsgY2hpbGRyZW46IFtjbXBdIH0pO1xuICB9XG5cbiAgaWYgKGNtcD8udGFnTmFtZSkge1xuICAgIHJldHVybiBjbXA7XG4gIH1cblxuICBpZiAoXG4gICAgY21wICYmXG4gICAgY21wLmNvbXBvbmVudCAmJlxuICAgIGNtcC5jb21wb25lbnQucHJvdG90eXBlICYmXG4gICAgY21wLmNvbXBvbmVudC5wcm90b3R5cGUuY29uc3RydWN0b3IgJiZcbiAgICAvXmNsYXNzXFxzLy50ZXN0KEZ1bmN0aW9uLnByb3RvdHlwZS50b1N0cmluZy5jYWxsKGNtcC5jb21wb25lbnQpKVxuICApIHtcbiAgICByZXR1cm4gcmVuZGVyQ2xhc3NDb21wb25lbnQoY21wKTtcbiAgfVxuXG4gIGlmIChjbXAuY29tcG9uZW50ICYmIHR5cGVvZiBjbXAuY29tcG9uZW50ID09PSBcImZ1bmN0aW9uXCIpIHtcbiAgICByZXR1cm4gcmVuZGVyRnVuY3Rpb25hbENvbXBvbmVudChjbXApO1xuICB9XG5cbiAgaWYgKEFycmF5LmlzQXJyYXkoY21wKSkge1xuICAgIHJldHVybiBjbXAubWFwKChjKSA9PiByZW5kZXJFbGVtZW50KGMpKS5mbGF0KCk7XG4gIH1cblxuICBpZiAodHlwZW9mIGNtcCA9PT0gXCJmdW5jdGlvblwiKSByZXR1cm4gcmVuZGVyRWxlbWVudChjbXAoKSk7XG5cbiAgaWYgKGNtcD8uY29tcG9uZW50Py50YWdOYW1lICYmIHR5cGVvZiBjbXAuY29tcG9uZW50LnRhZ05hbWUgPT09IFwic3RyaW5nXCIpXG4gICAgcmV0dXJuIHJlbmRlckVsZW1lbnQoY21wLmNvbXBvbmVudCk7XG5cbiAgaWYgKEFycmF5LmlzQXJyYXkoY21wLmNvbXBvbmVudCkpIHJldHVybiByZW5kZXJFbGVtZW50KGNtcC5jb21wb25lbnQpO1xuXG4gIGlmIChjbXAuY29tcG9uZW50KSByZXR1cm4gcmVuZGVyRWxlbWVudChjbXAuY29tcG9uZW50KTtcbn1cblxuZnVuY3Rpb24gcmVuZGVyRnVuY3Rpb25hbENvbXBvbmVudChjbXA6IGFueSkge1xuICBjb25zdCB7IGNvbXBvbmVudCwgcHJvcHMgfSA9IGNtcDtcbiAgY29uc3QgZWwgPSBjb21wb25lbnQocHJvcHMpO1xuICByZXR1cm4gcmVuZGVyRWxlbWVudChlbCk7XG59XG5cbmZ1bmN0aW9uIHJlbmRlckNsYXNzQ29tcG9uZW50KGNtcDogYW55KSB7XG4gIGNvbnN0IHsgY29tcG9uZW50LCBwcm9wcyB9ID0gY21wO1xuXG4gIGNvbnN0IGhhc2ggPSBzdHJUb0hhc2goY29tcG9uZW50LnRvU3RyaW5nKCkpO1xuXG4gIGNvbXBvbmVudC5wcm90b3R5cGUuX2dldEhhc2ggPSAoKSA9PiBoYXNoO1xuXG4gIGNvbnN0IENvbXBvbmVudCA9IG5ldyBjb21wb25lbnQocHJvcHMpO1xuXG4gIENvbXBvbmVudC5iZWZvcmVNb3VudCgpO1xuXG4gIGxldCBlbCA9IENvbXBvbmVudC5yZW5kZXIoKTtcbiAgZWwgPSByZW5kZXJFbGVtZW50KGVsKTtcblxuICBDb21wb25lbnQuZWxlbWVudHMgPSBlbDtcblxuICBpZiAocHJvcHM/LnJlZikgcHJvcHMucmVmKENvbXBvbmVudCk7XG4gIGlmICh0eXBlb2YgaXNTU1IgPT09IFwidW5kZWZpbmVkXCIpIHtcbiAgICBuZXh0VGljaygoKSA9PiB7XG4gICAgICBDb21wb25lbnQuX21vdW50KCk7XG4gICAgfSk7XG4gIH1cbiAgcmV0dXJuIGVsO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gaE5TKHRhZzogc3RyaW5nKSB7XG4gIHJldHVybiBkb2N1bWVudC5jcmVhdGVFbGVtZW50TlMoXG4gICAgXCJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2Z1wiLFxuICAgIHRhZyxcbiAgKSBhcyBTVkdFbGVtZW50O1xufVxuXG5mdW5jdGlvbiBTVkcocHJvcHM6IGFueSkge1xuICBjb25zdCBjaGlsZCA9IHByb3BzLmNoaWxkcmVuWzBdIGFzIFNWR0VsZW1lbnQ7XG4gIGNvbnN0IGF0dHJzID0gY2hpbGQuYXR0cmlidXRlcztcblxuICBjb25zdCBzdmcgPSBoTlMoXCJzdmdcIikgYXMgU1ZHRWxlbWVudDtcblxuICBmb3IgKGNvbnN0IGF0dHIgb2YgYXR0cnMpIHtcbiAgICBzdmcuc2V0QXR0cmlidXRlKGF0dHIubmFtZSwgYXR0ci52YWx1ZSk7XG4gIH1cblxuICBzdmcuaW5uZXJIVE1MID0gY2hpbGQuaW5uZXJIVE1MO1xuXG4gIHJldHVybiBzdmc7XG59XG4iLCJleHBvcnQgY29uc3QgX3N0YXRlID0gbmV3IE1hcCgpO1xuXG5leHBvcnQgZnVuY3Rpb24gX2NsZWFyU3RhdGUoKSB7XG4gIF9zdGF0ZS5jbGVhcigpO1xufVxuIiwiaW1wb3J0IHsgSGVsbWV0IH0gZnJvbSBcIi4uL2NvbXBvbmVudHNcIjtcbmltcG9ydCB7IENvbXBvbmVudCwgaCwgRnJhZ21lbnQgfSBmcm9tIFwiLlwiO1xuXG5leHBvcnQgZnVuY3Rpb24gd2l0aFN0eWxlcyhzdHlsZXM6IGFueSk6IGFueSB7XG4gIHJldHVybiBmdW5jdGlvbiAoV3JhcHBlZENvbXBvbmVudDogYW55KSB7XG4gICAgcmV0dXJuIGNsYXNzIGV4dGVuZHMgQ29tcG9uZW50IHtcbiAgICAgIHJlbmRlcigpIHtcbiAgICAgICAgY29uc3QgeyBjaGlsZHJlbiwgLi4ucmVzdCB9ID0gdGhpcy5wcm9wcztcblxuICAgICAgICBjb25zdCBoZWxtZXQgPSBoKEhlbG1ldCwgbnVsbCwgaChcInN0eWxlXCIsIG51bGwsIHN0eWxlcy50b1N0cmluZygpKSk7XG5cbiAgICAgICAgY29uc3QgY29tcG9uZW50ID0gY2hpbGRyZW4ubGVuZ3RoXG4gICAgICAgICAgPyBoKFdyYXBwZWRDb21wb25lbnQsIHsgLi4ucmVzdCB9LCBjaGlsZHJlbilcbiAgICAgICAgICA6IGgoV3JhcHBlZENvbXBvbmVudCwgeyAuLi50aGlzLnByb3BzIH0pO1xuXG4gICAgICAgIHJldHVybiBoKEZyYWdtZW50LCBudWxsLCBoZWxtZXQsIGNvbXBvbmVudCk7XG4gICAgICB9XG4gICAgfTtcbiAgfTtcbn1cbiIsImV4cG9ydCB7IG5leHRUaWNrIH0gZnJvbSBcIi4vdXRpbHNcIjtcbmV4cG9ydCB7IHJlbmRlclRvU3RyaW5nIH0gZnJvbSBcIi4vc3NyXCI7XG5leHBvcnQge1xuICBoLFxuICByZW5kZXIsXG4gIGh5ZHJhdGUsXG4gIEZyYWdtZW50LFxuICBDb21wb25lbnQsXG4gIHdpdGhTdHlsZXMsXG4gIGNyZWF0ZUNvbnRleHQsXG4gIGxhenlIeWRyYXRpb24sXG59IGZyb20gXCIuL2NvcmVcIjtcbmV4cG9ydCB7XG4gIFN1c3BlbnNlLFxuICBMaW5rLFxuICBTd2l0Y2gsXG4gIFJvdXRlLFxuICBWaWRhTGluayxcbiAgSW1nLFxuICBIZWxtZXQsXG4gIFZpc2libGUsXG59IGZyb20gXCIuL2NvbXBvbmVudHNcIjtcblxuaW1wb3J0IHsgaCwgcmVuZGVyLCBoeWRyYXRlLCBsYXp5SHlkcmF0aW9uLCBGcmFnbWVudCB9IGZyb20gXCIuL2NvcmVcIjtcbmltcG9ydCB7IHJlbmRlclRvU3RyaW5nIH0gZnJvbSBcIi4vc3NyXCI7XG5leHBvcnQgZGVmYXVsdCB7XG4gIHJlbmRlcixcbiAgaHlkcmF0ZSxcbiAgaCxcbiAgbGF6eUh5ZHJhdGlvbixcbiAgcmVuZGVyVG9TdHJpbmcsXG4gIEZyYWdtZW50LFxufTtcbiIsImltcG9ydCB7IEhUTUxFbGVtZW50U1NSIH0gZnJvbSBcIi5cIjtcblxuZXhwb3J0IGNsYXNzIERvY3VtZW50U1NSIHtcbiAgYm9keTogSFRNTEVsZW1lbnRTU1I7XG4gIGhlYWQ6IEhUTUxFbGVtZW50U1NSO1xuXG4gIGNvbnN0cnVjdG9yKCkge1xuICAgIHRoaXMuYm9keSA9IHRoaXMuY3JlYXRlRWxlbWVudChcImJvZHlcIik7XG4gICAgdGhpcy5oZWFkID0gdGhpcy5jcmVhdGVFbGVtZW50KFwiaGVhZFwiKTtcbiAgfVxuXG4gIGNyZWF0ZUVsZW1lbnQodGFnOiBzdHJpbmcpIHtcbiAgICByZXR1cm4gbmV3IEhUTUxFbGVtZW50U1NSKHRhZyk7XG4gIH1cblxuICBjcmVhdGVFbGVtZW50TlMoX1VSSTogc3RyaW5nLCB0YWc6IHN0cmluZykge1xuICAgIHJldHVybiBuZXcgSFRNTEVsZW1lbnRTU1IodGFnKTtcbiAgfVxuXG4gIGNyZWF0ZVRleHROb2RlKHRleHQ6IHN0cmluZykge1xuICAgIHJldHVybiB0ZXh0O1xuICB9XG5cbiAgcXVlcnlTZWxlY3RvcihfcXVlcnk6IGFueSkge1xuICAgIHJldHVybiB1bmRlZmluZWQ7XG4gIH1cbn1cbiIsImV4cG9ydCBjbGFzcyBIVE1MRWxlbWVudFNTUiB7XG4gIHNzcjogc3RyaW5nO1xuICBzZWxmQ2xvc2luZzogYm9vbGVhbjtcbiAgdGFnTmFtZTogc3RyaW5nO1xuXG4gIGNvbnN0cnVjdG9yKHRhZzogc3RyaW5nKSB7XG4gICAgdGhpcy50YWdOYW1lID0gdGFnO1xuICAgIGNvbnN0IHNlbGZDbG9zaW5nID0gW1xuICAgICAgXCJhcmVhXCIsXG4gICAgICBcImJhc2VcIixcbiAgICAgIFwiYnJcIixcbiAgICAgIFwiY29sXCIsXG4gICAgICBcImVtYmVkXCIsXG4gICAgICBcImhyXCIsXG4gICAgICBcImltZ1wiLFxuICAgICAgXCJpbnB1dFwiLFxuICAgICAgXCJsaW5rXCIsXG4gICAgICBcIm1ldGFcIixcbiAgICAgIFwicGFyYW1cIixcbiAgICAgIFwic291cmNlXCIsXG4gICAgICBcInRyYWNrXCIsXG4gICAgICBcIndiclwiLFxuICAgIF07XG5cbiAgICBpZiAoc2VsZkNsb3NpbmcuaW5kZXhPZih0YWcpID49IDApIHtcbiAgICAgIHRoaXMuc3NyID0gYDwke3RhZ30gLz5gO1xuICAgICAgdGhpcy5zZWxmQ2xvc2luZyA9IHRydWU7XG4gICAgfSBlbHNlIHtcbiAgICAgIHRoaXMuc3NyID0gYDwke3RhZ30+PC8ke3RhZ30+YDtcbiAgICB9XG4gIH1cblxuICBnZXQgb3V0ZXJIVE1MKCkge1xuICAgIHJldHVybiB0aGlzLmlubmVyVGV4dDtcbiAgfVxuXG4gIGdldCBpbm5lckhUTUwoKSB7XG4gICAgY29uc3QgcmVnID0gLyhePFthLXpdKz4pKFtcXHNcXFNdKikoPFxcL1thLXpdKz4kKS9nbTtcbiAgICByZXR1cm4gcmVnLmV4ZWModGhpcy5zc3IpPy5bMl0gPz8gXCJcIjtcbiAgfVxuXG4gIGdldCBpbm5lclRleHQoKSB7XG4gICAgY29uc3QgcmVnID0gLyhePFtePl0rPikoLispPyg8XFwvW2Etel0rPiR8XFwvPiQpL2dtO1xuICAgIHJldHVybiByZWcuZXhlYyh0aGlzLnNzcik/LlsyXSA/PyBcIlwiO1xuICB9XG5cbiAgc2V0IGlubmVyVGV4dCh0ZXh0KSB7XG4gICAgY29uc3QgcmVnID0gLyhePFtePl0rPikoLispPyg8XFwvW2Etel0rPiR8XFwvPiQpL2dtO1xuICAgIHRoaXMuc3NyID0gdGhpcy5zc3IucmVwbGFjZShyZWcsIGAkMSR7dGV4dH0kM2ApO1xuICB9XG5cbiAgZ2V0IGF0dHJpYnV0ZXMoKSB7XG4gICAgcmV0dXJuIHsgbGVuZ3RoOiAxIH07XG4gIH1cblxuICBnZXQgY2hpbGRyZW4oKSB7XG4gICAgY29uc3QgcmVnID0gLzwoW2Etel0rKSgoPyE8XFwvXFwxKS4pKjxcXC9cXDE+L2dtcztcblxuICAgIGNvbnN0IGFycmF5ID0gW107XG5cbiAgICBsZXQgbWF0Y2g7XG5cbiAgICB3aGlsZSAoKG1hdGNoID0gcmVnLmV4ZWModGhpcy5pbm5lckhUTUwpKSAhPT0gbnVsbCkge1xuICAgICAgYXJyYXkucHVzaChtYXRjaFswXS5yZXBsYWNlKC9bXFxzXSsvZ20sIFwiIFwiKSk7XG4gICAgfVxuXG4gICAgcmV0dXJuIGFycmF5O1xuICB9XG4gIHNldEF0dHJpYnV0ZU5TKG5hbWU6IHN0cmluZywgdmFsdWU6IGFueSkge1xuICAgIHRoaXMuc2V0QXR0cmlidXRlKG5hbWUsIHZhbHVlKTtcbiAgfVxuXG4gIHNldEF0dHJpYnV0ZShuYW1lOiBzdHJpbmcsIHZhbHVlOiBhbnkpIHtcbiAgICBpZiAodGhpcy5zZWxmQ2xvc2luZylcbiAgICAgIHRoaXMuc3NyID0gdGhpcy5zc3IucmVwbGFjZShcbiAgICAgICAgLyhePFthLXpdKyApKC4rKS9nbSxcbiAgICAgICAgYCQxJHtuYW1lfT1cIiR7dmFsdWV9XCIgJDJgLFxuICAgICAgKTtcbiAgICBlbHNlXG4gICAgICB0aGlzLnNzciA9IHRoaXMuc3NyLnJlcGxhY2UoLyhePFtePl0rKSguKykvZ20sIGAkMSAke25hbWV9PVwiJHt2YWx1ZX1cIiQyYCk7XG4gIH1cblxuICBhcHBlbmRDaGlsZChjaGlsZDogYW55KSB7XG4gICAgY29uc3QgYXBwZW5kID0gY2hpbGQuc3NyID8gY2hpbGQuc3NyIDogY2hpbGQ7XG5cbiAgICBjb25zdCBpbmRleCA9IHRoaXMuc3NyLmxhc3RJbmRleE9mKFwiPC9cIik7XG5cbiAgICB0aGlzLnNzciA9XG4gICAgICB0aGlzLnNzci5zdWJzdHJpbmcoMCwgaW5kZXgpICsgYXBwZW5kICsgdGhpcy5zc3Iuc3Vic3RyaW5nKGluZGV4KTtcbiAgfVxuXG4gIHJlcGxhY2VDaGlsZChuZXdDaGlsZDogYW55LCBfb2xkQ2hpbGQ/OiBhbnkpIHtcbiAgICB0aGlzLmlubmVyVGV4dCA9IG5ld0NoaWxkLnNzcjtcbiAgfVxuXG4gIGFkZEV2ZW50TGlzdGVuZXIoX3R5cGU6IGFueSwgX2xpc3RlbmVyOiBhbnksIF9vcHRpb25zPzogYW55KSB7fVxufVxuIiwiZXhwb3J0IHsgcmVuZGVyVG9TdHJpbmcgfSBmcm9tIFwiLi9yZW5kZXJUb1N0cmluZ1wiO1xuZXhwb3J0IHsgRG9jdW1lbnRTU1IgfSBmcm9tIFwiLi9kb2N1bWVudFwiO1xuZXhwb3J0IHsgSFRNTEVsZW1lbnRTU1IgfSBmcm9tIFwiLi9lbGVtZW50c1wiO1xuIiwiaW1wb3J0IHsgRG9jdW1lbnRTU1IgfSBmcm9tIFwiLlwiO1xuaW1wb3J0IHsgcmVuZGVyLCBfc3RhdGUgfSBmcm9tIFwiLi4vY29yZVwiO1xuaW1wb3J0IHsgZGV0ZWN0U1NSIH0gZnJvbSBcIi4uL3V0aWxzXCI7XG5cbmdsb2JhbFRoaXMuaXNTU1IgPSBkZXRlY3RTU1IoKSA9PT0gdHJ1ZSA/IHRydWUgOiB1bmRlZmluZWQ7XG5nbG9iYWxUaGlzLl9uYW5vID0geyBpc1NTUiwgbG9jYXRpb246IHsgcGF0aG5hbWU6IFwiL1wiIH0gfTtcblxuZXhwb3J0IGZ1bmN0aW9uIGluaXRTU1IocGF0aG5hbWU6IHN0cmluZyA9IFwiL1wiKSB7XG4gIF9uYW5vLmxvY2F0aW9uID0geyBwYXRobmFtZSB9O1xuICAvLyBAdHMtaWdub3JlXG4gIGdsb2JhbFRoaXMuZG9jdW1lbnQgPSBpc1NTUiA/IG5ldyBEb2N1bWVudFNTUigpIDogd2luZG93LmRvY3VtZW50O1xufVxuXG5leHBvcnQgZnVuY3Rpb24gcmVuZGVyVG9TdHJpbmcoXG4gIGNvbXBvbmVudDogYW55LFxuICBvcHRpb25zOiB7IHBhdGhuYW1lPzogc3RyaW5nOyBjbGVhclN0YXRlPzogYm9vbGVhbiB9ID0ge30sXG4pIHtcbiAgY29uc3QgeyBwYXRobmFtZSwgY2xlYXJTdGF0ZSA9IHRydWUgfSA9IG9wdGlvbnM7XG5cbiAgaW5pdFNTUihwYXRobmFtZSk7XG4gIGlmIChjbGVhclN0YXRlKSBfc3RhdGUuY2xlYXIoKTtcblxuICByZXR1cm4gcmVuZGVyKGNvbXBvbmVudCwgbnVsbCwgdHJ1ZSkuam9pbihcIlwiKSBhcyBzdHJpbmc7XG59XG4iLCJleHBvcnQgY29uc3QgbmV4dFRpY2sgPVxuICB0eXBlb2YgUHJvbWlzZSA9PT0gXCJmdW5jdGlvblwiXG4gICAgPyBQcm9taXNlLnByb3RvdHlwZS50aGVuLmJpbmQoUHJvbWlzZS5yZXNvbHZlKCkpXG4gICAgOiBzZXRUaW1lb3V0O1xuXG5leHBvcnQgZnVuY3Rpb24gaXNFdmVudChlbDogYW55LCBwcm9wOiBzdHJpbmcpIHtcbiAgaWYgKCF+cHJvcC5pbmRleE9mKFwib25cIikpIHtcbiAgICByZXR1cm4gZmFsc2U7XG4gIH1cbiAgaWYgKGVsLnNzcikgcmV0dXJuIHRydWU7XG4gIHJldHVybiBbXCJmdW5jdGlvblwiLCBcIm9iamVjdFwiXS5pbmNsdWRlcyh0eXBlb2YgZWxbcHJvcF0pO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gZGV0ZWN0U1NSKCkge1xuICAvL0B0cy1pZ25vcmVcbiAgcmV0dXJuIHR5cGVvZiBEZW5vICE9PSBcInVuZGVmaW5lZFwiIHx8IHR5cGVvZiB3aW5kb3cgPT09IFwidW5kZWZpbmVkXCI7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBzdHJUb0hhc2goc3RyOiBzdHJpbmcpIHtcbiAgbGV0IGhhc2ggPSAwO1xuXG4gIGlmICghc3RyLmxlbmd0aCkgcmV0dXJuIGhhc2g7XG4gIGZvciAobGV0IGkgPSAwOyBpIDwgc3RyLmxlbmd0aDsgaSsrKSB7XG4gICAgY29uc3QgY2hhciA9IHN0ci5jaGFyQ29kZUF0KGkpO1xuICAgIGhhc2ggPSAoaGFzaCA8PCA1KSAtIGhhc2ggKyBjaGFyO1xuICAgIGhhc2ggfD0gMDtcbiAgfVxuICByZXR1cm4gTWF0aC5hYnMoaGFzaCkudG9TdHJpbmcoMzIpO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gaXNEZXNjZW5kYW50KGRlc2NlbmRhbnQ6IGFueSwgcm9vdDogYW55KTogYm9vbGVhbiB7XG4gIHJldHVybiAoXG4gICAgZGVzY2VuZGFudCAmJlxuICAgIChkZXNjZW5kYW50ID09PSByb290IHx8IGlzRGVzY2VuZGFudChkZXNjZW5kYW50LnBhcmVudE5vZGUsIHJvb3QpKVxuICApO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gb25Ob2RlUmVtb3ZlKGVsOiBIVE1MRWxlbWVudCwgY2FsbGJhY2s6ICgpID0+IGFueSkge1xuICBsZXQgb2JzZXJ2ZXIgPSBuZXcgTXV0YXRpb25PYnNlcnZlcigobXV0TGlzdCkgPT4ge1xuICAgIGZvciAoY29uc3QgbXV0IG9mIG11dExpc3QpIHtcbiAgICAgIG11dC5yZW1vdmVkTm9kZXMuZm9yRWFjaCgocmVtb3ZlZE5vZGUpID0+IHtcbiAgICAgICAgaWYgKGlzRGVzY2VuZGFudChlbCwgcmVtb3ZlZE5vZGUpKSB7XG4gICAgICAgICAgY2FsbGJhY2soKTtcbiAgICAgICAgICBpZiAob2JzZXJ2ZXIpIHtcbiAgICAgICAgICAgIG9ic2VydmVyLmRpc2Nvbm5lY3QoKTtcbiAgICAgICAgICAgIC8vIEB0cy1pZ25vcmVcbiAgICAgICAgICAgIG9ic2VydmVyID0gdW5kZWZpbmVkO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgfVxuICB9KTtcbiAgb2JzZXJ2ZXIub2JzZXJ2ZShkb2N1bWVudCwge1xuICAgIGNoaWxkTGlzdDogdHJ1ZSxcbiAgICBzdWJ0cmVlOiB0cnVlLFxuICB9KTtcbiAgcmV0dXJuIG9ic2VydmVyO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gdGFzayhmdW5jOiAoKSA9PiB2b2lkKSB7XG4gIHJldHVybiBzZXRUaW1lb3V0KGZ1bmMsIDApO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gbm9kZVRvU3RyaW5nKG5vZGU6IGFueSkge1xuICBjb25zdCB0ZW1wID0gZG9jdW1lbnQuY3JlYXRlRG9jdW1lbnRGcmFnbWVudCgpO1xuICB0ZW1wLmFwcGVuZENoaWxkKG5vZGUuY2xvbmVOb2RlKHRydWUpKTtcbiAgcmV0dXJuIHRlbXAudG9TdHJpbmcoKTtcbn1cbiIsIi8vIFRoZSBtb2R1bGUgY2FjaGVcbnZhciBfX3dlYnBhY2tfbW9kdWxlX2NhY2hlX18gPSB7fTtcblxuLy8gVGhlIHJlcXVpcmUgZnVuY3Rpb25cbmZ1bmN0aW9uIF9fd2VicGFja19yZXF1aXJlX18obW9kdWxlSWQpIHtcblx0Ly8gQ2hlY2sgaWYgbW9kdWxlIGlzIGluIGNhY2hlXG5cdHZhciBjYWNoZWRNb2R1bGUgPSBfX3dlYnBhY2tfbW9kdWxlX2NhY2hlX19bbW9kdWxlSWRdO1xuXHRpZiAoY2FjaGVkTW9kdWxlICE9PSB1bmRlZmluZWQpIHtcblx0XHRyZXR1cm4gY2FjaGVkTW9kdWxlLmV4cG9ydHM7XG5cdH1cblx0Ly8gQ3JlYXRlIGEgbmV3IG1vZHVsZSAoYW5kIHB1dCBpdCBpbnRvIHRoZSBjYWNoZSlcblx0dmFyIG1vZHVsZSA9IF9fd2VicGFja19tb2R1bGVfY2FjaGVfX1ttb2R1bGVJZF0gPSB7XG5cdFx0Ly8gbm8gbW9kdWxlLmlkIG5lZWRlZFxuXHRcdC8vIG5vIG1vZHVsZS5sb2FkZWQgbmVlZGVkXG5cdFx0ZXhwb3J0czoge31cblx0fTtcblxuXHQvLyBFeGVjdXRlIHRoZSBtb2R1bGUgZnVuY3Rpb25cblx0X193ZWJwYWNrX21vZHVsZXNfX1ttb2R1bGVJZF0uY2FsbChtb2R1bGUuZXhwb3J0cywgbW9kdWxlLCBtb2R1bGUuZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXyk7XG5cblx0Ly8gUmV0dXJuIHRoZSBleHBvcnRzIG9mIHRoZSBtb2R1bGVcblx0cmV0dXJuIG1vZHVsZS5leHBvcnRzO1xufVxuXG4iLCJpbXBvcnQge1xuICBTdXNwZW5zZSxcbiAgTGluayxcbiAgU3dpdGNoLFxuICBSb3V0ZSxcbiAgVmlkYUxpbmssXG4gIEltZyxcbiAgSGVsbWV0LFxuICBWaXNpYmxlLFxuICBoLFxuICBuZXh0VGljayxcbiAgcmVuZGVyLFxuICBoeWRyYXRlLFxuICByZW5kZXJUb1N0cmluZyxcbiAgRnJhZ21lbnQsXG4gIENvbXBvbmVudCxcbiAgd2l0aFN0eWxlcyxcbiAgY3JlYXRlQ29udGV4dCxcbiAgbGF6eUh5ZHJhdGlvbixcbn0gZnJvbSBcIi4uL1wiO1xuXG5leHBvcnQgZGVmYXVsdCB7XG4gIFN1c3BlbnNlLFxuICBMaW5rLFxuICBTd2l0Y2gsXG4gIFJvdXRlLFxuICBWaWRhTGluayxcbiAgSW1nLFxuICBIZWxtZXQsXG4gIFZpc2libGUsXG4gIGgsXG4gIG5leHRUaWNrLFxuICByZW5kZXIsXG4gIGh5ZHJhdGUsXG4gIHJlbmRlclRvU3RyaW5nLFxuICBGcmFnbWVudCxcbiAgQ29tcG9uZW50LFxuICB3aXRoU3R5bGVzLFxuICBjcmVhdGVDb250ZXh0LFxuICBsYXp5SHlkcmF0aW9uLFxufTtcbiJdLCJzb3VyY2VSb290IjoiIn0=
